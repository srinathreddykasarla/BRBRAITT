!function(window,undefined){function createFlags(flags){var object=flagsCache[flags]={},i,length;for(flags=flags.split(/\s+/),i=0,length=flags.length;length>i;i++)object[flags[i]]=!0;return object}function dataAttr(elem,key,data){if(data===undefined&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if(data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:jQuery.isNumeric(data)?parseFloat(data):rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){for(var name in obj)if("data"!==name||!jQuery.isEmptyObject(obj[name])){if("toJSON"!==name)return!1}else;return!0}function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",defer=jQuery._data(elem,deferDataKey);if(!(!defer||"queue"!==src&&jQuery._data(elem,queueDataKey)||"mark"!==src&&jQuery._data(elem,markDataKey)))setTimeout(function(){if(!jQuery._data(elem,queueDataKey)&&!jQuery._data(elem,markDataKey))jQuery.removeData(elem,deferDataKey,!0),defer.fire()},0)}function returnFalse(){return!1}function returnTrue(){return!0}function isDisconnected(node){return!node||!node.parentNode||11===node.parentNode.nodeType}function winnow(elements,qualifier,keep){if(qualifier=qualifier||0,jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep});else if(qualifier.nodeType)return jQuery.grep(elements,function(elem,i){return elem===qualifier===keep});else if("string"==typeof qualifier){var filtered=jQuery.grep(elements,function(elem){return 1===elem.nodeType});if(isSimple.test(qualifier))return jQuery.filter(qualifier,filtered,!keep);else qualifier=jQuery.filter(qualifier,filtered)}return jQuery.grep(elements,function(elem,i){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}function root(elem,cur){return jQuery.nodeName(elem,"table")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle,curData.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type+(events[type][i].namespace?".":"")+events[type][i].namespace,events[type][i],events[type][i].data)}if(curData.data)curData.data=jQuery.extend({},curData.data)}}function cloneFixAttributes(src,dest){var nodeName;if(1===dest.nodeType){if(dest.clearAttributes)dest.clearAttributes();if(dest.mergeAttributes)dest.mergeAttributes(src);if(nodeName=dest.nodeName.toLowerCase(),"object"===nodeName)dest.outerHTML=src.outerHTML;else if("input"===nodeName&&("checkbox"===src.type||"radio"===src.type)){if(src.checked)dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value)dest.value=src.value}else if("option"===nodeName)dest.selected=src.defaultSelected;else if("input"===nodeName||"textarea"===nodeName)dest.defaultValue=src.defaultValue;dest.removeAttribute(jQuery.expando)}}function getAll(elem){if("undefined"!=typeof elem.getElementsByTagName)return elem.getElementsByTagName("*");else if("undefined"!=typeof elem.querySelectorAll)return elem.querySelectorAll("*");else return[]}function fixDefaultChecked(elem){if("checkbox"===elem.type||"radio"===elem.type)elem.defaultChecked=elem.checked}function findInputs(elem){var nodeName=(elem.nodeName||"").toLowerCase();if("input"===nodeName)fixDefaultChecked(elem);else if("script"!==nodeName&&"undefined"!=typeof elem.getElementsByTagName)jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}function shimCloneNode(elem){var div=document.createElement("div");return safeFragment.appendChild(div),div.innerHTML=elem.outerHTML,div.firstChild}function evalScript(i,elem){if(elem.src)jQuery.ajax({url:elem.src,async:!1,dataType:"script"});else jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"/*$0*/"));if(elem.parentNode)elem.parentNode.removeChild(elem)}function getWH(elem,name,extra){var val="width"===name?elem.offsetWidth:elem.offsetHeight,which="width"===name?cssWidth:cssHeight,i=0,len=which.length;if(val>0){if("border"!==extra)for(;len>i;i++){if(!extra)val-=parseFloat(jQuery.css(elem,"padding"+which[i]))||0;if("margin"===extra)val+=parseFloat(jQuery.css(elem,extra+which[i]))||0;else val-=parseFloat(jQuery.css(elem,"border"+which[i]+"Width"))||0}return val+"px"}if(val=curCSS(elem,name,name),0>val||null==val)val=elem.style[name]||0;if(val=parseFloat(val)||0,extra)for(;len>i;i++){if(val+=parseFloat(jQuery.css(elem,"padding"+which[i]))||0,"padding"!==extra)val+=parseFloat(jQuery.css(elem,"border"+which[i]+"Width"))||0;if("margin"===extra)val+=parseFloat(jQuery.css(elem,extra+which[i]))||0}return val+"px"}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if("string"!=typeof dataTypeExpression)func=dataTypeExpression,dataTypeExpression="*";if(jQuery.isFunction(func))for(var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;length>i;i++){if(dataType=dataTypes[i],placeBefore=/^\+/.test(dataType))dataType=dataType.substr(1)||"*";list=structure[dataType]=structure[dataType]||[],list[placeBefore?"unshift":"push"](func)}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0],inspected=inspected||{},inspected[dataType]=!0;for(var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters,selection;length>i&&(executeOnly||!selection);i++)if(selection=list[i](options,originalOptions,jqXHR),"string"==typeof selection)if(!executeOnly||inspected[selection])selection=undefined;else options.dataTypes.unshift(selection),selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected);if((executeOnly||!selection)&&!inspected["*"])selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected);return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)if(src[key]!==undefined)(flatOptions[key]?target:deep||(deep={}))[key]=src[key];if(deep)jQuery.extend(!0,target,deep)}function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix))add(prefix,v);else buildParams(prefix+"["+("object"==typeof v||jQuery.isArray(v)?i:"")+"]",v,traditional,add)});else if(!traditional&&null!=obj&&"object"==typeof obj)for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add);else add(prefix,obj)}function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields)if(type in responses)jqXHR[responseFields[type]]=responses[type];for(;"*"===dataTypes[0];)if(dataTypes.shift(),ct===undefined)ct=s.mimeType||jqXHR.getResponseHeader("content-type");if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType)firstDataType=type}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0])dataTypes.unshift(finalDataType);return responses[finalDataType]}}function ajaxConvert(s,response){if(s.dataFilter)response=s.dataFilter(response,s.dataType);var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;length>i;i++){if(1===i)for(key in s.converters)if("string"==typeof key)converters[key.toLowerCase()]=s.converters[key];if(prev=current,current=dataTypes[i],"*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conversion=prev+" "+current,conv=converters[conversion]||converters["* "+current],!conv){conv2=undefined;for(conv1 in converters)if(tmp=conv1.split(" "),tmp[0]===prev||"*"===tmp[0])if(conv2=converters[tmp[1]+" "+current]){if(conv1=converters[conv1],conv1===!0)conv=conv2;else if(conv2===!0)conv=conv1;break}}if(!conv&&!conv2)jQuery.error("No conversion from "+conversion.replace(" "," to "));if(conv!==!0)response=conv?conv(response):conv2(conv1(response))}}return response}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function createFxNow(){return setTimeout(clearFxNow,0),fxNow=jQuery.now()}function clearFxNow(){fxNow=undefined}function genFx(type,num){var obj={};return jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type}),obj}function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery("<"+nodeName+">").appendTo(body),display=elem.css("display");if(elem.remove(),"none"===display||""===display){if(!iframe)iframe=document.createElement("iframe"),iframe.frameBorder=iframe.width=iframe.height=0;if(body.appendChild(iframe),!iframeDoc||!iframe.createElement)iframeDoc=(iframe.contentWindow||iframe.contentDocument).document,iframeDoc.write(("CSS1Compat"===document.compatMode?"<!doctype html>":"")+"<html><body>"),iframeDoc.close();elem=iframeDoc.createElement(nodeName),iframeDoc.body.appendChild(elem),display=jQuery.css(elem,"display"),body.removeChild(iframe)}elemdisplay[nodeName]=display}return elemdisplay[nodeName]}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType?elem.defaultView||elem.parentWindow:!1}var document=window.document,navigator=window.navigator,location=window.location,jQuery=function(){function doScrollCheck(){if(!jQuery.isReady){try{document.documentElement.doScroll("left")}catch(e){return setTimeout(doScrollCheck,1),void 0}jQuery.ready()}}var jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/gi,rmsPrefix=/^-ms-/,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},userAgent=navigator.userAgent,browserMatch,readyList,DOMContentLoaded,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};if(jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector)return this;if(selector.nodeType)return this.context=this[0]=selector,this.length=1,this;if("body"===selector&&!context&&document.body)return this.context=document,this[0]=document.body,this.selector=selector,this.length=1,this;if("string"==typeof selector){if("<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3)match=[null,selector,null];else match=quickExpr.exec(selector);if(match&&(match[1]||!context))if(match[1]){if(context=context instanceof jQuery?context[0]:context,doc=context?context.ownerDocument||context:document,ret=rsingleTag.exec(selector))if(jQuery.isPlainObject(context))selector=[document.createElement(ret[1])],jQuery.fn.attr.call(selector,context,!0);else selector=[doc.createElement(ret[1])];else ret=jQuery.buildFragment([match[1]],[doc]),selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes;return jQuery.merge(this,selector)}else{if(elem=document.getElementById(match[2]),elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}else if(!context||context.jquery)return(context||rootjQuery).find(selector);else return this.constructor(context).find(selector)}else if(jQuery.isFunction(selector))return rootjQuery.ready(selector);if(selector.selector!==undefined)this.selector=selector.selector,this.context=selector.context;return jQuery.makeArray(selector,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return null==num?this.toArray():0>num?this[this.length+num]:this[num]},pushStack:function(elems,name,selector){var ret=this.constructor();if(jQuery.isArray(elems))push.apply(ret,elems);else jQuery.merge(ret,elems);if(ret.prevObject=this,ret.context=this.context,"find"===name)ret.selector=this.selector+(this.selector?" ":"")+selector;else if(name)ret.selector=this.selector+"."+name+"("+selector+")";return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.bindReady(),readyList.add(fn),this},eq:function(i){return i=+i,-1===i?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;if("boolean"==typeof target)deep=target,target=arguments[1]||{},i=2;if("object"!=typeof target&&!jQuery.isFunction(target))target={};if(length===i)target=this,--i;for(;length>i;i++)if(null!=(options=arguments[i]))for(name in options)if(src=target[name],copy=options[name],target!==copy){if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray)copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[];else clone=src&&jQuery.isPlainObject(src)?src:{};target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined)target[name]=copy}else;return target},jQuery.extend({noConflict:function(deep){if(window.$===jQuery)window.$=_$;if(deep&&window.jQuery===jQuery)window.jQuery=_jQuery;return jQuery},isReady:!1,readyWait:1,holdReady:function(hold){if(hold)jQuery.readyWait++;else jQuery.ready(!0)},ready:function(wait){if(wait===!0&&!--jQuery.readyWait||wait!==!0&&!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready,1);if(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0)return;if(readyList.fireWith(document,[jQuery]),jQuery.fn.trigger)jQuery(document).trigger("ready").off("ready")}},bindReady:function(){if(!readyList){if(readyList=jQuery.Callbacks("once memory"),"complete"===document.readyState)return setTimeout(jQuery.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",jQuery.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",jQuery.ready);var toplevel=!1;try{toplevel=null==window.frameElement}catch(e){}if(document.documentElement.doScroll&&toplevel)doScrollCheck()}}},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return obj&&"object"==typeof obj&&"setInterval"in obj},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return null==obj?String(obj):class2type[toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var key;for(key in obj);return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj)return!1;return!0},error:function(msg){throw new Error(msg)},parseJSON:function(data){if("string"!=typeof data||!data)return null;if(data=jQuery.trim(data),window.JSON&&window.JSON.parse)return window.JSON.parse(data);if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return new Function("return "+data)();else return jQuery.error("Invalid JSON: "+data),void 0},parseXML:function(data){var xml,tmp;try{if(window.DOMParser)tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml");else xml=new ActiveXObject("Microsoft.XMLDOM"),xml.async="false",xml.loadXML(data)}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length)jQuery.error("Invalid XML: "+data);return xml},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data))(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args)if(isObj){for(name in object)if(callback.apply(object[name],args)===!1)break}else for(;length>i&&callback.apply(object[i++],args)!==!1;);else if(isObj){for(name in object)if(callback.call(object[name],name,object[name])===!1)break}else for(;length>i&&callback.call(object[i],i,object[i++])!==!1;);return object},trim:trim?function(text){return null==text?"":trim.call(text)}:function(text){return null==text?"":text.toString().replace(trimLeft,"").replace(trimRight,"")},makeArray:function(array,results){var ret=results||[];if(null!=array){var type=jQuery.type(array);if(null==array.length||"string"===type||"function"===type||"regexp"===type||jQuery.isWindow(array))push.call(ret,array);else jQuery.merge(ret,array)}return ret},inArray:function(elem,array,i){var len;if(array){if(indexOf)return indexOf.call(array,elem,i);for(len=array.length,i=i?0>i?Math.max(0,len+i):i:0;len>i;i++)if(i in array&&array[i]===elem)return i}return-1},merge:function(first,second){var i=first.length,j=0;if("number"==typeof second.length)for(var l=second.length;l>j;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;length>i;i++)if(retVal=!!callback(elems[i],i),inv!==retVal)ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&"number"==typeof length&&(length>0&&elems[0]&&elems[length-1]||0===length||jQuery.isArray(elems));if(isArray){for(;length>i;i++)if(value=callback(elems[i],i,arg),null!=value)ret[ret.length]=value}else for(key in elems)if(value=callback(elems[key],key,arg),null!=value)ret[ret.length]=value;return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){if("string"==typeof context){var tmp=fn[context];context=fn,fn=tmp}if(!jQuery.isFunction(fn))return undefined;var args=slice.call(arguments,2),proxy=function(){return fn.apply(context,args.concat(slice.call(arguments)))};return proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++,proxy},access:function(elems,key,value,exec,fn,pass){var length=elems.length;if("object"==typeof key){for(var k in key)jQuery.access(elems,k,key[k],exec,fn,value);return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;length>i;i++)fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);return elems}return length?fn(elems[0],key):undefined},now:function(){return(new Date).getTime()},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},sub:function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(!0,jQuerySub,this),jQuerySub.superclass=this,jQuerySub.fn=jQuerySub.prototype=this(),jQuerySub.fn.constructor=jQuerySub,jQuerySub.sub=this.sub,jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub))context=jQuerySub(context);return jQuery.fn.init.call(this,selector,context,rootjQuerySub)},jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub},browser:{}}),jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),browserMatch=jQuery.uaMatch(userAgent),browserMatch.browser)jQuery.browser[browserMatch.browser]=!0,jQuery.browser.version=browserMatch.version;if(jQuery.browser.webkit)jQuery.browser.safari=!0;if(rnotwhite.test("Â "))trimLeft=/^[\s\xA0]+/,trimRight=/[\s\xA0]+$/;if(rootjQuery=jQuery(document),document.addEventListener)DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),jQuery.ready()};else if(document.attachEvent)DOMContentLoaded=function(){if("complete"===document.readyState)document.detachEvent("onreadystatechange",DOMContentLoaded),jQuery.ready()};return jQuery}(),flagsCache={};jQuery.Callbacks=function(flags){flags=flags?flagsCache[flags]||createFlags(flags):{};var list=[],stack=[],memory,firing,firingStart,firingLength,firingIndex,add=function(args){var i,length,elem,type,actual;for(i=0,length=args.length;length>i;i++)if(elem=args[i],type=jQuery.type(elem),"array"===type)add(elem);else if("function"===type)if(!flags.unique||!self.has(elem))list.push(elem)},fire=function(context,args){for(args=args||[],memory=!flags.memory||[context,args],firing=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(context,args)===!1&&flags.stopOnFalse){memory=!0;break}if(firing=!1,list)if(!flags.once){if(stack&&stack.length)memory=stack.shift(),self.fireWith(memory[0],memory[1])}else if(memory===!0)self.disable();else list=[]},self={add:function(){if(list){var length=list.length;if(add(arguments),firing)firingLength=list.length;else if(memory&&memory!==!0)firingStart=length,fire(memory[0],memory[1])}return this},remove:function(){if(list)for(var args=arguments,argIndex=0,argLength=args.length;argLength>argIndex;argIndex++)for(var i=0;i<list.length;i++)if(args[argIndex]===list[i]){if(firing)if(firingLength>=i)if(firingLength--,firingIndex>=i)firingIndex--;if(list.splice(i--,1),flags.unique)break}return this},has:function(fn){if(list)for(var i=0,length=list.length;length>i;i++)if(fn===list[i])return!0;return!1},empty:function(){return list=[],this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){if(stack=undefined,!memory||memory===!0)self.disable();return this},locked:function(){return!stack},fireWith:function(context,args){if(stack)if(firing){if(!flags.once)stack.push([context,args])}else if(!flags.once||!memory)fire(context,args);return this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!memory}};return self};var sliceDeferred=[].slice;jQuery.extend({Deferred:function(func){var doneList=jQuery.Callbacks("once memory"),failList=jQuery.Callbacks("once memory"),progressList=jQuery.Callbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){return deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks),this},always:function(){return deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments),this},pipe:function(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var fn=data[0],action=data[1],returned;if(jQuery.isFunction(fn))deferred[handler](function(){if(returned=fn.apply(this,arguments),returned&&jQuery.isFunction(returned.promise))returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify);else newDefer[action+"With"](this===deferred?newDefer:this,[returned])});else deferred[handler](newDefer[action])})}).promise()},promise:function(obj){if(null==obj)obj=promise;else for(var key in promise)obj[key]=promise[key];return obj}},deferred=promise.promise({}),key;for(key in lists)deferred[key]=lists[key].fire,deferred[key+"With"]=lists[key].fireWith;if(deferred.done(function(){state="resolved"},failList.disable,progressList.lock).fail(function(){state="rejected"},doneList.disable,progressList.lock),func)func.call(deferred,deferred);return deferred},when:function(firstParam){function resolveFunc(i){return function(value){if(args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value,!--count)deferred.resolveWith(deferred,args)}}function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value,deferred.notifyWith(promise,pValues)}}var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,pCount=length,deferred=1>=length&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();if(length>1){for(;length>i;i++)if(args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise))args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i));else--count;if(!count)deferred.resolveWith(deferred,args)}else if(deferred!==firstParam)deferred.resolveWith(deferred,length?[firstParam]:[]);return promise}}),jQuery.support=function(){var support,all,a,select,opt,input,marginDiv,fragment,tds,events,eventName,i,isSupported,div=document.createElement("div"),documentElement=document.documentElement;if(div.setAttribute("className","t"),div.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0],!all||!all.length||!a)return{};select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],support={leadingWhitespace:3===div.firstChild.nodeType,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:"/a"===a.getAttribute("href"),opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:"on"===input.value,optSelected:opt.selected,getSetAttribute:"t"!==div.className,enctype:!!document.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,select.disabled=!0,support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=!1}if(!div.addEventListener&&div.attachEvent&&div.fireEvent)div.attachEvent("onclick",function(){support.noCloneEvent=!1}),div.cloneNode(!0).fireEvent("onclick");if(input=document.createElement("input"),input.value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value,input.setAttribute("checked","checked"),div.appendChild(input),fragment=document.createDocumentFragment(),fragment.appendChild(div.lastChild),support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked,support.appendChecked=input.checked,fragment.removeChild(input),fragment.appendChild(div),div.innerHTML="",window.getComputedStyle)marginDiv=document.createElement("div"),marginDiv.style.width="0",marginDiv.style.marginRight="0",div.style.width="2px",div.appendChild(marginDiv),support.reliableMarginRight=0===(parseInt((window.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0);if(div.attachEvent)for(i in{submit:1,change:1,focusin:1}){if(eventName="on"+i,isSupported=eventName in div,!isSupported)div.setAttribute(eventName,"return;"),isSupported="function"==typeof div[eventName];support[i+"Bubbles"]=isSupported}return fragment.removeChild(div),fragment=select=opt=marginDiv=div=input=null,jQuery(function(){var container,outer,inner,table,td,offsetSupport,conMarginTop,ptlm,vb,style,html,body=document.getElementsByTagName("body")[0];if(body){if(conMarginTop=1,ptlm="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",vb="visibility:hidden;border:0;",style="style='"+ptlm+"border:5px solid #000;padding:0;'",html="<div "+style+"><div></div></div>"+"<table "+style+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",container=document.createElement("div"),container.style.cssText=vb+"width:0;height:0;position:static;top:0;margin-top:"+conMarginTop+"px",body.insertBefore(container,body.firstChild),div=document.createElement("div"),container.appendChild(div),div.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",tds=div.getElementsByTagName("td"),isSupported=0===tds[0].offsetHeight,tds[0].style.display="",tds[1].style.display="none",support.reliableHiddenOffsets=isSupported&&0===tds[0].offsetHeight,div.innerHTML="",div.style.width=div.style.paddingLeft="1px",jQuery.boxModel=support.boxModel=2===div.offsetWidth,"undefined"!=typeof div.style.zoom)div.style.display="inline",div.style.zoom=1,support.inlineBlockNeedsLayout=2===div.offsetWidth,div.style.display="",div.innerHTML="<div style='width:4px;'></div>",support.shrinkWrapBlocks=2!==div.offsetWidth;div.style.cssText=ptlm+vb,div.innerHTML=html,outer=div.firstChild,inner=outer.firstChild,td=outer.nextSibling.firstChild.firstChild,offsetSupport={doesNotAddBorder:5!==inner.offsetTop,doesAddBorderForTableAndCells:5===td.offsetTop},inner.style.position="fixed",inner.style.top="20px",offsetSupport.fixedPosition=20===inner.offsetTop||15===inner.offsetTop,inner.style.position=inner.style.top="",outer.style.overflow="hidden",outer.style.position="relative",offsetSupport.subtractsBorderForOverflowNotVisible=-5===inner.offsetTop,offsetSupport.doesNotIncludeMarginInBodyOffset=body.offsetTop!==conMarginTop,body.removeChild(container),div=container=null,jQuery.extend(support,offsetSupport)}}),support}();var rbrace=/^(?:\{.*\}|\[.*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(elem){return elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando],!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(jQuery.acceptData(elem)){var privateCache,thisCache,ret,internalKey=jQuery.expando,getByName="string"==typeof name,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey,isEvents="events"===name;if(id&&cache[id]&&(isEvents||pvt||cache[id].data)||!getByName||data!==undefined){if(!id)if(isNode)elem[internalKey]=id=++jQuery.uuid;
else id=internalKey;if(!cache[id])if(cache[id]={},!isNode)cache[id].toJSON=jQuery.noop;if("object"==typeof name||"function"==typeof name)if(pvt)cache[id]=jQuery.extend(cache[id],name);else cache[id].data=jQuery.extend(cache[id].data,name);if(privateCache=thisCache=cache[id],!pvt){if(!thisCache.data)thisCache.data={};thisCache=thisCache.data}if(data!==undefined)thisCache[jQuery.camelCase(name)]=data;if(isEvents&&!thisCache[name])return privateCache.events;if(getByName){if(ret=thisCache[name],null==ret)ret=thisCache[jQuery.camelCase(name)]}else ret=thisCache;return ret}}},removeData:function(elem,name,pvt){if(jQuery.acceptData(elem)){var thisCache,i,l,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:internalKey;if(cache[id]){if(name)if(thisCache=pvt?cache[id]:cache[id].data){if(!jQuery.isArray(name))if(name in thisCache)name=[name];else if(name=jQuery.camelCase(name),name in thisCache)name=[name];else name=name.split(" ");for(i=0,l=name.length;l>i;i++)delete thisCache[name[i]];if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache))return}if(!pvt)if(delete cache[id].data,!isEmptyDataObject(cache[id]))return;if(jQuery.support.deleteExpando||!cache.setInterval)delete cache[id];else cache[id]=null;if(isNode)if(jQuery.support.deleteExpando)delete elem[internalKey];else if(elem.removeAttribute)elem.removeAttribute(internalKey);else elem[internalKey]=null}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,!0)},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match)return!(match===!0||elem.getAttribute("classid")!==match)}return!0}}),jQuery.fn.extend({data:function(key,value){var parts,attr,name,data=null;if("undefined"==typeof key){if(this.length)if(data=jQuery.data(this[0]),1===this[0].nodeType&&!jQuery._data(this[0],"parsedAttrs")){attr=this[0].attributes;for(var i=0,l=attr.length;l>i;i++)if(name=attr[i].name,0===name.indexOf("data-"))name=jQuery.camelCase(name.substring(5)),dataAttr(this[0],name,data[name]);jQuery._data(this[0],"parsedAttrs",!0)}return data}else if("object"==typeof key)return this.each(function(){jQuery.data(this,key)});if(parts=key.split("."),parts[1]=parts[1]?"."+parts[1]:"",value===undefined){if(data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]),data===undefined&&this.length)data=jQuery.data(this[0],key),data=dataAttr(this[0],key,data);return data===undefined&&parts[1]?this.data(parts[0]):data}else return this.each(function(){var self=jQuery(this),args=[parts[0],value];self.triggerHandler("setData"+parts[1]+"!",args),jQuery.data(this,key,value),self.triggerHandler("changeData"+parts[1]+"!",args)})},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({_mark:function(elem,type){if(elem)type=(type||"fx")+"mark",jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1)},_unmark:function(force,elem,type){if(force!==!0)type=elem,elem=force,force=!1;if(elem){type=type||"fx";var key=type+"mark",count=force?0:(jQuery._data(elem,key)||1)-1;if(count)jQuery._data(elem,key,count);else jQuery.removeData(elem,key,!0),handleQueueMarkDefer(elem,type,"mark")}},queue:function(elem,type,data){var q;if(elem){if(type=(type||"fx")+"queue",q=jQuery._data(elem,type),data)if(!q||jQuery.isArray(data))q=jQuery._data(elem,type,jQuery.makeArray(data));else q.push(data);return q||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};if("inprogress"===fn)fn=queue.shift();if(fn){if("fx"===type)queue.unshift("inprogress");jQuery._data(elem,type+".run",hooks),fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)}if(!queue.length)jQuery.removeData(elem,type+"queue "+type+".run",!0),handleQueueMarkDefer(elem,type,"queue")}}),jQuery.fn.extend({queue:function(type,data){if("string"!=typeof type)data=type,type="fx";if(data===undefined)return jQuery.queue(this[0],type);else return this.each(function(){var queue=jQuery.queue(this,type,data);if("fx"===type&&"inprogress"!==queue[0])jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,object){function resolve(){if(!--count)defer.resolveWith(elements,[elements])}if("string"!=typeof type)object=type,type=undefined;type=type||"fx";for(var defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",tmp;i--;)if(tmp=jQuery.data(elements[i],deferDataKey,undefined,!0)||(jQuery.data(elements[i],queueDataKey,undefined,!0)||jQuery.data(elements[i],markDataKey,undefined,!0))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks("once memory"),!0))count++,tmp.add(resolve);return resolve(),defer.promise()}});var rclass=/[\n\t\r]/g,rspace=/\s+/,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,nodeHook,boolHook,fixSpecified;if(jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,name,value,!0,jQuery.attr)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,name,value,!0,jQuery.prop)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=undefined,delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(value&&"string"==typeof value)for(classNames=value.split(rspace),i=0,l=this.length;l>i;i++)if(elem=this[i],1===elem.nodeType)if(!elem.className&&1===classNames.length)elem.className=value;else{for(setClass=" "+elem.className+" ",c=0,cl=classNames.length;cl>c;c++)if(!~setClass.indexOf(" "+classNames[c]+" "))setClass+=classNames[c]+" ";elem.className=jQuery.trim(setClass)}return this},removeClass:function(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(value&&"string"==typeof value||value===undefined)for(classNames=(value||"").split(rspace),i=0,l=this.length;l>i;i++)if(elem=this[i],1===elem.nodeType&&elem.className)if(value){for(className=(" "+elem.className+" ").replace(rclass," "),c=0,cl=classNames.length;cl>c;c++)className=className.replace(" "+classNames[c]+" "," ");elem.className=jQuery.trim(className)}else elem.className="";return this},toggleClass:function(value,stateVal){var type=typeof value,isBool="boolean"==typeof stateVal;if(jQuery.isFunction(value))return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)});else return this.each(function(){if("string"===type)for(var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);className=classNames[i++];)state=isBool?state:!self.hasClass(className),self[state?"addClass":"removeClass"](className);else if("undefined"===type||"boolean"===type){if(this.className)jQuery._data(this,"__className__",this.className);this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||""}})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1},val:function(value){var hooks,ret,isFunction,elem=this[0];if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var self=jQuery(this),val;if(1===this.nodeType){if(isFunction)val=value.call(this,i,self.val());else val=value;if(null==val)val="";else if("number"==typeof val)val+="";else if(jQuery.isArray(val))val=jQuery.map(val,function(value){return null==value?"":value+""});if(hooks=jQuery.valHooks[this.nodeName.toLowerCase()]||jQuery.valHooks[this.type],!(hooks&&"set"in hooks&&hooks.set(this,val,"value")!==undefined))this.value=val}});else if(elem)if(hooks=jQuery.valHooks[elem.nodeName.toLowerCase()]||jQuery.valHooks[elem.type],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined)return ret;else return ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one="select-one"===elem.type;if(0>index)return null;for(i=one?index:0,max=one?index+1:options.length;max>i;i++)if(option=options[i],!(!option.selected||(jQuery.support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}if(one&&!values.length&&options.length)return jQuery(options[index]).val();else return values},set:function(elem,value){var values=jQuery.makeArray(value);if(jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0}),!values.length)elem.selectedIndex=-1;return values}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType){if(pass&&name in jQuery.attrFn)return jQuery(elem)[name](value);if("undefined"==typeof elem.getAttribute)return jQuery.prop(elem,name,value);if(notxml=1!==nType||!jQuery.isXMLDoc(elem))name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook);if(value!==undefined)if(null===value)return jQuery.removeAttr(elem,name),void 0;else if(hooks&&"set"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined)return ret;else return elem.setAttribute(name,""+value),value;else if(hooks&&"get"in hooks&&notxml&&null!==(ret=hooks.get(elem,name)))return ret;else return ret=elem.getAttribute(name),null===ret?undefined:ret}},removeAttr:function(elem,value){var propName,attrNames,name,l,i=0;if(value&&1===elem.nodeType)for(attrNames=value.toLowerCase().split(rspace),l=attrNames.length;l>i;i++)if(name=attrNames[i])if(propName=jQuery.propFix[name]||name,jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName),rboolean.test(name)&&propName in elem)elem[propName]=!1},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;if(elem.setAttribute("type",value),val)elem.value=val;return value}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button"))return nodeHook.get(elem,name);else return name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button"))return nodeHook.set(elem,value,name);else return elem.value=value,void 0}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType){if(notxml=1!==nType||!jQuery.isXMLDoc(elem))name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name];if(value!==undefined)if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined)return ret;else return elem[name]=value;else if(hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name)))return ret;else return elem[name]}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}}),jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex,boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===!0||"boolean"!=typeof property&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==!1?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===!1)jQuery.removeAttr(elem,name);else{if(propName=jQuery.propFix[name]||name,propName in elem)elem[propName]=!0;elem.setAttribute(name,name.toLowerCase())}return name}},!getSetAttribute)fixSpecified={name:!0,id:!0},nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;return ret=elem.getAttributeNode(name),ret&&(fixSpecified[name]?""!==ret.nodeValue:ret.specified)?ret.nodeValue:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret)ret=document.createAttribute(name),elem.setAttributeNode(ret);return ret.nodeValue=value+""}},jQuery.attrHooks.tabindex.set=nodeHook.set,jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(""===value)return elem.setAttribute(name,"auto"),value;else return void 0}})}),jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(""===value)value="false";nodeHook.set(elem,value,name)}};if(!jQuery.support.hrefNormalized)jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return null===ret?undefined:ret}})});if(!jQuery.support.style)jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return elem.style.cssText=""+value}};if(!jQuery.support.optSelected)jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent)if(parent.selectedIndex,parent.parentNode)parent.parentNode.selectedIndex;return null}});if(!jQuery.support.enctype)jQuery.propFix.enctype="encoding";if(!jQuery.support.checkOn)jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return null===elem.getAttribute("value")?"on":elem.value}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0;else return void 0}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*)?(?:\.(.+))?$/,rhoverHack=/\bhover(\.\S+)?\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rquickIs=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,quickParse=function(selector){var quick=rquickIs.exec(selector);if(quick)quick[1]=(quick[1]||"").toLowerCase(),quick[3]=quick[3]&&new RegExp("(?:^|\\s)"+quick[3]+"(?:\\s|$)");return quick},quickIs=function(elem,m){var attrs=elem.attributes||{};return!(m[1]&&elem.nodeName.toLowerCase()!==m[1]||m[2]&&(attrs.id||{}).value!==m[2]||m[3]&&!m[3].test((attrs["class"]||{}).value))},hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};if(jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,quick,handlers,special;if(3!==elem.nodeType&&8!==elem.nodeType&&types&&handler&&(elemData=jQuery._data(elem))){if(handler.handler)handleObjIn=handler,handler=handleObjIn.handler;if(!handler.guid)handler.guid=jQuery.guid++;if(events=elemData.events,!events)elemData.events=events={};if(eventHandle=elemData.handle,!eventHandle)elemData.handle=eventHandle=function(e){return"undefined"!=typeof jQuery&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined},eventHandle.elem=elem;for(types=jQuery.trim(hoverHack(types)).split(" "),t=0;t<types.length;t++){if(tns=rtypenamespace.exec(types[t])||[],type=tns[1],namespaces=(tns[2]||"").split(".").sort(),special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,quick:quickParse(selector),namespace:namespaces.join(".")},handleObjIn),handlers=events[type],!handlers)if(handlers=events[type]=[],handlers.delegateCount=0,!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===!1)if(elem.addEventListener)elem.addEventListener(type,eventHandle,!1);else if(elem.attachEvent)elem.attachEvent("on"+type,eventHandle);if(special.add)if(special.add.call(elem,handleObj),!handleObj.handler.guid)handleObj.handler.guid=handler.guid;if(selector)handlers.splice(handlers.delegateCount++,0,handleObj);else handlers.push(handleObj);jQuery.event.global[type]=!0}elem=null}},global:{},remove:function(elem,types,handler,selector,mappedTypes){var elemData=jQuery.hasData(elem)&&jQuery._data(elem),t,tns,type,origType,namespaces,origCount,j,events,special,handle,eventType,handleObj;if(elemData&&(events=elemData.events)){for(types=jQuery.trim(hoverHack(types||"")).split(" "),t=0;t<types.length;t++)if(tns=rtypenamespace.exec(types[t])||[],type=origType=tns[1],namespaces=tns[2],type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,eventType=events[type]||[],origCount=eventType.length,namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,j=0;j<eventType.length;j++)if(handleObj=eventType[j],!(!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||namespaces&&!namespaces.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector))){if(eventType.splice(j--,1),handleObj.selector)eventType.delegateCount--;if(special.remove)special.remove.call(elem,handleObj)}if(0===eventType.length&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces)===!1)jQuery.removeEvent(elem,type,elemData.handle);delete events[type]}}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);if(jQuery.isEmptyObject(events)){if(handle=elemData.handle)handle.elem=null;jQuery.removeData(elem,["events","handle"],!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(event,data,elem,onlyHandlers){if(!elem||3!==elem.nodeType&&8!==elem.nodeType){var type=event.type||event,namespaces=[],cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType;if(!rfocusMorph.test(type+jQuery.event.triggered)){if(type.indexOf("!")>=0)type=type.slice(0,-1),exclusive=!0;if(type.indexOf(".")>=0)namespaces=type.split("."),type=namespaces.shift(),namespaces.sort();if(elem&&!jQuery.event.customEvent[type]||jQuery.event.global[type])if(event="object"==typeof event?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type),event.type=type,event.isTrigger=!0,event.exclusive=exclusive,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,ontype=type.indexOf(":")<0?"on"+type:"",elem){if(event.result=undefined,!event.target)event.target=elem;if(data=null!=data?jQuery.makeArray(data):[],data.unshift(event),special=jQuery.event.special[type]||{},!special.trigger||special.trigger.apply(elem,data)!==!1){if(eventPath=[[elem,special.bindType||type]],!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode,old=null;cur;cur=cur.parentNode)eventPath.push([cur,bubbleType]),old=cur;if(old&&old===elem.ownerDocument)eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){if(cur=eventPath[i][0],event.type=eventPath[i][1],handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"))handle.apply(cur,data);if(handle=ontype&&cur[ontype],handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===!1)event.preventDefault()}if(event.type=type,!onlyHandlers&&!event.isDefaultPrevented())if(!(special._default&&special._default.apply(elem.ownerDocument,data)!==!1||"click"===type&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem))if(ontype&&elem[type]&&("focus"!==type&&"blur"!==type||0!==event.target.offsetWidth)&&!jQuery.isWindow(elem)){if(old=elem[ontype])elem[ontype]=null;if(jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=undefined,old)elem[ontype]=old}return event.result}}else{cache=jQuery.cache;for(i in cache)if(cache[i].events&&cache[i].events[type])jQuery.event.trigger(event,data,cache[i].handle.elem,!0)}}}},dispatch:function(event){event=jQuery.event.fix(event||window.event);var handlers=(jQuery._data(this,"events")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,handlerQueue=[],i,j,cur,jqcur,ret,selMatch,matched,matches,handleObj,sel,related;if(args[0]=event,event.delegateTarget=this,delegateCount&&!event.target.disabled&&(!event.button||"click"!==event.type))for(jqcur=jQuery(this),jqcur.context=this.ownerDocument||this,cur=event.target;cur!=this;cur=cur.parentNode||this){for(selMatch={},matches=[],jqcur[0]=cur,i=0;delegateCount>i;i++){if(handleObj=handlers[i],sel=handleObj.selector,selMatch[sel]===undefined)selMatch[sel]=handleObj.quick?quickIs(cur,handleObj.quick):jqcur.is(sel);if(selMatch[sel])matches.push(handleObj)}if(matches.length)handlerQueue.push({elem:cur,matches:matches})}if(handlers.length>delegateCount)handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++)for(matched=handlerQueue[i],event.currentTarget=matched.elem,j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++)if(handleObj=matched.matches[j],run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace))if(event.data=handleObj.data,event.handleObj=handleObj,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),ret!==undefined)if(event.result=ret,ret===!1)event.preventDefault(),event.stopPropagation();return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(null==event.which)event.which=null!=original.charCode?original.charCode:original.keyCode;return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(null==event.pageX&&null!=original.clientX)eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);if(!event.relatedTarget&&fromElement)event.relatedTarget=fromElement===event.target?original.toElement:fromElement;if(!event.which&&button!==undefined)event.which=1&button?1:2&button?3:4&button?2:0;return event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;for(event=jQuery.Event(originalEvent),i=copy.length;i;)prop=copy[--i],event[prop]=originalEvent[prop];if(!event.target)event.target=originalEvent.srcElement||document;if(3===event.target.nodeType)event.target=event.target.parentNode;if(event.metaKey===undefined)event.metaKey=event.ctrlKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{ready:{setup:jQuery.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this))this.onbeforeunload=eventHandle},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle)this.onbeforeunload=null}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});if(bubble)jQuery.event.trigger(e,null,elem);else jQuery.event.dispatch.call(elem,e);if(e.isDefaultPrevented())event.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener)elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){if(elem.detachEvent)elem.detachEvent("on"+type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);if(src&&src.type)this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse;else this.type=src;if(props)jQuery.extend(this,props);this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(e)if(e.preventDefault)e.preventDefault();else e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(e){if(e.stopPropagation)e.stopPropagation();e.cancelBubble=!0}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector,ret;if(!related||related!==target&&!jQuery.contains(target,related))event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix;return ret}}}),!jQuery.support.submitBubbles)jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form"))return!1;else return jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!form._submit_attached)jQuery.event.add(form,"submit._submit",function(event){if(this.parentNode&&!event.isTrigger)jQuery.event.simulate("submit",this.parentNode,event,!0)}),form._submit_attached=!0}),void 0},teardown:function(){if(jQuery.nodeName(this,"form"))return!1;else return jQuery.event.remove(this,"._submit"),void 0}};if(!jQuery.support.changeBubbles)jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)jQuery.event.add(this,"propertychange._change",function(event){if("checked"===event.originalEvent.propertyName)this._just_changed=!0}),jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger)this._just_changed=!1,jQuery.event.simulate("change",this,event,!0)});return!1}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!elem._change_attached)jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger)jQuery.event.simulate("change",this.parentNode,event,!0)}),elem._change_attached=!0})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type)return event.handleObj.handler.apply(this,arguments);else return void 0},teardown:function(){return jQuery.event.remove(this,"._change"),rformElems.test(this.nodeName)}};if(!jQuery.support.focusinBubbles)jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){if(0===attaches++)document.addEventListener(orig,handler,!0)},teardown:function(){if(0===--attaches)document.removeEventListener(orig,handler,!0)}}});jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){if("string"!=typeof selector)data=selector,selector=undefined;for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn)fn=selector,data=selector=undefined;else if(null==fn)if("string"==typeof selector)fn=data,data=undefined;else fn=data,data=selector,selector=undefined;if(fn===!1)fn=returnFalse;else if(!fn)return this;if(1===one)origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on.call(this,types,selector,data,fn,1)},off:function(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;return jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.type+"."+handleObj.namespace:handleObj.type,handleObj.selector,handleObj.handler),this}if("object"==typeof types){for(var type in types)this.off(type,selector,types[type]);return this}if(selector===!1||"function"==typeof selector)fn=selector,selector=undefined;if(fn===!1)fn=returnFalse;return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){return jQuery(this.context).on(types,this.selector,data,fn),this},die:function(types,fn){return jQuery(this.context).off(types,this.selector||"**",fn),this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1==arguments.length?this.off(selector,"**"):this.off(types,selector,fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0])return jQuery.event.trigger(type,data,this[0],!0);else return void 0},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;return jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1),event.preventDefault(),args[lastToggle].apply(this,arguments)||!1};for(toggler.guid=guid;i<args.length;)args[i++].guid=guid;return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){if(jQuery.fn[name]=function(data,fn){if(null==fn)fn=data,data=null;return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)},jQuery.attrFn)jQuery.attrFn[name]=!0;
if(rkeyEvent.test(name))jQuery.event.fixHooks[name]=jQuery.event.keyHooks;if(rmouseEvent.test(name))jQuery.event.fixHooks[name]=jQuery.event.mouseHooks}),function(){function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;l>i;i++){var elem=checkSet[i];if(elem){var match=!1;for(elem=elem[dir];elem;){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(1===elem.nodeType&&!isXML)elem[expando]=doneName,elem.sizset=i;if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;l>i;i++){var elem=checkSet[i];if(elem){var match=!1;for(elem=elem[dir];elem;){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(1===elem.nodeType){if(!isXML)elem[expando]=doneName,elem.sizset=i;if("string"!=typeof cur){if(elem===cur){match=!0;break}}else if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}elem=elem[dir]}checkSet[i]=match}}}var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,expando="sizcache"+(Math.random()+"").replace(".",""),done=0,toString=Object.prototype.toString,hasDuplicate=!1,baseHasDuplicate=!0,rBackslash=/\\/g,rReturn=/\r\n/g,rNonWord=/\W/;[0,0].sort(function(){return baseHasDuplicate=!1,0});var Sizzle=function(selector,context,results,seed){results=results||[],context=context||document;var origContext=context;if(1!==context.nodeType&&9!==context.nodeType)return[];if(!selector||"string"!=typeof selector)return results;var m,set,checkSet,extra,ret,cur,pop,i,prune=!0,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do if(chunker.exec(""),m=chunker.exec(soFar))if(soFar=m[3],parts.push(m[1]),m[2]){extra=m[3];break}while(m);if(parts.length>1&&origPOS.exec(selector))if(2===parts.length&&Expr.relative[parts[0]])set=posProcess(parts[0]+parts[1],context,seed);else for(set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);parts.length;){if(selector=parts.shift(),Expr.relative[selector])selector+=parts.shift();set=posProcess(selector,set,seed)}else{if(!seed&&parts.length>1&&9===context.nodeType&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1]))ret=Sizzle.find(parts.shift(),context,contextXML),context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0];if(context){if(ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),1===parts.length&&("~"===parts[0]||"+"===parts[0])&&context.parentNode?context.parentNode:context,contextXML),set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set,parts.length>0)checkSet=makeArray(set);else prune=!1;for(;parts.length;){if(cur=parts.pop(),pop=cur,!Expr.relative[cur])cur="";else pop=parts.pop();if(null==pop)pop=context;Expr.relative[cur](checkSet,pop,contextXML)}}else checkSet=parts=[]}if(!checkSet)checkSet=set;if(!checkSet)Sizzle.error(cur||selector);if("[object Array]"===toString.call(checkSet)){if(!prune)results.push.apply(results,checkSet);else if(context&&1===context.nodeType){for(i=0;null!=checkSet[i];i++)if(checkSet[i]&&(checkSet[i]===!0||1===checkSet[i].nodeType&&Sizzle.contains(context,checkSet[i])))results.push(set[i])}else for(i=0;null!=checkSet[i];i++)if(checkSet[i]&&1===checkSet[i].nodeType)results.push(set[i])}else makeArray(checkSet,results);if(extra)Sizzle(extra,origContext,results,seed),Sizzle.uniqueSort(results);return results};Sizzle.uniqueSort=function(results){if(sortOrder)if(hasDuplicate=baseHasDuplicate,results.sort(sortOrder),hasDuplicate)for(var i=1;i<results.length;i++)if(results[i]===results[i-1])results.splice(i--,1);return results},Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)},Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0},Sizzle.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr)return[];for(i=0,len=Expr.order.length;len>i;i++)if(type=Expr.order[i],match=Expr.leftMatch[type].exec(expr))if(left=match[1],match.splice(1,1),"\\"!==left.substr(left.length-1))if(match[1]=(match[1]||"").replace(rBackslash,""),set=Expr.find[type](match,context,isXML),null!=set){expr=expr.replace(Expr.match[type],"");break}if(!set)set="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName("*"):[];return{set:set,expr:expr}},Sizzle.filter=function(expr,set,inplace,not){for(var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);expr&&set.length;){for(type in Expr.filter)if(null!=(match=Expr.leftMatch[type].exec(expr))&&match[2]){if(filter=Expr.filter[type],left=match[1],anyFound=!1,match.splice(1,1),"\\"===left.substr(left.length-1))continue;if(curLoop===result)result=[];if(Expr.preFilter[type])if(match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter),!match)anyFound=found=!0;else if(match===!0)continue;if(match)for(i=0;null!=(item=curLoop[i]);i++)if(item)if(found=filter(item,match,i,curLoop),pass=not^found,inplace&&null!=found)if(pass)anyFound=!0;else curLoop[i]=!1;else if(pass)result.push(item),anyFound=!0;if(found!==undefined){if(!inplace)curLoop=result;if(expr=expr.replace(Expr.match[type],""),!anyFound)return[];break}}if(expr===old)if(null==anyFound)Sizzle.error(expr);else break;old=expr}return curLoop},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};var getText=Sizzle.getText=function(elem){var i,node,nodeType=elem.nodeType,ret="";if(nodeType){if(1===nodeType||9===nodeType)if("string"==typeof elem.textContent)return elem.textContent;else if("string"==typeof elem.innerText)return elem.innerText.replace(rReturn,"");else for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem);else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(i=0;node=elem[i];i++)if(8!==node.nodeType)ret+=getText(node);return ret},Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")},type:function(elem){return elem.getAttribute("type")}},relative:{"+":function(checkSet,part){var isPartStr="string"==typeof part,isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag)part=part.toLowerCase();for(var i=0,l=checkSet.length,elem;l>i;i++)if(elem=checkSet[i]){for(;(elem=elem.previousSibling)&&1!==elem.nodeType;);checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||!1:elem===part}if(isPartStrNotTag)Sizzle.filter(part,checkSet,!0)},">":function(checkSet,part){var elem,isPartStr="string"==typeof part,i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){for(part=part.toLowerCase();l>i;i++)if(elem=checkSet[i]){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:!1}}else{for(;l>i;i++)if(elem=checkSet[i])checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part;if(isPartStr)Sizzle.filter(part,checkSet,!0)}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if("string"==typeof part&&!rNonWord.test(part))part=part.toLowerCase(),nodeCheck=part,checkFn=dirNodeCheck;checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if("string"==typeof part&&!rNonWord.test(part))part=part.toLowerCase(),nodeCheck=part,checkFn=dirNodeCheck;checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if("undefined"!=typeof context.getElementById&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[]}},NAME:function(match,context){if("undefined"!=typeof context.getElementsByName){for(var ret=[],results=context.getElementsByName(match[1]),i=0,l=results.length;l>i;i++)if(results[i].getAttribute("name")===match[1])ret.push(results[i]);return 0===ret.length?null:ret}},TAG:function(match,context){if("undefined"!=typeof context.getElementsByTagName)return context.getElementsByTagName(match[1]);else return void 0}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){if(match=" "+match[1].replace(rBackslash,"")+" ",isXML)return match;for(var i=0,elem;null!=(elem=curLoop[i]);i++)if(elem)if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)){if(!inplace)result.push(elem)}else if(inplace)curLoop[i]=!1;return!1},ID:function(match){return match[1].replace(rBackslash,"")},TAG:function(match,curLoop){return match[1].replace(rBackslash,"").toLowerCase()},CHILD:function(match){if("nth"===match[1]){if(!match[2])Sizzle.error(match[0]);match[2]=match[2].replace(/^\+|\s*/g,"");var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===match[2]&&"2n"||"odd"===match[2]&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=test[1]+(test[2]||1)-0,match[3]=test[3]-0}else if(match[2])Sizzle.error(match[0]);return match[0]=done++,match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");if(!isXML&&Expr.attrMap[name])match[1]=Expr.attrMap[name];if(match[4]=(match[4]||match[5]||"").replace(rBackslash,""),"~="===match[2])match[4]=" "+match[4]+" ";return match},PSEUDO:function(match,curLoop,inplace,result,not){if("not"===match[1])if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3]))match[3]=Sizzle(match[3],null,null,curLoop);else{var ret=Sizzle.filter(match[3],curLoop,inplace,!0^not);if(!inplace)result.push.apply(result,ret);return!1}else if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0]))return!0;return match},POS:function(match){return match.unshift(!0),match}},filters:{enabled:function(elem){return elem.disabled===!1&&"hidden"!==elem.type},disabled:function(elem){return elem.disabled===!0},checked:function(elem){return elem.checked===!0},selected:function(elem){if(elem.parentNode)elem.parentNode.selectedIndex;return elem.selected===!0},parent:function(elem){return!!elem.firstChild},empty:function(elem){return!elem.firstChild},has:function(elem,i,match){return!!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return"input"===elem.nodeName.toLowerCase()&&"text"===type&&(attr===type||null===attr)},radio:function(elem){return"input"===elem.nodeName.toLowerCase()&&"radio"===elem.type},checkbox:function(elem){return"input"===elem.nodeName.toLowerCase()&&"checkbox"===elem.type},file:function(elem){return"input"===elem.nodeName.toLowerCase()&&"file"===elem.type},password:function(elem){return"input"===elem.nodeName.toLowerCase()&&"password"===elem.type},submit:function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&"submit"===elem.type},image:function(elem){return"input"===elem.nodeName.toLowerCase()&&"image"===elem.type},reset:function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&"reset"===elem.type},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)},focus:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elem,i){return 0===i},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return 0===i%2},odd:function(elem,i){return 1===i%2},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter)return filter(elem,i,match,array);else if("contains"===name)return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0;else if("not"===name){for(var not=match[3],j=0,l=not.length;l>j;j++)if(not[j]===elem)return!1;return!0}else Sizzle.error(name)},CHILD:function(elem,match){var first,last,doneName,parent,cache,count,diff,type=match[1],node=elem;switch(type){case"only":case"first":for(;node=node.previousSibling;)if(1===node.nodeType)return!1;if("first"===type)return!0;node=elem;case"last":for(;node=node.nextSibling;)if(1===node.nodeType)return!1;return!0;case"nth":if(first=match[2],last=match[3],1===first&&0===last)return!0;if(doneName=match[0],parent=elem.parentNode,parent&&(parent[expando]!==doneName||!elem.nodeIndex)){for(count=0,node=parent.firstChild;node;node=node.nextSibling)if(1===node.nodeType)node.nodeIndex=++count;parent[expando]=doneName}if(diff=elem.nodeIndex-last,0===first)return 0===diff;else return 0===diff%first&&diff/first>=0}},ID:function(elem,match){return 1===elem.nodeType&&elem.getAttribute("id")===match},TAG:function(elem,match){return"*"===match&&1===elem.nodeType||!!elem.nodeName&&elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Sizzle.attr?Sizzle.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):null!=elem[name]?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return null==result?"!="===type:!type&&Sizzle.attr?null!=result:"="===type?value===check:"*="===type?value.indexOf(check)>=0:"~="===type?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==!1:"!="===type?value!==check:"^="===type?0===value.indexOf(check):"$="===type?value.substr(value.length-check.length)===check:"|="===type?value===check||value.substr(0,check.length+1)===check+"-":!1},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter)return filter(elem,i,match,array);else return void 0}}},origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1)};for(var type in Expr.match)Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source),Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape));var makeArray=function(array,results){if(array=Array.prototype.slice.call(array,0),results)return results.push.apply(results,array),results;else return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if("[object Array]"===toString.call(array))Array.prototype.push.apply(ret,array);else if("number"==typeof array.length)for(var l=array.length;l>i;i++)ret.push(array[i]);else for(;array[i];i++)ret.push(array[i]);return ret}}var sortOrder,siblingCheck;if(document.documentElement.compareDocumentPosition)sortOrder=function(a,b){if(a===b)return hasDuplicate=!0,0;if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;else return 4&a.compareDocumentPosition(b)?-1:1};else sortOrder=function(a,b){if(a===b)return hasDuplicate=!0,0;else if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup)return siblingCheck(a,b);else if(!aup)return-1;else if(!bup)return 1;for(;cur;)ap.unshift(cur),cur=cur.parentNode;for(cur=bup;cur;)bp.unshift(cur),cur=cur.parentNode;al=ap.length,bl=bp.length;for(var i=0;al>i&&bl>i;i++)if(ap[i]!==bp[i])return siblingCheck(ap[i],bp[i]);return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)},siblingCheck=function(a,b,ret){if(a===b)return ret;for(var cur=a.nextSibling;cur;){if(cur===b)return-1;cur=cur.nextSibling}return 1};if(function(){var form=document.createElement("div"),id="script"+(new Date).getTime(),root=document.documentElement;if(form.innerHTML="<a name='"+id+"'/>",root.insertBefore(form,root.firstChild),document.getElementById(id))Expr.find.ID=function(match,context,isXML){if("undefined"!=typeof context.getElementById&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||"undefined"!=typeof m.getAttributeNode&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}},Expr.filter.ID=function(elem,match){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return 1===elem.nodeType&&node&&node.nodeValue===match};root.removeChild(form),root=form=null}(),function(){var div=document.createElement("div");if(div.appendChild(document.createComment("")),div.getElementsByTagName("*").length>0)Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if("*"===match[1]){for(var tmp=[],i=0;results[i];i++)if(1===results[i].nodeType)tmp.push(results[i]);results=tmp}return results};if(div.innerHTML="<a href='#'></a>",div.firstChild&&"undefined"!=typeof div.firstChild.getAttribute&&"#"!==div.firstChild.getAttribute("href"))Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)};div=null}(),document.querySelectorAll)!function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";if(div.innerHTML="<p class='TEST'></p>",!div.querySelectorAll||0!==div.querySelectorAll(".TEST").length){Sizzle=function(query,context,extra,seed){if(context=context||document,!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(1===context.nodeType||9===context.nodeType))if(match[1])return makeArray(context.getElementsByTagName(query),extra);else if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName)return makeArray(context.getElementsByClassName(match[2]),extra);if(9===context.nodeType){if("body"===query&&context.body)return makeArray([context.body],extra);else if(match&&match[3]){var elem=context.getElementById(match[3]);if(elem&&elem.parentNode){if(elem.id===match[3])return makeArray([elem],extra)}else return makeArray([],extra)}try{return makeArray(context.querySelectorAll(query),extra)}catch(qsaError){}}else if(1===context.nodeType&&"object"!==context.nodeName.toLowerCase()){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);if(!old)context.setAttribute("id",nid);else nid=nid.replace(/'/g,"\\$&");if(relativeHierarchySelector&&hasParent)context=context.parentNode;try{if(!relativeHierarchySelector||hasParent)return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra)}catch(pseudoError){}finally{if(!old)oldContext.removeAttribute("id")}}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle)Sizzle[prop]=oldSizzle[prop];div=null}}();if(function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=!1;try{matches.call(document.documentElement,"[test!='']:sizzle")}catch(pseudoError){pseudoWorks=!0}Sizzle.matchesSelector=function(node,expr){if(expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!Sizzle.isXML(node))try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&11!==node.document.nodeType)return ret}}catch(e){}return Sizzle(expr,null,null,[node]).length>0}}}(),function(){var div=document.createElement("div");if(div.innerHTML="<div class='test e'></div><div class='test'></div>",div.getElementsByClassName&&0!==div.getElementsByClassName("e").length)if(div.lastChild.className="e",1!==div.getElementsByClassName("e").length)Expr.order.splice(1,0,"CLASS"),Expr.find.CLASS=function(match,context,isXML){if("undefined"!=typeof context.getElementsByClassName&&!isXML)return context.getElementsByClassName(match[1]);else return void 0},div=null}(),document.documentElement.contains)Sizzle.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)};else if(document.documentElement.compareDocumentPosition)Sizzle.contains=function(a,b){return!!(16&a.compareDocumentPosition(b))};else Sizzle.contains=function(){return!1};Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1};var posProcess=function(selector,context,seed){for(var match,tmpSet=[],later="",root=context.nodeType?[context]:context;match=Expr.match.PSEUDO.exec(selector);)later+=match[0],selector=selector.replace(Expr.match.PSEUDO,"");selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;l>i;i++)Sizzle(selector,root[i],tmpSet,seed);return Sizzle.filter(later,tmpSet)};Sizzle.attr=jQuery.attr,Sizzle.selectors.attrMap={},jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.filters,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains}();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.POS,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(selector){var self=this,i,l;if("string"!=typeof selector)return jQuery(selector).filter(function(){for(i=0,l=self.length;l>i;i++)if(jQuery.contains(self[i],this))return!0});var ret=this.pushStack("","find",selector),length,n,r;for(i=0,l=this.length;l>i;i++)if(length=ret.length,jQuery.find(selector,this[i],ret),i>0)for(n=length;n<ret.length;n++)for(r=0;length>r;r++)if(ret[r]===ret[n]){ret.splice(n--,1);break}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector,!1),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,!0),"filter",selector)},is:function(selector){return!!selector&&("string"==typeof selector?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){for(var level=1;cur&&cur.ownerDocument&&cur!==context;){for(i=0;i<selectors.length;i++)if(jQuery(cur).is(selectors[i]))ret.push({selector:selectors[i],elem:cur,level:level});cur=cur.parentNode,level++}return ret}var pos=POS.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;l>i;i++)for(cur=this[i];cur;)if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}else if(cur=cur.parentNode,!cur||!cur.ownerDocument||cur===context||11===cur.nodeType)break;return ret=ret.length>1?jQuery.unique(ret):ret,this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if("string"==typeof elem)return jQuery.inArray(this[0],jQuery(elem));else return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name))selector=until;if(selector&&"string"==typeof selector)ret=jQuery.filter(selector,ret);if(ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret,(this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name))ret=ret.reverse();return this.pushStack(ret,name,slice.call(arguments).join(","))}}),jQuery.extend({filter:function(expr,elems,not){if(not)expr=":not("+expr+")";return 1===elems.length?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){for(var matched=[],cur=elem[dir];cur&&9!==cur.nodeType&&(until===undefined||1!==cur.nodeType||!jQuery(cur).is(until));){if(1===cur.nodeType)matched.push(cur);cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;for(var num=0;cur&&(1!==cur.nodeType||++num!==result);cur=cur[dir]);return cur},sibling:function(n,elem){for(var r=[];n;n=n.nextSibling)if(1===n.nodeType&&n!==elem)r.push(n);return r}});var nodeNames="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")","i"),rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)/,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document);if(wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,!jQuery.support.htmlSerialize)wrapMap._default=[1,"div<div>","</div>"];jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text))return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))});if("object"!=typeof text&&text!==undefined)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text));else return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);if(this[0].parentNode)wrap.insertBefore(this[0]);wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))});else return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length)contents.wrapAll(html);else self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body"))jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(elem){if(1===this.nodeType)this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,!0,function(elem){if(1===this.nodeType)this.insertBefore(elem,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this)});else if(arguments.length){var set=jQuery.clean(arguments);return set.push.apply(set,this.toArray()),this.pushStack(set,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)});else if(arguments.length){var set=this.pushStack(this,"after",arguments);return set.push.apply(set,jQuery.clean(arguments)),set}},remove:function(selector,keepData){for(var i=0,elem;null!=(elem=this[i]);i++)if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&1===elem.nodeType)jQuery.cleanData(elem.getElementsByTagName("*")),jQuery.cleanData([elem]);if(elem.parentNode)elem.parentNode.removeChild(elem)}return this},empty:function(){for(var i=0,elem;null!=(elem=this[i]);i++){if(1===elem.nodeType)jQuery.cleanData(elem.getElementsByTagName("*"));for(;elem.firstChild;)elem.removeChild(elem.firstChild)}return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){if(value===undefined)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(rinlinejQuery,""):null;else if(!("string"!=typeof value||rnoInnerhtml.test(value)||!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(value)||wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()])){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(var i=0,l=this.length;l>i;i++)if(1===this[i].nodeType)jQuery.cleanData(this[i].getElementsByTagName("*")),this[i].innerHTML=value}catch(e){this.empty().append(value)}}else if(jQuery.isFunction(value))this.each(function(i){var self=jQuery(this);self.html(value.call(this,i,self.html()))});else this.empty().append(value);return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))});if("string"!=typeof value)value=jQuery(value).detach();return this.each(function(){var next=this.nextSibling,parent=this.parentNode;if(jQuery(this).remove(),next)jQuery(next).before(value);else jQuery(parent).append(value)})}else return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&3===arguments.length&&"string"==typeof value&&rchecked.test(value))return this.each(function(){jQuery(this).domManip(args,table,callback,!0)});if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined),self.domManip(args,table,callback)});if(this[0]){if(parent=value&&value.parentNode,jQuery.support.parentNode&&parent&&11===parent.nodeType&&parent.childNodes.length===this.length)results={fragment:parent};else results=jQuery.buildFragment(args,this,scripts);if(fragment=results.fragment,1===fragment.childNodes.length)first=fragment=fragment.firstChild;
else first=fragment.firstChild;if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;l>i;i++)callback.call(table?root(this[i],first):this[i],results.cacheable||l>1&&lastIndex>i?jQuery.clone(fragment,!0,!0):fragment)}if(scripts.length)jQuery.each(scripts,evalScript)}return this}}),jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];if(nodes&&nodes[0])doc=nodes[0].ownerDocument||nodes[0];if(!doc.createDocumentFragment)doc=document;if(1===args.length&&"string"==typeof first&&first.length<512&&doc===document&&"<"===first.charAt(0)&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first)))if(cacheable=!0,cacheresults=jQuery.fragments[first],cacheresults&&1!==cacheresults)fragment=cacheresults;if(!fragment)fragment=doc.createDocumentFragment(),jQuery.clean(args,doc,fragment,scripts);if(cacheable)jQuery.fragments[first]=cacheresults?fragment:1;return{fragment:fragment,cacheable:cacheable}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=1===this.length&&this[0].parentNode;if(parent&&11===parent.nodeType&&1===parent.childNodes.length&&1===insert.length)return insert[original](this[0]),this;else{for(var i=0,l=insert.length;l>i;i++){var elems=(i>0?this.clone(!0):this).get();jQuery(insert[i])[original](elems),ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=jQuery.support.html5Clone||!rnoshimcache.test("<"+elem.nodeName)?elem.cloneNode(!0):shimCloneNode(elem);if(!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(cloneFixAttributes(elem,clone),srcElements=getAll(elem),destElements=getAll(clone),i=0;srcElements[i];++i)if(destElements[i])cloneFixAttributes(srcElements[i],destElements[i]);if(dataAndEvents)if(cloneCopyEvent(elem,clone),deepDataAndEvents)for(srcElements=getAll(elem),destElements=getAll(clone),i=0;srcElements[i];++i)cloneCopyEvent(srcElements[i],destElements[i]);return srcElements=destElements=null,clone},clean:function(elems,context,fragment,scripts){var checkScriptType;if(context=context||document,"undefined"==typeof context.createElement)context=context.ownerDocument||context[0]&&context[0].ownerDocument||document;for(var ret=[],j,i=0,elem;null!=(elem=elems[i]);i++){if("number"==typeof elem)elem+="";if(elem){if("string"==typeof elem)if(!rhtml.test(elem))elem=context.createTextNode(elem);else{elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");if(context===document)safeFragment.appendChild(div);else createSafeFragment(context).appendChild(div);for(div.innerHTML=wrap[1]+elem+wrap[2];depth--;)div=div.lastChild;if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody="table"===tag&&!hasBody?div.firstChild&&div.firstChild.childNodes:"<table>"===wrap[1]&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j)if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length)tbody[j].parentNode.removeChild(tbody[j])}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem))div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild);elem=div.childNodes}var len;if(!jQuery.support.appendChecked)if(elem[0]&&"number"==typeof(len=elem.length))for(j=0;len>j;j++)findInputs(elem[j]);else findInputs(elem);if(elem.nodeType)ret.push(elem);else ret=jQuery.merge(ret,elem)}else;}if(fragment)for(checkScriptType=function(elem){return!elem.type||rscriptType.test(elem.type)},i=0;ret[i];i++)if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||"text/javascript"===ret[i].type.toLowerCase()))scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i]);else{if(1===ret[i].nodeType){var jsTags=jQuery.grep(ret[i].getElementsByTagName("script"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags))}fragment.appendChild(ret[i])}return ret},cleanData:function(elems){for(var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando,i=0,elem;null!=(elem=elems[i]);i++)if(!elem.nodeName||!jQuery.noData[elem.nodeName.toLowerCase()]){if(id=elem[jQuery.expando]){if(data=cache[id],data&&data.events){for(var type in data.events)if(special[type])jQuery.event.remove(elem,type);else jQuery.removeEvent(elem,type,data.handle);if(data.handle)data.handle.elem=null}if(deleteExpando)delete elem[jQuery.expando];else if(elem.removeAttribute)elem.removeAttribute(jQuery.expando);delete cache[id]}}else;}});var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,rrelNum=/^([\-+])=([\-+.\de]+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],curCSS,getComputedStyle,currentStyle;if(jQuery.fn.css=function(name,value){if(2===arguments.length&&value===undefined)return this;else return jQuery.access(this,name,value,!0,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)})},jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity","opacity");return""===ret?"1":ret}else return elem.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];if(name=jQuery.cssProps[origName]||origName,value!==undefined){if(type=typeof value,"string"===type&&(ret=rrelNum.exec(value)))value=+(ret[1]+1)*+ret[2]+parseFloat(jQuery.css(elem,name)),type="number";if(null==value||"number"===type&&isNaN(value))return;if("number"===type&&!jQuery.cssNumber[origName])value+="px";if(!(hooks&&"set"in hooks&&(value=hooks.set(elem,value))===undefined))try{style[name]=value}catch(e){}}else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined)return ret;else return style[name]}},css:function(elem,name,extra){var ret,hooks;if(name=jQuery.camelCase(name),hooks=jQuery.cssHooks[name],name=jQuery.cssProps[name]||name,"cssFloat"===name)name="float";if(hooks&&"get"in hooks&&(ret=hooks.get(elem,!0,extra))!==undefined)return ret;else if(curCSS)return curCSS(elem,name)},swap:function(elem,options,callback){var old={};for(var name in options)old[name]=elem.style[name],elem.style[name]=options[name];callback.call(elem);for(name in options)elem.style[name]=old[name]}}),jQuery.curCSS=jQuery.css,jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){var val;if(computed){if(0!==elem.offsetWidth)return getWH(elem,name,extra);else jQuery.swap(elem,cssShow,function(){val=getWH(elem,name,extra)});return val}},set:function(elem,value){if(rnumpx.test(value)){if(value=parseFloat(value),value>=0)return value+"px"}else return value}}}),!jQuery.support.opacity)jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?parseFloat(RegExp.$1)/100+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";if(style.zoom=1,value>=1&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute)if(style.removeAttribute("filter"),currentStyle&&!currentStyle.filter)return;style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}};if(jQuery(function(){if(!jQuery.support.reliableMarginRight)jQuery.cssHooks.marginRight={get:function(elem,computed){var ret;return jQuery.swap(elem,{display:"inline-block"},function(){if(computed)ret=curCSS(elem,"margin-right","marginRight");else ret=elem.style.marginRight}),ret}}}),document.defaultView&&document.defaultView.getComputedStyle)getComputedStyle=function(elem,name){var ret,defaultView,computedStyle;if(name=name.replace(rupper,"-$1").toLowerCase(),(defaultView=elem.ownerDocument.defaultView)&&(computedStyle=defaultView.getComputedStyle(elem,null)))if(ret=computedStyle.getPropertyValue(name),""===ret&&!jQuery.contains(elem.ownerDocument.documentElement,elem))ret=jQuery.style(elem,name);return ret};if(document.documentElement.currentStyle)currentStyle=function(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(null===ret&&style&&(uncomputed=style[name]))ret=uncomputed;if(!rnumpx.test(ret)&&rnum.test(ret)){if(left=style.left,rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left)elem.runtimeStyle.left=elem.currentStyle.left;if(style.left="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+"px",style.left=left,rsLeft)elem.runtimeStyle.left=rsLeft}return""===ret?"auto":ret};if(curCSS=getComputedStyle||currentStyle,jQuery.expr&&jQuery.expr.filters)jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return 0===width&&0===height||!jQuery.support.reliableHiddenOffsets&&"none"===(elem.style&&elem.style.display||jQuery.css(elem,"display"))},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts,allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.extend({load:function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);else if(!this.length)return this;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params)if(jQuery.isFunction(params))callback=params,params=undefined;else if("object"==typeof params)params=jQuery.param(params,jQuery.ajaxSettings.traditional),type="POST";var self=this;return jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){if(responseText=jqXHR.responseText,jqXHR.isResolved())jqXHR.done(function(r){responseText=r}),self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText);if(callback)self.each(callback,[responseText,status,jqXHR])}}),this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data))type=type||callback,callback=data,data=undefined;return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}}),jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings)ajaxExtend(target,jQuery.ajaxSettings);else settings=target,target=jQuery.ajaxSettings;return ajaxExtend(target,settings),target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){if(2!==state){if(state=2,timeoutTimer)clearTimeout(timeoutTimer);transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0;var isSuccess,success,error,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&300>status||304===status){if(s.ifModified){if(lastModified=jqXHR.getResponseHeader("Last-Modified"))jQuery.lastModified[ifModifiedKey]=lastModified;if(etag=jqXHR.getResponseHeader("Etag"))jQuery.etag[ifModifiedKey]=etag}if(304===status)statusText="notmodified",isSuccess=!0;else try{success=ajaxConvert(s,response),statusText="success",isSuccess=!0}catch(e){statusText="parsererror",error=e}}else if(error=statusText,!statusText||status)if(statusText="error",0>status)status=0;if(jqXHR.status=status,jqXHR.statusText=""+(nativeStatusText||statusText),isSuccess)deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);else deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);if(jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals)globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]);if(completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals)if(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),!--jQuery.active)jQuery.event.trigger("ajaxStop")}}if("object"==typeof url)options=url,url=undefined;options=options||{};var s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},requestHeadersNames={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state)s.mimeType=type;return this},abort:function(statusText){if(statusText=statusText||"abort",transport)transport.abort(statusText);return done(0,statusText),this}};if(deferred.promise(jqXHR),jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,jqXHR.complete=completeDeferred.add,jqXHR.statusCode=function(map){if(map){var tmp;if(2>state)for(tmp in map)statusCode[tmp]=[statusCode[tmp],map[tmp]];else tmp=map[jqXHR.status],jqXHR.then(tmp,tmp)}return this},s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax),null==s.crossDomain)parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]==ajaxLocParts[1]&&parts[2]==ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?80:443))==(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?80:443)));if(s.data&&s.processData&&"string"!=typeof s.data)s.data=jQuery.param(s.data,s.traditional);if(inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return!1;if(fireGlobals=s.global,s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),fireGlobals&&0===jQuery.active++)jQuery.event.trigger("ajaxStart");if(!s.hasContent){if(s.data)s.url+=(rquery.test(s.url)?"&":"?")+s.data,delete s.data;if(ifModifiedKey=s.url,s.cache===!1){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+(ret===s.url?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)jqXHR.setRequestHeader("Content-Type",s.contentType);if(s.ifModified){if(ifModifiedKey=ifModifiedKey||s.url,jQuery.lastModified[ifModifiedKey])jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]);if(jQuery.etag[ifModifiedKey])jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort(),!1;for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR),!transport)done(-1,"No Transport");else{if(jqXHR.readyState=1,fireGlobals)globalEventContext.trigger("ajaxSend",[jqXHR,s]);if(s.async&&s.timeout>0)timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout);try{state=1,transport.send(requestHeaders,done)}catch(e){if(2>state)done(-1,e);else throw e}}return jqXHR},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined)traditional=jQuery.ajaxSettings.traditional;if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(var prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")}}),jQuery.extend({active:0,lastModified:{},etag:{}});var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+jsc++}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var inspectData="application/x-www-form-urlencoded"===s.contentType&&"string"==typeof s.data;if("jsonp"===s.dataTypes[0]||s.jsonp!==!1&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2";if(s.jsonp!==!1)if(url=url.replace(jsre,replace),s.url===url){if(inspectData)data=data.replace(jsre,replace);if(s.data===data)url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback}return s.url=url,s.data=data,window[jsonpCallback]=function(response){responseContainer=[response]},jqXHR.always(function(){if(window[jsonpCallback]=previous,responseContainer&&jQuery.isFunction(previous))window[jsonpCallback](responseContainer[0])}),s.converters["script json"]=function(){if(!responseContainer)jQuery.error(jsonpCallback+" was not called");return responseContainer[0]},s.dataTypes[0]="json","script"}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined)s.cache=!1;if(s.crossDomain)s.type="GET",s.global=!1}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){if(script=document.createElement("script"),script.async="async",s.scriptCharset)script.charset=s.scriptCharset;script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){if(script.onload=script.onreadystatechange=null,head&&script.parentNode)head.removeChild(script);if(script=undefined,!isAbort)callback(200,"success")}},head.insertBefore(script,head.firstChild)},abort:function(){if(script)script.onload(0,1)}}}});var xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks)xhrCallbacks[key](0,1)}:!1,xhrId=0,xhrCallbacks;if(jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR,function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&"withCredentials"in xhr})}(jQuery.ajaxSettings.xhr()),jQuery.support.ajax)jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var xhr=s.xhr(),handle,i;if(s.username)xhr.open(s.type,s.url,s.async,s.username,s.password);else xhr.open(s.type,s.url,s.async);if(s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];if(s.mimeType&&xhr.overrideMimeType)xhr.overrideMimeType(s.mimeType);if(!s.crossDomain&&!headers["X-Requested-With"])headers["X-Requested-With"]="XMLHttpRequest";try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(_){}if(xhr.send(s.hasContent&&s.data||null),callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||4===xhr.readyState)){if(callback=undefined,handle)if(xhr.onreadystatechange=jQuery.noop,xhrOnUnloadAbort)delete xhrCallbacks[handle];if(isAbort){if(4!==xhr.readyState)xhr.abort()}else{if(status=xhr.status,responseHeaders=xhr.getAllResponseHeaders(),responses={},xml=xhr.responseXML,xml&&xml.documentElement)responses.xml=xml;responses.text=xhr.responseText;try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain)status=responses.text?200:404;else if(1223===status)status=204}}}catch(firefoxAccessException){if(!isAbort)complete(-1,firefoxAccessException)}if(responses)complete(status,statusText,responses,responseHeaders)},!s.async||4===xhr.readyState)callback();else{if(handle=++xhrId,xhrOnUnloadAbort){if(!xhrCallbacks)xhrCallbacks={},jQuery(window).unload(xhrOnUnloadAbort);xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}},abort:function(){if(callback)callback(0,1)}}}});var elemdisplay={},iframe,iframeDoc,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fxNow;if(jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||0===speed)return this.animate(genFx("show",3),speed,easing,callback);else{for(var i=0,j=this.length;j>i;i++)if(elem=this[i],elem.style){if(display=elem.style.display,!jQuery._data(elem,"olddisplay")&&"none"===display)display=elem.style.display="";if(""===display&&"none"===jQuery.css(elem,"display"))jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName))}for(i=0;j>i;i++)if(elem=this[i],elem.style)if(display=elem.style.display,""===display||"none"===display)elem.style.display=jQuery._data(elem,"olddisplay")||"";return this}},hide:function(speed,easing,callback){if(speed||0===speed)return this.animate(genFx("hide",3),speed,easing,callback);else{for(var elem,display,i=0,j=this.length;j>i;i++)if(elem=this[i],elem.style)if(display=jQuery.css(elem,"display"),"none"!==display&&!jQuery._data(elem,"olddisplay"))jQuery._data(elem,"olddisplay",display);for(i=0;j>i;i++)if(this[i].style)this[i].style.display="none";return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool="boolean"==typeof fn;if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2))this._toggle.apply(this,arguments);else if(null==fn||bool)this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()});else this.animate(genFx("toggle",3),fn,fn2,callback);return this},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){function doAnimation(){if(optall.queue===!1)jQuery._mark(this);var opt=jQuery.extend({},optall),isElement=1===this.nodeType,hidden=isElement&&jQuery(this).is(":hidden"),name,val,p,e,parts,start,end,unit,method;opt.animatedProperties={};for(p in prop){if(name=jQuery.camelCase(p),p!==name)prop[name]=prop[p],delete prop[p];if(val=prop[name],jQuery.isArray(val))opt.animatedProperties[name]=val[1],val=prop[name]=val[0];else opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||"swing";if("hide"===val&&hidden||"show"===val&&!hidden)return opt.complete.call(this);if(isElement&&("height"===name||"width"===name))if(opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===jQuery.css(this,"display")&&"none"===jQuery.css(this,"float"))if(!jQuery.support.inlineBlockNeedsLayout||"inline"===defaultDisplay(this.nodeName))this.style.display="inline-block";else this.style.zoom=1}if(null!=opt.overflow)this.style.overflow="hidden";for(p in prop)if(e=new jQuery.fx(this,opt,p),val=prop[p],rfxtypes.test(val))if(method=jQuery._data(this,"toggle"+p)||("toggle"===val?hidden?"show":"hide":0))jQuery._data(this,"toggle"+p,"show"===method?"hide":"show"),e[method]();else e[val]();else if(parts=rfxnum.exec(val),start=e.cur(),parts){if(end=parseFloat(parts[2]),unit=parts[3]||(jQuery.cssNumber[p]?"":"px"),"px"!==unit)jQuery.style(this,p,(end||1)+unit),start=(end||1)/e.cur()*start,jQuery.style(this,p,start+unit);if(parts[1])end=("-="===parts[1]?-1:1)*end+start;e.custom(start,end,unit)}else e.custom(start,val,"");return!0}var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop))return this.each(optall.complete,[!1]);else return prop=jQuery.extend({},prop),optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){if("string"!=typeof type)gotoEnd=clearQueue,clearQueue=type,type=undefined;if(clearQueue&&type!==!1)this.queue(type||"fx",[]);return this.each(function(){function stopQueue(elem,data,index){var hooks=data[index];jQuery.removeData(elem,index,!0),hooks.stop(gotoEnd)}var index,hadTimers=!1,timers=jQuery.timers,data=jQuery._data(this);if(!gotoEnd)jQuery._unmark(!0,this);if(null==type){for(index in data)if(data[index]&&data[index].stop&&index.indexOf(".run")===index.length-4)stopQueue(this,data,index)}else if(data[index=type+".run"]&&data[index].stop)stopQueue(this,data,index);for(index=timers.length;index--;)if(timers[index].elem===this&&(null==type||timers[index].queue===type)){if(gotoEnd)timers[index](!0);else timers[index].saveState();hadTimers=!0,timers.splice(index,1)}if(!gotoEnd||!hadTimers)jQuery.dequeue(this,type)})}}),jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};if(opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null==opt.queue||opt.queue===!0)opt.queue="fx";return opt.old=opt.complete,opt.complete=function(noUnmark){if(jQuery.isFunction(opt.old))opt.old.call(this);if(opt.queue)jQuery.dequeue(this,opt.queue);else if(noUnmark!==!1)jQuery._unmark(this)},opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return(-Math.cos(p*Math.PI)/2+.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options,this.elem=elem,this.prop=prop,options.orig=options.orig||{}}}),jQuery.fx.prototype={update:function(){if(this.options.step)this.options.step.call(this.elem,this.now,this);(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||"auto"===r?0:r:parsed},custom:function(from,to,unit){function t(gotoEnd){return self.step(gotoEnd)}var self=this,fx=jQuery.fx;if(this.startTime=fxNow||createFxNow(),this.end=to,this.now=this.start=from,this.pos=this.state=0,this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px"),t.queue=this.options.queue,t.elem=this.elem,t.saveState=function(){if(self.options.hide&&jQuery._data(self.elem,"fxshow"+self.prop)===undefined)jQuery._data(self.elem,"fxshow"+self.prop,self.start)},t()&&jQuery.timers.push(t)&&!timerId)timerId=setInterval(fx.tick,fx.interval)},show:function(){var dataShow=jQuery._data(this.elem,"fxshow"+this.prop);if(this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop),this.options.show=!0,dataShow!==undefined)this.custom(this.cur(),dataShow);else this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=!0,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),options.animatedProperties[this.prop]=!0;for(p in options.animatedProperties)if(options.animatedProperties[p]!==!0)done=!1;if(done){if(null!=options.overflow&&!jQuery.support.shrinkWrapBlocks)jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index]});if(options.hide)jQuery(elem).hide();if(options.hide||options.show)for(p in options.animatedProperties)jQuery.style(elem,p,options.orig[p]),jQuery.removeData(elem,"fxshow"+p,!0),jQuery.removeData(elem,"toggle"+p,!0);if(complete=options.complete)options.complete=!1,complete.call(elem)}return!1}else{if(1/0==options.duration)this.now=t;else n=t-this.startTime,this.state=n/options.duration,this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration),this.now=this.start+(this.end-this.start)*this.pos;this.update()}return!0}},jQuery.extend(jQuery.fx,{tick:function(){for(var timer,timers=jQuery.timers,i=0;i<timers.length;i++)if(timer=timers[i],!timer()&&timers[i]===timer)timers.splice(i--,1);if(!timers.length)jQuery.fx.stop()},interval:13,stop:function(){clearInterval(timerId),timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&null!=fx.elem.style[fx.prop])fx.elem.style[fx.prop]=fx.now+fx.unit;
else fx.elem[fx.prop]=fx.now}}}),jQuery.each(["width","height"],function(i,prop){jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now)+fx.unit)}}),jQuery.expr&&jQuery.expr.filters)jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;if("getBoundingClientRect"in document.documentElement)jQuery.fn.offset=function(options){var elem=this[0],box;if(options)return this.each(function(i){jQuery.offset.setOffset(this,options,i)});if(!elem||!elem.ownerDocument)return null;if(elem===elem.ownerDocument.body)return jQuery.offset.bodyOffset(elem);try{box=elem.getBoundingClientRect()}catch(e){}var doc=elem.ownerDocument,docElem=doc.documentElement;if(!box||!jQuery.contains(docElem,elem))return box?{top:box.top,left:box.left}:{top:0,left:0};var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left}};else jQuery.fn.offset=function(options){var elem=this[0];if(options)return this.each(function(i){jQuery.offset.setOffset(this,options,i)});if(!elem||!elem.ownerDocument)return null;if(elem===elem.ownerDocument.body)return jQuery.offset.bodyOffset(elem);for(var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;(elem=elem.parentNode)&&elem!==body&&elem!==docElem&&(!jQuery.support.fixedPosition||"fixed"!==prevComputedStyle.position);){if(computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top-=elem.scrollTop,left-=elem.scrollLeft,elem===offsetParent){if(top+=elem.offsetTop,left+=elem.offsetLeft,jQuery.support.doesNotAddBorder&&(!jQuery.support.doesAddBorderForTableAndCells||!rtable.test(elem.nodeName)))top+=parseFloat(computedStyle.borderTopWidth)||0,left+=parseFloat(computedStyle.borderLeftWidth)||0;prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.support.subtractsBorderForOverflowNotVisible&&"visible"!==computedStyle.overflow)top+=parseFloat(computedStyle.borderTopWidth)||0,left+=parseFloat(computedStyle.borderLeftWidth)||0;prevComputedStyle=computedStyle}if("relative"===prevComputedStyle.position||"static"===prevComputedStyle.position)top+=body.offsetTop,left+=body.offsetLeft;if(jQuery.support.fixedPosition&&"fixed"===prevComputedStyle.position)top+=Math.max(docElem.scrollTop,body.scrollTop),left+=Math.max(docElem.scrollLeft,body.scrollLeft);return{top:top,left:left}};if(jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset)top+=parseFloat(jQuery.css(body,"marginTop"))||0,left+=parseFloat(jQuery.css(body,"marginLeft"))||0;return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if("static"===position)elem.style.position="relative";var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition)curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left;else curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0;if(jQuery.isFunction(options))options=options.call(elem,i,curOffset);if(null!=options.top)props.top=options.top-curOffset.top+curTop;if(null!=options.left)props.left=options.left-curOffset.left+curLeft;if("using"in options)options.using.call(elem,props);else curElem.css(props)}},jQuery.fn.extend({position:function(){if(!this[0])return null;var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();return offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0,offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0,parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0,parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||document.body;offsetParent&&!rroot.test(offsetParent.nodeName)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent})}}),jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem,win;if(val===undefined)if(elem=this[0],!elem)return null;else return win=getWindow(elem),win?"pageXOffset"in win?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method];return this.each(function(){if(win=getWindow(this))win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop());else this[method]=val})}}),jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,"padding")):this[type]():null},jQuery.fn["outer"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?"margin":"border")):this[type]():null},jQuery.fn[type]=function(size){var elem=this[0];if(!elem)return null==size?null:this;if(jQuery.isFunction(size))return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))});if(jQuery.isWindow(elem)){var docElemProp=elem.document.documentElement["client"+name],body=elem.document.body;return"CSS1Compat"===elem.document.compatMode&&docElemProp||body&&body["client"+name]||docElemProp}else if(9===elem.nodeType)return Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]);else if(size===undefined){var orig=jQuery.css(elem,type),ret=parseFloat(orig);return jQuery.isNumeric(ret)?ret:orig}else return this.css(type,"string"==typeof size?size:size+"px")}}),window.jQuery=window.$=jQuery,"function"==typeof define&&define.amd&&define.amd.jQuery)define("jquery",[],function(){return jQuery})}(window),!function(){function eq(a,b,stack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=stack.length;length--;)if(stack[length]==a)return!0;stack.push(a);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=size in a==size in b&&eq(a[size],b[size],stack)););}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var key in a)if(_.has(a,key))if(size++,!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return stack.pop(),result}var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return new wrapper(obj)};if("undefined"!=typeof exports){if("undefined"!=typeof module&&module.exports)exports=module.exports=_;exports._=_}else root._=_;_.VERSION="1.3.1";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;l>i;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key))if(iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];if(null==obj)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);if(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),obj.length===+obj.length)results.length=obj.length;return results},_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}if(each(obj,function(value,index,list){if(!initial)memo=value,initial=!0;else memo=iterator.call(context,memo,value,index,list)}),!initial)throw new TypeError("Reduce of empty array with no initial value");return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var reversed=_.toArray(obj).reverse();if(context&&!initial)iterator=_.bind(iterator,context);return initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){if(iterator.call(context,value,index,list))return result=value,!0;else return void 0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];if(null==obj)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);else return each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value}),results},_.reject=function(obj,iterator,context){var results=[];if(null==obj)return results;else return each(obj,function(value,index,list){if(!iterator.call(context,value,index,list))results[results.length]=value}),results},_.every=_.all=function(obj,iterator,context){var result=!0;if(null==obj)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);else return each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker;else return void 0}),result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;if(null==obj)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);else return each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker;else return void 0}),!!result};_.include=_.contains=function(obj,target){var found=!1;if(null==obj)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return-1!=obj.indexOf(target);else return found=any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj))return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-1/0;var result={computed:-1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj))return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var shuffled=[],rand;return each(obj,function(value,index,list){if(0==index)shuffled[0]=value;else rand=Math.floor(Math.random()*(index+1)),shuffled[index]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sortBy=function(obj,iterator,context){return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0}),"value")},_.groupBy=function(obj,val){var result={},iterator=_.isFunction(val)?val:function(obj){return obj[val]};return each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)}),result},_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);for(var low=0,high=array.length;high>low;){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low},_.toArray=function(iterable){if(!iterable)return[];if(iterable.toArray)return iterable.toArray();if(_.isArray(iterable))return slice.call(iterable);if(_.isArguments(iterable))return slice.call(iterable);else return _.values(iterable)},_.size=function(obj){return _.toArray(obj).length},_.first=_.head=function(array,n,guard){return null!=n&&!guard?slice.call(array,0,n):array[0]},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){if(null!=n&&!guard)return slice.call(array,Math.max(array.length-n,0));else return array[array.length-1]},_.rest=_.tail=function(array,index,guard){return slice.call(array,null==index||guard?1:index)},_.compact=function(array){return _.filter(array,function(value){return!!value})},_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){if(_.isArray(value))return memo.concat(shallow?value:_.flatten(value));else return memo[memo.length]=value,memo},[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array,result=[];return _.reduce(initial,function(memo,el,i){if(0==i||(isSorted===!0?_.last(memo)!=el:!_.include(memo,el)))memo[memo.length]=el,result[result.length]=array[i];return memo},[]),result},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=_.flatten(slice.call(arguments,1));return _.filter(array,function(value){return!_.include(rest,value)})},_.zip=function(){for(var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length),i=0;length>i;i++)results[i]=_.pluck(args,""+i);return results},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i,l;if(isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;l>i;i++)if(i in array&&array[i]===item)return i;return-1},_.lastIndexOf=function(array,item){if(null==array)return-1;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return array.lastIndexOf(item);for(var i=array.length;i--;)if(i in array&&array[i]===item)return i;return-1},_.range=function(start,stop,step){if(arguments.length<=1)stop=start||0,start=0;step=arguments[2]||1;for(var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);len>idx;)range[idx++]=start,start+=step;return range};var ctor=function(){};if(_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor,result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;else return self}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(0==funcs.length)funcs=_.functions(obj);return each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(func,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,throttling,more,whenDone=_.debounce(function(){more=throttling=!1},wait);return function(){context=this,args=arguments;var later=function(){if(timeout=null,more)func.apply(context,args);whenDone()};if(!timeout)timeout=setTimeout(later,wait);if(throttling)more=!0;else func.apply(context,args);whenDone(),throttling=!0}},_.debounce=function(func,wait){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,func.apply(context,args)};clearTimeout(timeout),timeout=setTimeout(later,wait)}},_.once=function(func){var ran=!1,memo;return function(){if(ran)return memo;else return ran=!0,memo=func.apply(this,arguments)}},_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){if(0>=times)return func();else return function(){if(--times<1)return func.apply(this,arguments);else return void 0}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys},_.values=function(obj){return _.map(obj,_.identity)},_.functions=_.methods=function(obj){var names=[];for(var key in obj)if(_.isFunction(obj[key]))names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)if(null==obj[prop])obj[prop]=source[prop]}),obj},_.clone=function(obj){if(!_.isObject(obj))return obj;else return _.isArray(obj)?obj.slice():_.extend({},obj)},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isEqual=function(a,b){return eq(a,b,[])},_.isEmpty=function(obj){if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!=obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},_.isArguments=function(obj){return"[object Arguments]"==toString.call(obj)},!_.isArguments(arguments))_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))};_.isFunction=function(obj){return"[object Function]"==toString.call(obj)},_.isString=function(obj){return"[object String]"==toString.call(obj)},_.isNumber=function(obj){return"[object Number]"==toString.call(obj)},_.isNaN=function(obj){return obj!==obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isDate=function(obj){return"[object Date]"==toString.call(obj)},_.isRegExp=function(obj){return"[object RegExp]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var i=0;n>i;i++)iterator.call(context,i)},_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/,unescape=function(code){return code.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};_.template=function(str,data){var c=_.templateSettings,tmpl="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+str.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||noMatch,function(match,code){return"',_.escape("+unescape(code)+"),'"}).replace(c.interpolate||noMatch,function(match,code){return"',"+unescape(code)+",'"}).replace(c.evaluate||noMatch,function(match,code){return"');"+unescape(code).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",func=new Function("obj","_",tmpl);if(data)return func(data,_);else return function(data){return func.call(this,data,_)}},_.chain=function(obj){return _(obj).chain()};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj},addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);return unshift.call(args,this._wrapped),result(func.apply(_,args),this._chain)}};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;if(("shift"==name||"splice"==name)&&0===length)delete wrapped[0];return result(wrapped,this._chain)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}}),wrapper.prototype.chain=function(){return this._chain=!0,this},wrapper.prototype.value=function(){return this._wrapped}}.call(this),define("underscore",function(global){return function(){var ret,fn;return ret||global._}}(this)),!function(){var root=this,previousBackbone=root.Backbone,slice=Array.prototype.slice,splice=Array.prototype.splice,Backbone;if("undefined"!=typeof exports)Backbone=exports;else Backbone=root.Backbone={};Backbone.VERSION="0.9.2";var _=root._;if(!_&&"undefined"!=typeof require)_=require("underscore");var $=root.jQuery||root.Zepto||root.ender;Backbone.setDomLibrary=function(lib){$=lib},Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var eventSplitter=/\s+/,Events=Backbone.Events={on:function(events,callback,context){var calls,event,node,tail,list;if(!callback)return this;for(events=events.split(eventSplitter),calls=this._callbacks||(this._callbacks={});event=events.shift();)list=calls[event],node=list?list.tail:{},node.next=tail={},node.context=context,node.callback=callback,calls[event]={tail:tail,next:list?list.next:node};return this},off:function(events,callback,context){var event,calls,node,tail,cb,ctx;if(calls=this._callbacks){if(!(events||callback||context))return delete this._callbacks,this;for(events=events?events.split(eventSplitter):_.keys(calls);event=events.shift();)if(node=calls[event],delete calls[event],node&&(callback||context)){for(tail=node.tail;(node=node.next)!==tail;)if(cb=node.callback,ctx=node.context,callback&&cb!==callback||context&&ctx!==context)this.on(event,cb,ctx)}else;return this}},trigger:function(events){var event,node,calls,tail,args,all,rest;if(!(calls=this._callbacks))return this;for(all=calls.all,events=events.split(eventSplitter),rest=slice.call(arguments,1);event=events.shift();){if(node=calls[event])for(tail=node.tail;(node=node.next)!==tail;)node.callback.apply(node.context||this,rest);if(node=all)for(tail=node.tail,args=[event].concat(rest);(node=node.next)!==tail;)node.callback.apply(node.context||this,args)}return this}};Events.bind=Events.on,Events.unbind=Events.off;var Model=Backbone.Model=function(attributes,options){var defaults;if(attributes||(attributes={}),options&&options.parse)attributes=this.parse(attributes);if(defaults=getValue(this,"defaults"))attributes=_.extend({},defaults,attributes);if(options&&options.collection)this.collection=options.collection;this.attributes={},this._escapedAttributes={},this.cid=_.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(attributes,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=_.clone(this.attributes),this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},get:function(attr){return this.attributes[attr]},escape:function(attr){var html;if(html=this._escapedAttributes[attr])return html;var val=this.get(attr);return this._escapedAttributes[attr]=_.escape(null==val?"":""+val)},has:function(attr){return null!=this.get(attr)},set:function(key,value,options){var attrs,attr,val;if(_.isObject(key)||null==key)attrs=key,options=value;else attrs={},attrs[key]=value;if(options||(options={}),!attrs)return this;if(attrs instanceof Model)attrs=attrs.attributes;if(options.unset)for(attr in attrs)attrs[attr]=void 0;if(!this._validate(attrs,options))return!1;if(this.idAttribute in attrs)this.id=attrs[this.idAttribute];var changes=options.changes={},now=this.attributes,escaped=this._escapedAttributes,prev=this._previousAttributes||{};for(attr in attrs){if(val=attrs[attr],!_.isEqual(now[attr],val)||options.unset&&_.has(now,attr))delete escaped[attr],(options.silent?this._silent:changes)[attr]=!0;if(options.unset?delete now[attr]:now[attr]=val,!_.isEqual(prev[attr],val)||_.has(now,attr)!=_.has(prev,attr)){if(this.changed[attr]=val,!options.silent)this._pending[attr]=!0}else delete this.changed[attr],delete this._pending[attr]}if(!options.silent)this.change(options);return this},unset:function(attr,options){return(options||(options={})).unset=!0,this.set(attr,null,options)},clear:function(options){return(options||(options={})).unset=!0,this.set(_.clone(this.attributes),options)},fetch:function(options){options=options?_.clone(options):{};var model=this,success=options.success;return options.success=function(resp,status,xhr){if(!model.set(model.parse(resp,xhr),options))return!1;if(success)success(model,resp)},options.error=Backbone.wrapError(options.error,model,options),(this.sync||Backbone.sync).call(this,"read",this,options)},save:function(key,value,options){var attrs,current;if(_.isObject(key)||null==key)attrs=key,options=value;else attrs={},attrs[key]=value;if(options=options?_.clone(options):{},options.wait){if(!this._validate(attrs,options))return!1;current=_.clone(this.attributes)}var silentOptions=_.extend({},options,{silent:!0});if(attrs&&!this.set(attrs,options.wait?silentOptions:options))return!1;var model=this,success=options.success;options.success=function(resp,status,xhr){var serverAttrs=model.parse(resp,xhr);if(options.wait)delete options.wait,serverAttrs=_.extend(attrs||{},serverAttrs);if(!model.set(serverAttrs,options))return!1;if(success)success(model,resp);else model.trigger("sync",model,resp,options)},options.error=Backbone.wrapError(options.error,model,options);var method=this.isNew()?"create":"update",xhr=(this.sync||Backbone.sync).call(this,method,this,options);if(options.wait)this.set(current,silentOptions);return xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,triggerDestroy=function(){model.trigger("destroy",model,model.collection,options)};if(this.isNew())return triggerDestroy(),!1;options.success=function(resp){if(options.wait)triggerDestroy();if(success)success(model,resp);else model.trigger("sync",model,resp,options)},options.error=Backbone.wrapError(options.error,model,options);var xhr=(this.sync||Backbone.sync).call(this,"delete",this,options);if(!options.wait)triggerDestroy();return xhr},url:function(){var base=getValue(this,"urlRoot")||getValue(this.collection,"url")||urlError();if(this.isNew())return base;else return base+("/"==base.charAt(base.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(resp,xhr){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(options){options||(options={});var changing=this._changing;this._changing=!0;for(var attr in this._silent)this._pending[attr]=!0;var changes=_.extend({},options.changes,this._silent);this._silent={};for(var attr in changes)this.trigger("change:"+attr,this,this.get(attr),options);if(changing)return this;for(;!_.isEmpty(this._pending);){this._pending={},this.trigger("change",this,options);for(var attr in this.changed)if(!this._pending[attr]&&!this._silent[attr])delete this.changed[attr];else;this._previousAttributes=_.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(attr){if(!arguments.length)return!_.isEmpty(this.changed);else return _.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var val,changed=!1,old=this._previousAttributes;for(var attr in diff)if(!_.isEqual(old[attr],val=diff[attr]))(changed||(changed={}))[attr]=val;else;return changed},previous:function(attr){if(!arguments.length||!this._previousAttributes)return null;else return this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(attrs,options){if(options.silent||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validate(attrs,options);if(!error)return!0;if(options&&options.error)options.error(this,error,options);else this.trigger("error",this,error,options);return!1}});var Collection=Backbone.Collection=function(models,options){if(options||(options={}),options.model)this.model=options.model;if(options.comparator)this.comparator=options.comparator;if(this._reset(),this.initialize.apply(this,arguments),models)this.reset(models,{silent:!0,parse:options.parse})};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},add:function(models,options){var i,index,length,model,cid,id,cids={},ids={},dups=[];for(options||(options={}),models=_.isArray(models)?models.slice():[models],i=0,length=models.length;length>i;i++){if(!(model=models[i]=this._prepareModel(models[i],options)))throw new Error("Can't add an invalid model to a collection");if(cid=model.cid,id=model.id,!(cids[cid]||this._byCid[cid]||null!=id&&(ids[id]||this._byId[id])))cids[cid]=ids[id]=model;
else dups.push(i)}for(i=dups.length;i--;)models.splice(dups[i],1);for(i=0,length=models.length;length>i;i++)if((model=models[i]).on("all",this._onModelEvent,this),this._byCid[model.cid]=model,null!=model.id)this._byId[model.id]=model;if(this.length+=length,index=null!=options.at?options.at:this.models.length,splice.apply(this.models,[index,0].concat(models)),this.comparator)this.sort({silent:!0});if(options.silent)return this;for(i=0,length=this.models.length;length>i;i++)if(cids[(model=this.models[i]).cid])options.index=i,model.trigger("add",model,this,options);else;return this},remove:function(models,options){var i,l,index,model;for(options||(options={}),models=_.isArray(models)?models.slice():[models],i=0,l=models.length;l>i;i++)if(model=this.getByCid(models[i])||this.get(models[i])){if(delete this._byId[model.id],delete this._byCid[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,!options.silent)options.index=index,model.trigger("remove",model,this,options);this._removeReference(model)}else;return this},push:function(model,options){return model=this._prepareModel(model,options),this.add(model,options),model},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return model=this._prepareModel(model,options),this.add(model,_.extend({at:0},options)),model},shift:function(options){var model=this.at(0);return this.remove(model,options),model},get:function(id){if(null==id)return void 0;else return this._byId[null!=id.id?id.id:id]},getByCid:function(cid){return cid&&this._byCid[cid.cid||cid]},at:function(index){return this.models[index]},where:function(attrs){if(_.isEmpty(attrs))return[];else return this.filter(function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return!0})},sort:function(options){if(options||(options={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var boundComparator=_.bind(this.comparator,this);if(1==this.comparator.length)this.models=this.sortBy(boundComparator);else this.models.sort(boundComparator);if(!options.silent)this.trigger("reset",this,options);return this},pluck:function(attr){return _.map(this.models,function(model){return model.get(attr)})},reset:function(models,options){models||(models=[]),options||(options={});for(var i=0,l=this.models.length;l>i;i++)this._removeReference(this.models[i]);if(this._reset(),this.add(models,_.extend({silent:!0},options)),!options.silent)this.trigger("reset",this,options);return this},fetch:function(options){if(options=options?_.clone(options):{},void 0===options.parse)options.parse=!0;var collection=this,success=options.success;return options.success=function(resp,status,xhr){if(collection[options.add?"add":"reset"](collection.parse(resp,xhr),options),success)success(collection,resp)},options.error=Backbone.wrapError(options.error,collection,options),(this.sync||Backbone.sync).call(this,"read",this,options)},create:function(model,options){var coll=this;if(options=options?_.clone(options):{},model=this._prepareModel(model,options),!model)return!1;if(!options.wait)coll.add(model,options);var success=options.success;return options.success=function(nextModel,resp,xhr){if(options.wait)coll.add(nextModel,options);if(success)success(nextModel,resp);else nextModel.trigger("sync",model,resp,options)},model.save(null,options),model},parse:function(resp,xhr){return resp},chain:function(){return _(this.models).chain()},_reset:function(options){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(model,options){if(options||(options={}),!(model instanceof Model)){var attrs=model;if(options.collection=this,model=new this.model(attrs,options),!model._validate(model.attributes,options))model=!1}else if(!model.collection)model.collection=this;return model},_removeReference:function(model){if(this==model.collection)delete model.collection;model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if("add"!=event&&"remove"!=event||collection==this){if("destroy"==event)this.remove(model,options);if(model&&event==="change:"+model.idAttribute)delete this._byId[model.previous(model.idAttribute)],this._byId[model.id]=model;this.trigger.apply(this,arguments)}}});var methods=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];_.each(methods,function(method){Collection.prototype[method]=function(){return _[method].apply(_,[this.models].concat(_.toArray(arguments)))}});var Router=Backbone.Router=function(options){if(options||(options={}),options.routes)this.routes=options.routes;this._bindRoutes(),this.initialize.apply(this,arguments)},namedParam=/:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[-[\]{}()+?.,\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){if(Backbone.history||(Backbone.history=new History),!_.isRegExp(route))route=this._routeToRegExp(route);if(!callback)callback=this[name];return Backbone.history.route(route,_.bind(function(fragment){var args=this._extractParameters(route,fragment);callback&&callback.apply(this,args),this.trigger.apply(this,["route:"+name].concat(args)),Backbone.history.trigger("route",this,name,args)},this)),this},navigate:function(fragment,options){Backbone.history.navigate(fragment,options)},_bindRoutes:function(){if(this.routes){var routes=[];for(var route in this.routes)routes.unshift([route,this.routes[route]]);for(var i=0,l=routes.length;l>i;i++)this.route(routes[i][0],routes[i][1],this[routes[i][1]])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(namedParam,"([^/]+)").replace(splatParam,"(.*?)"),new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){return route.exec(fragment).slice(1)}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl")},routeStripper=/^[#\/]/,isExplorer=/msie [\w.]+/;History.started=!1,_.extend(History.prototype,Events,{interval:50,getHash:function(windowOverride){var loc=windowOverride?windowOverride.location:window.location,match=loc.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(null==fragment)if(this._hasPushState||forcePushState){fragment=window.location.pathname;var search=window.location.search;if(search)fragment+=search}else fragment=this.getHash();if(!fragment.indexOf(this.options.root))fragment=fragment.substr(this.options.root.length);return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({},{root:"/"},this.options,options),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||7>=docMode);if(oldIE)this.iframe=$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(fragment);if(this._hasPushState)$(window).bind("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!oldIE)$(window).bind("hashchange",this.checkUrl);else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=fragment;var loc=window.location,atRoot=loc.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;else if(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash)this.fragment=this.getHash().replace(routeStripper,""),window.history.replaceState({},document.title,loc.protocol+"//"+loc.host+this.options.root+this.fragment);if(!this.options.silent)return this.loadUrl();else return void 0},stop:function(){$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();if(current==this.fragment&&this.iframe)current=this.getFragment(this.getHash(this.iframe));if(current==this.fragment)return!1;if(this.iframe)this.navigate(current);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride),matched=_.any(this.handlers,function(handler){if(handler.route.test(fragment))return handler.callback(fragment),!0;else return void 0});return matched},navigate:function(fragment,options){if(!History.started)return!1;if(!options||options===!0)options={trigger:options};var frag=(fragment||"").replace(routeStripper,"");if(this.fragment!=frag){if(this._hasPushState){if(0!=frag.indexOf(this.options.root))frag=this.options.root+frag;this.fragment=frag,window.history[options.replace?"replaceState":"pushState"]({},document.title,frag)}else if(this._wantsHashChange){if(this.fragment=frag,this._updateHash(window.location,frag,options.replace),this.iframe&&frag!=this.getFragment(this.getHash(this.iframe))){if(!options.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,frag,options.replace)}}else window.location.assign(this.options.root+fragment);if(options.trigger)this.loadUrl(fragment)}},_updateHash:function(location,fragment,replace){if(replace)location.replace(location.toString().replace(/(javascript:|#).*$/,"")+"#"+fragment);else location.hash=fragment}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),this._configure(options||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(tagName,attributes,content){var el=document.createElement(tagName);if(attributes)$(el).attr(attributes);if(content)$(el).html(content);return el},setElement:function(element,delegate){if(this.$el)this.undelegateEvents();if(this.$el=element instanceof $?element:$(element),this.el=this.$el[0],delegate!==!1)this.delegateEvents();return this},delegateEvents:function(events){if(events||(events=getValue(this,"events"))){this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[events[key]];if(!method)throw new Error('Method "'+events[key]+'" does not exist');var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];if(method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,""===selector)this.$el.bind(eventName,method);else this.$el.delegate(selector,eventName,method)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(options){if(this.options)options=_.extend({},this.options,options);for(var i=0,l=viewOptions.length;l>i;i++){var attr=viewOptions[i];if(options[attr])this[attr]=options[attr]}this.options=options},_ensureElement:function(){if(!this.el){var attrs=getValue(this,"attributes")||{};if(this.id)attrs.id=this.id;if(this.className)attrs["class"]=this.className;this.setElement(this.make(this.tagName,attrs),!1)}else this.setElement(this.el,!1)}});var extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);return child.extend=this.extend,child};Model.extend=Collection.extend=Router.extend=View.extend=extend;var methodMap={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Backbone.sync=function(method,model,options){var type=methodMap[method];options||(options={});var params={type:type,dataType:"json"};if(!options.url)params.url=getValue(model,"url")||urlError();if(!options.data&&model&&("create"==method||"update"==method))params.contentType="application/json",params.data=JSON.stringify(model.toJSON());if(Backbone.emulateJSON)params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{};if(Backbone.emulateHTTP)if("PUT"===type||"DELETE"===type){if(Backbone.emulateJSON)params.data._method=type;params.type="POST",params.beforeSend=function(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type)}}if("GET"!==params.type&&!Backbone.emulateJSON)params.processData=!1;return $.ajax(_.extend(params,options))},Backbone.wrapError=function(onError,originalModel,options){return function(model,resp){if(resp=model===originalModel?resp:model,onError)onError(originalModel,resp,options);else originalModel.trigger("error",originalModel,resp,options)}};var ctor=function(){},inherits=function(parent,protoProps,staticProps){var child;if(protoProps&&protoProps.hasOwnProperty("constructor"))child=protoProps.constructor;else child=function(){parent.apply(this,arguments)};if(_.extend(child,parent),ctor.prototype=parent.prototype,child.prototype=new ctor,protoProps)_.extend(child.prototype,protoProps);if(staticProps)_.extend(child,staticProps);return child.prototype.constructor=child,child.__super__=parent.prototype,child},getValue=function(object,prop){if(!object||!object[prop])return null;else return _.isFunction(object[prop])?object[prop]():object[prop]},urlError=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(global){return function(){var ret,fn;return fn=function(_,$){return _.noConflict(),$.noConflict(),Backbone.noConflict()},ret=fn.apply(global,arguments),ret||global.Backbone}}(this)),!function(factory){if("function"==typeof define&&define.amd)define("js/lib/lucid",factory);else if(("object"==typeof module||"function"==typeof module)&&module.exports)module.exports=factory();else window.LucidJS=factory()}(function(){function EventEmitter(object){function on(event){function clear(){if(listeners[event]){for(aI=0;aI<args.length;aI+=1)listeners[event].splice(listeners[event].indexOf(args[aI]),1);if(listeners[event].length<1)delete listeners[event]}}function batchOn(events,args){function clear(){var bI;for(bI=0;bI<bindings.length;bI+=1)bindings[bI].clear()}var eI,binding={},bindings=[];for(eI=0;eI<events.length;eI+=1)args.unshift(events[eI]),bindings.push(on.apply(this,args)),args.shift();return binding.clear=clear,binding}var args=Array.prototype.slice.apply(arguments,[1]),binding={},aI,sI;if("object"==typeof event&&"function"==typeof event.push)return batchOn(event,args);if("emitter"!==event.slice(0,7))trigger("emitter.listener",event,args);if(setEvents[event]){for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Cannot bind event. All callbacks must be functions.");for(sI=0;sI<setEvents[event].length;sI+=1)args[aI].apply(this,setEvents[event][sI])}return binding.clear=function(){},binding}if(!listeners[event])listeners[event]=[];for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Cannot bind event. All callbacks must be functions.");listeners[event].push(args[aI])}return binding.clear=clear,binding}function off(event){var args=Array.prototype.slice.apply(arguments,[1]),aI,sI;if("object"!=typeof event||"function"!=typeof event.push){if(!listeners[event])throw new Error('Tried to remove an event from a non-existant event of type "'+event+'".');for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Tried to remove a non-function.");var listenerIndex=listeners[event].indexOf(args[aI]);listeners[event].splice(listenerIndex,1)}}else for(sI=0;sI<event.length;sI+=1)off.apply(null,[event[sI]].concat(args))}function once(event){var binding,args=Array.prototype.slice.apply(arguments,[1]),result=!0;return binding=on(event,function(){var aI,eventArgs=Array.prototype.slice.apply(arguments);for(binding.clear(),aI=0;aI<args.length;aI+=1)if(args[aI].apply(this,eventArgs)===!1)result=!1;return result})}function trigger(event,a1,a2,a3,a4,la){function batchTrigger(events,a1,a2,a3,a4,la){var eI,result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);for(eI=0;eI<events.length;eI+=1)if(longArgs){if(args.unshift(events[eI]),trigger.apply(this,args)===!1)result=!1;args.shift()}else if(trigger(events[eI],a1,a2,a3,a4)===!1)result=!1;return result}var longArgs,lI,eventListeners,result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);if("object"==typeof event&&"function"==typeof event.push)if(longArgs)return batchTrigger.apply(null,arguments);else return batchTrigger(event,a1,a2,a3,a4);for(event=event.split(".");event.length;){if(eventListeners=listeners[event.join(".")],"emitter"!==event[0])if(longArgs)trigger.apply(this,[].concat("emitter.event",event.join("."),longArgs));else trigger("emitter.event",a1,a2,a3,a4);if(eventListeners)for(eventListeners=[].concat(eventListeners),lI=0;lI<eventListeners.length;lI+=1)if(longArgs){if(eventListeners[lI].apply(this,longArgs)===!1)result=!1}else if(eventListeners[lI](a1,a2,a3,a4)===!1)result=!1;event.pop()}return result}function set(event){function batchSet(events,args){var eI,result=!0;for(eI=0;eI<events.length;eI+=1){if(args.unshift(events[eI]),trigger.apply(this,args)===!1)result=!1;args.shift()}return result}function clear(){if(setEvents[event])if(setEvents[event].splice(setEvents[event].indexOf(args),1),setEvents[event].length<1)delete setEvents[event]}var args=Array.prototype.slice.apply(arguments),setEvent={};if("object"==typeof event&&"function"==typeof event.push)return batchSet(event,args);if(trigger.apply(this,args),clearListeners(event),!setEvents[event])setEvents[event]=[];return setEvents[event].push(args.slice(1)),setEvent.clear=clear,setEvent}function clearSet(event){if(event)delete setEvents[event];else setEvents={}}function pipe(event){function captureListener(connection,emitter){connection.listenerBinding=on("emitter.listener",function(event){if(-1===connection.events.indexOf(event))connection.bindings.push(captureEvent(emitter,event)),connection.events.push(event)})}function captureEvent(emitter,event){return emitter.on(event,function(){var args=Array.prototype.slice.apply(arguments);return args.unshift(event),trigger.apply(this,args)})}function clearBatch(){if(bindings.length)for(;bindings.length;)bindings[0].clear(),bindings.splice(0,1)}function clear(){for(;connections.length;){if(connections[0].listenerBinding)connections[0].listenerBinding.clear();for(;connections[0].bindings.length;)connections[0].bindings[0].clear(),connections[0].bindings.splice(0,1);pipes.splice(pipes.indexOf(connections[0]),1),connections.splice(0,1)}}var api={},args=Array.prototype.slice.apply(arguments),eI,aI,pI,connections=[],connection,bindings=[],binding;if("object"==typeof event&&"function"==typeof event.push&&"string"==typeof event[0]){for(eI=0;eI<event.length;eI+=1)bindings.push(pipe.apply(null,[event[eI]].concat(args)));return api.clear=clearBatch,api}if("object"==typeof event&&"function"==typeof event.on)event=!1;else args.shift();if(event!==!1&&"string"!=typeof event)throw new Error("Cannot create pipe. The first argument must be an event string or an emitter.");for(aI=0;aI<args.length;aI+=1){for(pI=0;pI<pipes.length;pI+=1)if(pipes[pI].emitter===args[aI]){connection=pipes[pI];break}if(!connection||2!==connection.type){if(!connection)if(connection={},connection.emitter=args[aI],connection.bindings=[],connection.events=[],event)connection.type=1;else connection.type=2;if(-1===connection.events.indexOf(event)){if(connection.events.push(event),1===connection.type)binding=captureEvent(args[aI],event),binding.event=event,connection.bindings.push(binding);else if(2===connection.type){for(event in listeners)if(listeners.hasOwnProperty(event))binding=args[aI].on(event,captureEvent),binding.event=event,connection.bindings.push(binding),connection.events.push(event);else;captureListener(connection,args[aI])}connections.push(connection),pipes.push(connection)}else;}else;}return api.clear=clear,api}function clearPipes(event){var pI,bI,binding;for(pI=0;pI<pipes.length;pI+=1){if(event){if(2===pipes[pI].type)continue;if(-1===pipes[pI].events.indexOf(event))continue;pipes[pI].events.splice(pipes[pI].events.indexOf(event),1)}if(2===pipes[pI].type)pipes[pI].listenerBinding.clear();for(bI=0;bI<pipes[pI].bindings.length;bI+=1)if(!event||pipes[pI].bindings[bI].event===event)pipes[pI].bindings[bI].clear(),pipes[pI].bindings.splice(bI,1),bI-=1;else;if(pipes[pI].bindings.length<1)pipes.splice(pI,1),pI-=1}}function getListeners(event){if(event)return listeners[event];else return listeners}function clearListeners(event){if(event)delete listeners[event];else listeners={}}function clear(){trigger("emitter.clear"),listeners={},setEvents={},pipes={},delete emitter.on,delete emitter.once,delete emitter.trigger,delete emitter.set,delete emitter.pipe,delete emitter.listeners,delete emitter.clear}function handleNode(node){function clearNodeEmitter(){var DI;for(DI=0;DI<DOMEventListeners.length;DI+=1)try{if(node.removeEventListener)node.removeEventListener(DOMEventListeners[DI].event,DOMEventListeners[DI].listener,!1);else if(node.detachEvent)node.detachEvent("on"+DOMEventListeners[DI].event,DOMEventListeners[DI].listener)}catch(e){console.error(e)}handledEvents=[],listenerBinding.clear()}var handledEvents=[],listenerBinding,DOMEventListeners=[];listenerBinding=on("emitter.listener",function(event){function nodeListener(eventObj){var args=Array.prototype.slice.apply(arguments);if(args.unshift([event,"dom."+event]),trigger.apply(this,args)===!1)eventObj.preventDefault(),eventObj.stopPropagation()}if(!(handledEvents.indexOf(event)>-1)){handledEvents.push(event);try{if(node.addEventListener)node.addEventListener(event,nodeListener,!1),DOMEventListeners.push({event:event,listener:nodeListener});else if(node.attachEvent)node.attachEvent("on"+event,nodeListener),DOMEventListeners.push({event:event,listener:nodeListener})}catch(e){console.error(e)}}}),emitter.clearNodeEmitter=clearNodeEmitter}var emitter=object||{},listeners={},setEvents={},pipes=[];if(!(emitter.on||emitter.once||emitter.trigger||emitter.set||emitter.pipe||emitter.listeners))emitter.on=on,emitter.off=off,emitter.once=once,emitter.trigger=trigger,emitter.set=set,emitter.set.clear=clearSet,emitter.pipe=pipe,emitter.pipe.clear=clearPipes,emitter.listeners=getListeners,emitter.listeners.clear=clearListeners;else return emitter;if(emitter.addEventListener||emitter.attachEvent)handleNode(emitter);return emitter}var api;return api={emitter:EventEmitter},[].indexOf||(Array.prototype.indexOf=function(a,b,c){for(c=this.length,b=(c+~~b)%c;c>b&&(!(b in this)||this[b]!==a);b++);return b^c?b:-1}),api}),!function(){var DataAttributes=function($){var parse=function(el,defaults,_prefix){var settings={},prefix=_prefix||"";for(var key in defaults){var pkey=prefix+key.replace(/\./g,"-"),attr=$(el).attr(pkey);if(void 0===attr)settings[key]=defaults[key];else if("string"==typeof attr&&0===attr.length||/^\s*true\s*$/.test(attr)||pkey==attr)settings[key]=!0;else if(/^\s*false\s*$/.test(attr))settings[key]=!1;else settings[key]=attr}return settings},exports={parse:parse};return exports};if("function"==typeof define&&define.amd)define("js/lib/data.attributes",["jquery"],function($){return DataAttributes($)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.DataAttributes=DataAttributes(window.$)}(),!function(){var Modals=function($,LucidJS,_,DataAttributes){var CLOSED=0,OPEN=1,_private={defaults:{"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function(el,options){var modal=$(el).data("modal.me");if(modal&&modal.constructor==Modal.prototype.constructor)if(options)return modal.customize(options);else return modal;else return null},makeModal:function(el,options){var $el=$(el),modal=_private.getModal($el);if(!modal)modal=new Modal($el,options),$el.data("modal.me",modal);return modal},setOverlayHeight:function(){if($(window).height()<$(document).height())_private.$overlay.css({height:$(document).height()+"px"});else _private.$overlay.css({height:"100%"})},observeKeyPress:function(e){if(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)this.emitter.trigger("action",!1,this),this.close()},actionTrigger:function(e){var $el=$(e.currentTarget),action=$el.attr(this.options["attribute.action"]);this.emitter.trigger("action",action,this)},open:function(){if("fixed"!=this.options.position)_private.prevScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},window.scrollTo(0,0);if(this.$iframe){var iframeUrl=this.options["iframe.url"]||$(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",iframeUrl),this.$iframe.focus()}else{var $focus=this.$el.find("["+this.options["attribute.focus"]+"]").filter(":visible"),$focusable_elements=this.$el.find("a,input,select,textarea,button").filter(":visible");for(i=0;i<$focusable_elements.length;i++)$focusable_elements.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);if($focus.size()>0)$focus.eq(0).attr("tabindex",this.options["attribute.focus.index"]),$focus.eq(0).focus();else if($focusable_elements.size()>0)$focusable_elements.eq(0).attr("tabindex",this.options["attribute.focus.index"]),$focusable_elements.eq(0).focus()}this.state=OPEN,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",_.bind(_private.actionTrigger,this)),this.emitter.trigger("open")},close:function(){var $iframe=this.$el.find("iframe");if(this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&$iframe.size())$iframe.attr({src:"about:blank"});if(_private.prevScroll)window.scrollTo(_private.prevScroll.left,_private.prevScroll.top),_private.prevScroll=null;this.anchor=null,this.$parent.append(this.$el),this.state=CLOSED,this.emitter.trigger("close")}},Modal=function(el,settings){var that=this;this.$el=$(el),this.state=CLOSED,this.$parent=this.$el.parent(),this.customize(settings),this.emitter=LucidJS.emitter(this)};Modal.prototype.customize=function(settings){return this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-modal-"),settings),this},Modal.prototype.open=function(){var that=this,iframeUrl;if(this.anchor)iframeUrl=$(this.anchor).attr(this.options["attribute.iframe"]);if(this.options["iframe.url"])iframeUrl=this.options["iframe.url"];if(iframeUrl)if(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(iframeUrl))if(!this.$iframe.size()||this.$iframe.attr("src")!=iframeUrl)if(this.$iframe.attr("src","about:blank").remove(),this.$iframe=$("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),this.state!=CLOSED)this.$iframe.attr("src",iframeUrl);if(this.state==CLOSED){if(this.options["overlay.show"]){if(_private.$overlay&&"none"!=_private.$overlay.css("display")&&_private.$overlay.hasClass(this.options["overlay.class"]))this.$overlay=_private.$overlay;else{if(_private.$overlay)_private.$overlay.off(".modal").hide().remove();this.$overlay=_private.$overlay=$("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),$("body").append(this.$overlay)}if(_private.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"])this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]});else this.$overlay.show();_private.count++,this.$overlay.data("modal",this)}if(this.emitter.trigger("opening"),"fixed"!=this.options.position||0===this.$el.closest("html").length)this.$el.appendTo("body");if(this.reposition(),this.$el.show(),this.options["animate.modal.open"])this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function(){_private.open.call(that)}});else _private.open.call(this);if($(window).on("resize.modal",_.bind(_private.setOverlayHeight,that)).on("resize.modal",_.bind(that.reposition,that)).on("scroll.modal",_.bind(that.reposition,that)),this.options["overlay.close"])$(window).on("keyup.modal",_.bind(_private.observeKeyPress,that)),this.$overlay.on(this.options["bind.close"]+".modal",function(e){that.emitter.trigger("action",!1,that),that.close()});if(this.options["attribute.close"])this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",function(e){var $target=$(e.currentTarget);if("disabled"!=$target.attr("disabled")){if(void 0===$target.attr(that.options["attribute.action"]))that.emitter.trigger("action",!1,that);that.close()}});return this}},Modal.prototype.reposition=function(){var left=this.options["position.left"],top=this.options["position.top"];if(left)this.$el.css({position:this.options.position,left:left,marginLeft:/%/.test(left)?-1*(this.$el.outerWidth()/2):0,zIndex:this.options["z.index"]++});if(top)this.$el.css({position:this.options.position,top:top,marginTop:/%/.test(top)?-1*(this.$el.outerHeight()/2):0,zIndex:this.options["z.index"]++});return this},Modal.prototype.close=function(){var that=this;if(this.state==OPEN){if(this.$el.off(".modal"),$(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"])this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function(){_private.close.call(that)}});else _private.close.call(this);if(0===--_private.count)if(this.options["overlay.show"]&&this.$overlay)if(this.$overlay.off(".modal"),this.options["animate.overlay.close"])this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function(){this.$overlay.hide().remove()}});else this.$overlay.hide().remove();return this}};var external=function(){return _private.getModal.apply(null,arguments)||_private.makeModal.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),options=_.extend({},_private.defaults,_options);if(!$view.data("modals-initialized"))$view.data("modals-initialized",1),$view.on(options["bind.open"]+".modal","["+options["attribute.open"]+"]",function(e){var $anchor=$(this),selector=$anchor.attr(options["attribute.open"]),$modal=$view.find(selector);options=_.extend({},options,DataAttributes.parse($modal,_private.defaults,"data-modal-"));var modal=_private.getModal($modal,options)||_private.makeModal($modal,options);if(/^https?:\/\/|^\/|^\.\.\//.test($anchor.attr("href"))&&!e.ctrlKey&&!e.metaKey)e.preventDefault();modal.anchor=this,_private.prevModal=$modal[0],modal.open()})},external.stop=function(view){var $view=$(view);if($view.unbind(".modal"),$view.data("modals-initialized",0),_private.prevModal)Modal(_private.prevModal).close()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/modals",["jquery","js/lib/lucid","underscore","js/lib/data.attributes"],function($,LucidJS,_,DataAttributes){return Modals($,LucidJS,_,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.Modal=Modals(window.$,window.LucidJS,window._,window.DataAttributes)
}(),function(r){function e(r){return null!==r}var t={};Array.isArray||(Array.isArray=function(r){return"[object Array]"==Object.prototype.toString.call(r)}),Object.keys||(Object.keys=function(r){var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}),t.merge=function(r,t){var n=r["class"],a=t["class"];(n||a)&&(n=n||[],a=a||[],Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]),n=n.filter(e),a=a.filter(e),r["class"]=n.concat(a).join(" "));for(var s in t)"class"!=s&&(r[s]=t[s]);return r},t.attrs=function(r,e){var n=[],a=r.terse;delete r.terse;var s=Object.keys(r),i=s.length;if(i){n.push("");for(var o=0;i>o;++o){var c=s[o],u=r[c];"boolean"==typeof u||null===u?u&&(a?n.push(c):n.push(c+'="'+c+'"')):0===c.indexOf("data")&&"string"!=typeof u?n.push(c+"='"+JSON.stringify(u)+"'"):"class"==c&&Array.isArray(u)?n.push(c+'="'+t.escape(u.join(" "))+'"'):e&&e[c]?n.push(c+'="'+t.escape(u)+'"'):n.push(c+'="'+u+'"')}}return n.join(" ")},t.escape=function(r){return(r+"").replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.rethrow=function(r,e,t){if(!e)throw r;throw r.path=e,r.message=(e||"Jade")+":"+t+"\n"+3+"\n\n"+r.message,r},"function"==typeof define&&define.amd?define("js/lib/jade",[],function(){return t}):r.jade={helpers:t,templates:{}}}(window),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+jade.escape(null==(jade.interp=_t("Confirm Navigation"))?"":jade.interp)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+jade.escape(null==(jade.interp=_t("Are you sure you want to leave this page?"))?"":jade.interp)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn confirm-navigation-stay">'+jade.escape(null==(jade.interp=_t("Stay on this Page"))?"":jade.interp)+'</button><button data-modal-close="data-modal-close" class="btn btn-danger confirm-navigation-leave">'+jade.escape(null==(jade.interp=_t("Leave this Page"))?"":jade.interp)+"</button></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("js/core/confirmNavigation.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["js.core.confirmNavigation"]=jadify(wndw.jade.helpers)}(window),!function(){function addPart(locale,master,needed,toLoad,prefix,suffix){if(master[locale])if(needed.push(locale),master[locale]===!0||1===master[locale])toLoad.push(prefix+locale+"/"+suffix)}function addIfExists(req,locale,toLoad,prefix,suffix){var fullName=prefix+locale+"/"+suffix;if(require._fileExists(req.toUrl(fullName+".js")))toLoad.push(fullName)}function mixin(target,source,force){var prop;for(prop in source)if(source.hasOwnProperty(prop)&&(!target.hasOwnProperty(prop)||force))target[prop]=source[prop];else if("object"==typeof source[prop]){if(!target[prop])target[prop]={};mixin(target[prop],source[prop],force)}}function generateTranslationFunction(dictionary){dictionary=dictionary||{};var f=function(key,interpolationHash){var value=dictionary[key]||key;if("object"==typeof interpolationHash&&interpolationHash)return value.replace(interpolationRegex,function(match,interpKey){var interpolation=interpolationHash[interpKey];return dictionary[interpolation]||interpolation||interpKey});else return value};return f.dictionary=dictionary,f.merge=function(){var _ts=Array.prototype.slice.call(arguments,0),i,source,key;for(i=0;i<_ts.length;i++)if(source=_ts[i]&&_ts[i].dictionary)for(key in source)if(!(key in dictionary))dictionary[key]=source[key];return f},f}var nlsRegExp=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,interpolationRegex=/[#!]\{([^}]+?)\}/g;define("i18n",["module"],function(module){var masterConfig=module.config?module.config():{};return{version:"2.0.3",load:function(name,req,onLoad,config){if(config=config||{},config.locale)masterConfig.locale=config.locale;masterConfig.locale=(masterConfig.locale||"").toLowerCase().replace(/_/g,"-"),masterConfig.locale=masterConfig.locale.split(/[;=,]/)[0];var masterName,match=nlsRegExp.exec(name),prefix=match[1],locale=match[4],suffix=match[5],parts=locale.split("-"),toLoad=[],value={},i,part,current="";if(match[5])prefix=match[1],masterName=prefix+suffix;else{if(masterName=name,suffix=match[4],locale=masterConfig.locale,!locale)locale=masterConfig.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase();parts=locale.split("-")}if(config.isBuild){for(toLoad.push(masterName),addIfExists(req,"root",toLoad,prefix,suffix),i=0;i<parts.length;i++)part=parts[i],current+=(current?"-":"")+part,addIfExists(req,current,toLoad,prefix,suffix);req(toLoad,function(){onLoad()})}else req([masterName],function(master){var needed=[],part;for(addPart("root",master,needed,toLoad,prefix,suffix),i=0;i<parts.length;i++)part=parts[i],current+=(current?"-":"")+part,addPart(current,master,needed,toLoad,prefix,suffix);req(toLoad,function(){var i,partBundle,part;for(i=needed.length-1;i>-1&&needed[i];i--){if(part=needed[i],partBundle=master[part],partBundle===!0||1===partBundle)partBundle=req(prefix+part+"/"+suffix);mixin(value,partBundle)}onLoad(generateTranslationFunction(value))})})}}})}(),define("js/core/nls/confirmNavigation",{root:!0,zh:!0}),define("js/core/nls/root/confirmNavigation",{"Confirm Navigation":"Confirm Navigation","Are you sure you want to leave this page?":"Are you sure you want to leave this page?","Stay on this Page":"Stay on this Page","Leave this Page":"Leave this Page"}),define("js/core/origami",["jquery","underscore","backbone","require","js/lib/modals","js/core/confirmNavigation.html","i18n!js/core/nls/confirmNavigation"],function($,_,Backbone,require,Modal,confirmNavigationTemplate,confirmNavigationTemplate_t){Backbone.View.prototype._super=function(funcName){return this.constructor.__super__[funcName].apply(this,_.rest(arguments))};var _singleton=null,_private={current:null,body:"#origami",views:{},beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function(region){if(!region)return!1;var viewHasUnsavedModel=region.view.hasUnsavedModel?region.view.hasUnsavedModel():!1;if(viewHasUnsavedModel)return!0;else{for(var name in region.regions){var subRegion=region.regions[name];if(_private.regionHasUnsavedModel(subRegion))return!0}return!1}}},router=Backbone.Router.extend({initialize:function(){var self=this;self.routePrefix="",self.linkClass="internal",$("body").on("click","a.internal",function(e){if(!e.ctrlKey&&!e.metaKey)e.preventDefault(),self.navigate($(e.currentTarget).attr("href"),!0)}),this.$confirmNavigation=$(confirmNavigationTemplate({_t:confirmNavigationTemplate_t})),$("body").append(this.$confirmNavigation),$(window).on("beforeunload.origami",function(){if(_private.regionHasUnsavedModel(_private.current))return _private.beforeUnloadMessage;else return void 0})},setupLinks:function(routePrefix,linkClass){var self=this;this.routePrefix=routePrefix,this.linkClass=linkClass,$("body").on("click","a."+this.linkClass,function(e){if(!e.ctrlKey&&!e.metaKey)e.preventDefault(),self.navigateTo($(e.currentTarget).attr("href"),!0)})},navigateTo:function(href,silent){this.navigate(href.replace(this.routePrefix,""),silent)},navigate:function(fragment,options){if(_private.current&&_private.regionHasUnsavedModel(_private.current)){var $message=$(".confirm-navigation-message");$message.text(_private.beforeUnloadMessage);var $leave=$(".confirm-navigation-leave");$leave.one("click",function(){Backbone.Router.prototype.navigate.call(this,fragment,options)});var modalOptions={"overlay.class":"brbraitt-overlay"};Modal(".confirm-navigation",modalOptions).open()}else Backbone.Router.prototype.navigate.call(this,fragment,options)},addRoutes:function(routes){var self=this;for(var route in routes)self.route(route,route,routes[route]),self.route(route+"/",route+"/",function(){var url=Backbone.history.getFragment(),rewrite=url.replace(/\/(?:\?.*)*$/,"");self.navigate(rewrite,{trigger:!0,replace:!0})})}}),animateManager={resize:function(outgoing,incoming,callback){$("body").append(incoming.$el.css({visibility:"hidden"}));var height={from:outgoing.$el.outerHeight(),to:incoming.$el.outerHeight()};outgoing.$el.animate({height:height.to},300,function(){if(outgoing.$el.replaceWith(incoming.$el.css({visibility:"visible"})),incoming.$el.find("img").on("load",function(){incoming.$el.animate({height:incoming.$el.outerHeight()})}),callback)callback()})},slideLeft:function(outgoing,incoming,callback){var going=outgoing.$el,coming=incoming.$el,position=going.position(),width=going.outerWidth(),height=going.outerHeight(),parent=$("<div>").css({position:"relative",width:width,height:height}),restoreIn={position:coming.css("absolute")||"static",width:coming.get(0).style.width,left:coming.get(0).style.left},restoreOut={position:going.css("absolute")||"static",width:going.get(0).style.width,left:going.get(0).style.left};going.wrap(parent),going.css({width:width,left:position.left,position:"absolute"}),coming.css({width:width,left:position.left+width,position:"absolute"}),going.parent().append(coming),going.animate({left:-width},{duration:500,step:function(moved){coming.css({left:position.left+width+moved})},complete:function(){if(coming.css(restoreIn),going.css(restoreOut).hide(),going.unwrap(),callback)callback()}})},slideRight:function(outgoing,incoming,callback){var going=outgoing.$el,coming=incoming.$el,position=going.position(),width=going.outerWidth(),height=going.outerHeight(),parent=$("<div>").css({position:"relative",width:width,height:height}),restoreIn={position:coming.css("absolute")||"static",width:coming.get(0).style.width,left:coming.get(0).style.left},restoreOut={position:going.css("absolute")||"static",width:going.get(0).style.width,left:going.get(0).style.left};going.wrap(parent),going.css({width:width,left:position.left,position:"absolute"}),coming.css({width:width,left:-(position.left+width),position:"absolute"}),going.parent().append(coming),going.animate({left:width},{duration:500,step:function(moved){coming.css({left:-(position.left+width)+moved})},complete:function(){if(coming.css(restoreIn),going.css(restoreOut).hide(),going.unwrap(),callback)callback()}})},replace:function(outgoing,incoming,callback){if(outgoing.$el.replaceWith(incoming.el),callback)callback()}},region=function(type,_options){var self=this,options=_options||{};self.type=type,self.animate=options.animate||{},self.regions=options.regions||{},self.initialize=options.initialize||{},self.options={},self.id=options.id||type.prototype.name,self.name=type.prototype.name,self.view=null,self.regions=$.extend(!0,{},type.prototype.subregions,options.regions||{})};region.prototype.close=function(keep){var self=this;if(_.each(self.regions,function(_region,key){delete self.regions[key],_region.close(keep)}),!keep)self.view.remove();self.view.undelegateEvents(),self.view.trigger("view:closed"),self.view.off("view")},region.prototype.closing=function(){this.view.trigger("view:closing"),delete _private.views[this.view.cid]},region.prototype.render=function(origami){var self=this;if(_.each(self.regions,function(view,key){if(view)view.render(),view.parent=self}),self.view=new self.type(self.initialize),self.view.region=self,self.view.render(self.render),origami)self.view.on("view:appended",function(){origami.trigger("region:appended",{name:self.name})});return self},region.prototype.appended=function(){var that=this;if(that.view)setTimeout(function(){that.view.trigger("view:appended")},0)},region.prototype.append=function(view,options){var that=this;if(!this.regions)this.regions={};var render_and_append=function(_region){for(var key=view,count=0,$el;that.regions[key];)key+=++count;if(that.regions[key]=_region,_region.render(_singleton),options.to)$el=that.view.$(options.to);else $el=that.view.$el;return $el.append(_region.view.el),_region.appended(),_singleton.trigger("region:rendered",{name:_region}),_region};if("string"==typeof view)_singleton.region.fetch(view,options,render_and_append);else render_and_append(new region(view,options))},region.prototype.is=function(_region){return _region.type==this.type&&_region.id==this.id},region.prototype.replace=function(incoming,callback){var outgoing=this,how="replace",animate={incoming:incoming.view.animate,outgoing:outgoing.view.animate};if(_.isString(animate.incoming))how=animate.incoming;else if(_.isFunction(animate.incoming))how=animate.incoming();else if(_.isString(animate.outgoing))how=animate.outgoing;else if(_.isFunction(animate.outgoing))how=animate.outgoing();if(!animateManager[how])how="replace";animateManager[how](outgoing.view,incoming.view,callback)},region.prototype.merge=function(incoming,origami){var self=this;if(self.is(incoming))_.each(incoming.regions,function(_region,view){self.regions[view].view.trigger("view:merging",_region.initialize),self.regions[view].merge(_region,origami),self.regions[view].view.trigger("view:merged",_region.initialize)});else if(self.name==incoming.name)self.closing(),incoming.render(origami),self.replace(incoming,function(){if(self.parent)self.parent.regions[incoming.name]=incoming,incoming.parent=self.parent,self.parent.appended();self.close(),incoming.appended()})};var Origami=function(body,current){if(_singleton)return _singleton;_singleton=this;var that=this;_private.body=body,_private.current=current,$(window).on("resize",function(){for(var cid in _private.views)_private.views[cid].trigger("view:resize")}),this.region={make:function(type,options){return new region(type,options)},fetch:function(_region,conf,callback){var uid=_.uniqueId();that.trigger("region:fetching",{name:_region,uid:uid}),require([_region],function(view){that.trigger("region:fetched",{name:_region,uid:uid}),callback(new region(view,conf))})},append:function(parent,view,options,callback){if(!parent)parent={regions:{}};var render_and_append=function(_region){for(var key=view,count=0;parent.regions[key];)key+=++count;if(parent.regions[key]=_region,_region.render(that),callback)callback(_region);return _region.appended(),that.trigger("region:rendered",{name:_region}),_region};if("string"==typeof view)that.region.fetch(view,options,render_and_append);else return render_and_append(new region(view,options))},open:function(name,callback){var view=name,conf={};if(_.isObject(name))view=_.keys(name)[0],conf=name[view];that.region.fetch(view,conf,callback||function(parent){var validRegions=_(parent.regions).filter(function(region){return region}),render=_.after(_.keys(validRegions||{}).length+1,function(){if(_private.current){if(_private.current.is(parent))return _private.current.merge(parent,that),void 0;else if(_private.current.name==parent.name)return parent.render(that),_private.current.replace(parent,function(){_private.current.close(),_private.current=parent,_private.current.appended()}),void 0;_private.current.close(!0)}_private.current=parent,$(_private.body).html(_private.current.render(that).view.el),_private.current.appended(),_.each(_private.current.regions,function(_region){if(_region)_region.appended()})});render(that),_.each(parent.regions,function(subregion,name){if(subregion)that.region.open(subregion,function(_region){parent.regions[name]=_region,render(that)})})})}},this.animate=animateManager,this.router=new router,this.store={},this.tracker=[]};return _.extend(Origami.prototype,Backbone.Events),Origami}),function(wndw){var config={environment:"production",out:"js/core/config.js",log:"error",debug:!1,url:{maestro:"/maestro/api/",base:"https://www.brbraitt.org/",api:"/maestro/api/",cloudfront_api:"https://d1hpa2gdx2lr6r.cloudfront.net/maestro/api/",accounts:"https://accounts.brbraitt.org/",assets:"https://d2wvvaown1ul17.cloudfront.net/site-static/",app_assets:"https://d2wvvaown1ul17.cloudfront.net/site-static/1ced4a81bbd3312b7e48b191ae9bc8adf835fce6/"},version:"1ced4a81bbd3312b7e48b191ae9bc8adf835fce6",dir:{home:"/"},gapi_eventing_data:{project_number:"274249572679",api_key:"",client_id:"274249572679-al8nc3ttcavj0n91due232a3h6s3r9vk.apps.googleusercontent.com"},bigquery:{dataset:"mydataset",table_prefix:"livedata_"}};if("function"==typeof define&&define.amd)define("js/core/config",[],function(){return config});else return wndw.configure=config}(window),define("js/lib/supports",[],function(){var supports={},prefix="supports-";if(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"))document.documentElement.className=prefix+"svg",supports.svg=!0;if(window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE 10.0")<0)supports.cors=!0;var userAgent=navigator.userAgent.toLowerCase();if(/safari/.test(userAgent)&&!/chrome/.test(userAgent))supports.accepts=!1;else supports.accepts=!0;return supports}),!function(wndw){var module=function(_,$){var thirdparty={loadScript:function(url,success,body){var newScript=document.createElement("script"),scripts=document.getElementsByTagName("script");if(newScript.type="text/javascript",newScript.async=!0,newScript.src=url,body)newScript.innerHTML=body;if(success)newScript.onload=newScript.onreadystatechange=function(){newScript.onreadystatechange=newScript.onload=null,success()};if(scripts&&scripts.length)scripts[0].parentNode.insertBefore(newScript,scripts[0]);else if(window.document&&window.document.body)window.document.body.appendChild(newScript)},isDefined:function(parent,name){for(var parts=name.split("."),part=parts.shift(),cur=parent;part;)if(cur[part])cur=cur[part],part=parts.shift();else cur=null,part=null;return null!==cur},ready:function(global,callback){if(thirdparty.isDefined(window,global))callback.call();else{var base=global.split(".")[0];if(_.isArray(pool[global]))pool[global].push(callback);else pool[global]=[callback],third_party_globals[base].call(null,global)}}},pool={},poll=function(global){if(thirdparty.isDefined(window,global))for(var base=global.split(".")[0];pool[global]&&pool[global].length;)pool[global].pop().call();else window.setTimeout(function(){poll(global)},100)},third_party_globals={IN:function(x){var funcName="itsThirdPartyTime"+(new Date).getTime();window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://platform.linkedin.com/in.js",function(){},"onLoad:"+funcName+"\napi_key: "+"v7ah6tdxsqt6")},google:function(x){var funcName;if(/^google\.maps.places/.test(x))funcName="itsThirdPartyTime"+(new Date).getTime(),window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyC7XENXcXiE_oj0HvDUC_MiLY9zI3xTW0g&libraries=places&callback="+funcName);if(/^google\.maps\.Map/.test(x))funcName="itsThirdPartyTime"+(new Date).getTime(),window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyCzodUI0p0hH-8n6tZ45vMNlaNfKEpuEMU&callback="+funcName)},FB:function(x){thirdparty.loadScript("https://connect.facebook.net/en_US/all.js#xfbml=1&appId=274998519252278",function(){poll(x)})},gapi:function(x){window.___gcfg={lang:"en-US",parsetags:"explicit"},thirdparty.loadScript("https://apis.google.com/js/plusone.js",function(){delete window.___gcfg,poll(x)})},twttr:function(x){thirdparty.loadScript("https://platform.twitter.com/widgets.js",function(){poll(x)})},MathJax:function(x){thirdparty.loadScript("https://d2265nx4vomwra.cloudfront.net/2.1/MathJax.js?delayStartupUntil=configured",function(){poll(x)})}};return thirdparty};if("function"==typeof define&&define.amd)define("js/lib/third-parties",["underscore","jquery"],function(_,$){return module(_,$)});else window.thirdparties=module(window._,window.$)}(window),!function(wndw){var module=function(){if(wndw.console=wndw.console||{},wndw.console.log=wndw.console.log||function(){},wndw.console.error=wndw.console.error||function(){},wndw.console.warn=wndw.console.warn||function(){},wndw.console.info=wndw.console.info||function(){},!wndw.console.log.apply)wndw.console.log=Function.prototype.bind.call(wndw.console.log,wndw.console),wndw.console.error=Function.prototype.bind.call(wndw.console.error,wndw.console),wndw.console.warn=Function.prototype.bind.call(wndw.console.warn,wndw.console),wndw.console.info=Function.prototype.bind.call(wndw.console.info,wndw.console);var Logger=function(options){this.options=options||{}};Logger.prototype.customize=function(options){return this.options=options||{},this},Logger.prototype.info=function(){if("info"==this.options.level)wndw.console.info.apply(wndw.console,arguments);return this},Logger.prototype.warn=function(){if(/info|warn/.test(this.options.level))wndw.console.warn.apply(wndw.console,arguments);return this},Logger.prototype.error=function(){if(/error|warn|info/.test(this.options.level))wndw.console.error.apply(wndw.console,arguments);return this};var exports=function(options){return new Logger(options)};return exports};if("function"==typeof define&&define.amd)define("js/lib/log",[],function(){return module()});else if("undefined"!=typeof wndw&&"undefined"==typeof ender)wndw.Log=module()}(window),!function(){var JSON;if(!JSON)JSON={};var json=function(){function f(n){return 10>n?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&"object"==typeof value&&"function"==typeof value.toJSON)value=value.toJSON(key);if("function"==typeof rep)value=rep.call(holder,key,value);switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;length>i;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep){for(length=rep.length,i=0;length>i;i+=1)if("string"==typeof rep[i])if(k=rep[i],v=str(k,value))partial.push(quote(k)+(gap?": ":":")+v)}else for(k in value)if(Object.prototype.hasOwnProperty.call(value,k))if(v=str(k,value))partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}if("function"!=typeof Date.prototype.toJSON)Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if("function"!=typeof JSON.stringify)JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;space>i;i+=1)indent+=" ";else if("string"==typeof space)indent=space;if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})};if("function"!=typeof JSON.parse)JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)if(Object.prototype.hasOwnProperty.call(value,k))if(v=walk(value,k),void 0!==v)value[k]=v;else delete value[k];return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text))text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}};if("function"==typeof define&&define.amd)define("js/lib/json2",[],function(){return json(),JSON});else if("undefined"!=typeof window&&"undefined"==typeof ender)json(),window.JSON=JSON}(),!function(wndw){var module=function(_){var MultiTracker=function(opts){var options=opts||{};this.trackers={},this.logger=options.logger||Log({level:"error"})};MultiTracker.prototype.register=function(name,queue,type,parser){this.trackers[name]={queue:queue||[],type:type||"key-value",parse:parser}},MultiTracker.prototype.get=function(name){return this.trackers[name]},MultiTracker.prototype.push=function(){for(var trackings=arguments,k=0;k<trackings.length;k++){var tracking=_.isArray(trackings[k])?trackings[k]:[trackings[k]];for(var tracker in this.trackers)if("google"==this.trackers[tracker].type){var trackEvent=[],i;switch(tracking[0]){case"pageview":for(trackEvent=["_trackPageview"],i=1;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]));break;case"event":for(trackEvent=["_trackEvent"],i=1;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]));break;default:for(trackEvent=["_trackEvent"],i=0;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]))}this.trackers[tracker].queue.push(trackEvent)}else if("key-value"==this.trackers[tracker].type){for(var value=[],j=1;j<tracking.length;j++)value.push(_.isString(tracking[j])?tracking[j]:JSON.stringify(tracking[j]));if(value.length)this.trackers[tracker].queue.push({key:tracking[0],value:value.join(".")});else this.trackers[tracker].queue.push({key:tracking[0]})}else if("custom"==this.trackers[tracker].type&&this.trackers[tracker].parse)this.trackers[tracker].queue.push(this.trackers[tracker].parse.apply(this,tracking));this.logger.info.apply(this.logger,tracking)}};var external=function(options){return new MultiTracker(options)};return external};if("function"==typeof define&&define.amd)define("js/lib/multitracker",["underscore","js/lib/json2"],function(_){return module(_)});else wndw.MultiTracker=module(wndw._)}(window),define("js/lib/metatags",["jquery","underscore"],function($,_){function nameToType(name){return nameToTypeMapping[name]||"name"}function select(name){return $("meta["+nameToType(name)+"='"+name+"']")}function stripTags(str){return(str||"").replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function setMetaTag(name,value){var $metaTag=select(name);if(0===$metaTag.length){var metaHtml="<meta "+nameToType(name)+'="'+name+'" />';$metaTag=$(metaHtml).appendTo("head")}$metaTag.attr("content",stripTags(value))}function set(name,value){if("object"==typeof name)_.each(name,function(val,key){setMetaTag(key,val)});else setMetaTag(name,value)}function share(title,image,description,url){set({"og:title":title,"og:url":url,"og:image":image,"og:site_name":title,"og:description":description,description:description,image:image})}function clear(name){var $metaTag=select(name);$metaTag.remove()}var nameToTypeMapping={"og:title":"property","og:url":"property","og:image":"property","og:site_name":"property","og:description":"property",description:"name",image:"name"};return{set:set,clear:clear,share:share}}),define("js/core/brbraitt",["js/core/origami","js/core/config","jquery","underscore","backbone","js/lib/supports","js/lib/third-parties","js/lib/log","js/lib/multitracker","js/lib/metatags"],function(Origami,config,$,_,Backbone,supports,thirdparty,Logger,MultiTracker,metatags){var brbraitt=new Origami("#origami");if(brbraitt.config=config,brbraitt.supports=supports,brbraitt.log=Logger({level:config.log}),window.onerror=function(message,url,lineNum){if(url=url||window.location.href,void 0!==lineNum&&null!=lineNum){if(message.target&&message.type)message=message.type;if(!message.indexOf)message="Non-string, non-event error: "+typeof message;var errorDescrip={message:message,script:url,line:lineNum,url:document.URL};brbraitt.multitracker.push(["page.error.javascript",errorDescrip])}},"production"==config.environment)requirejs.onError=function(Error){brbraitt.multitracker.push(["page.error.requirejs",{url:location.href,message:Error.message,type:Error.requireType,modules:Error.requireModules}]),brbraitt.log.error(Error);var match=Error.message.match(/context:\s*(.*)\s*\n/);if(match&&"_"==match[1]){var message="<div>oooops! something unexpected happened, please <a href='"+location.href+"'>refresh</a> your browser</div>",$screen=$("<div>").addClass("fullscreen");brbraitt.message.add($(message).addClass("message")),$screen.appendTo("body").show()}};return brbraitt.multitracker=MultiTracker({logger:brbraitt.log}),brbraitt.multitracker.register("204",[]),brbraitt.multitracker.register("ga",window._gaq=[],"google"),$(document).ready(function(){if(/staging|production/.test(brbraitt.config.environment))requirejs.config({context:"204js",paths:{_204:"https://eventing.brbraitt.org/204.min"}})(["_204"],function(_204){if(_204){for(var parts=location.host.split(".");parts.length>2;)parts.shift();brbraitt.multitracker.get("204").queue.push(["domain","."+parts.join(".")]),brbraitt.multitracker.get("204").queue=_204.batch(brbraitt.multitracker.get("204").queue)}}),brbraitt.multitracker.get("ga").queue.push(["_setAccount","UA-28377374-1"],["_setDomainName","brbraitt.org"],["_setAllowLinker",!0],["_trackPageview"]),thirdparty.loadScript(("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",function(){brbraitt.multitracker.get("ga").queue=window._gaq});brbraitt.router.on("all",function(){var currentURL=brbraitt.config.dir.home+Backbone.history.getFragment();metatags.share("brbraitt","http://s3.amazonaws.com/brbraitt/media/brbraitt_Computer_Narrow.png","Take free online classes from 80+ top universities and organizations. brbraitt is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits.",currentURL),brbraitt.multitracker.push(["pageview",currentURL])});var $window=$(window),scrollTracker=function(){var source=_.compact((window.location.pathname||"").split("/")).join("-")||"homepage";brbraitt.multitracker.push(["user.scroll."+source,$window.scrollTop()])};$window.scroll(_.throttle(scrollTracker,2e3))}),Backbone.noConflict(),$.noConflict(),_.noConflict(),brbraitt}),!function(wndw){var cookie=function($){var cookie=function(key,value,options){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(value))||null===value||void 0===value)){if(options=$.extend({},options),null===value||void 0===value)options.expires=-1;if(!options.path)options.path="/";if("number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=String(value),wndw.document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};for(var decode=options.raw?function(s){return s}:decodeURIComponent,pairs=wndw.document.cookie.split("; "),i=0,pair;pairs[i];i++)if(pair=pairs[i].split("="),decode(pair[0])===key)return decode(pair[1]||"");
return null};return{get:cookie,set:cookie,clear:function(key,options){for(var cookies=wndw.document.cookie.split("; "),i=0;i<cookies.length;i++){var equals=cookies[i].indexOf("="),name=equals>-1?cookies[i].substr(0,equals):cookies[i];if(!key||key==name)cookie(name,null,options)}}}};if("function"==typeof define&&define.amd)define("js/lib/cookie",["jquery"],function($){return cookie($)});else if("undefined"!=typeof wndw&&"undefined"==typeof ender)wndw.Cookie=cookie(wndw.$)}(window),!function(wndw){var globalActiveAjaxCount=0,api=function($,_,cookie,Backbone){var _private={defaults:{type:"normal","csrf.token":"X-CSRFToken","csrf.cookie":"csrftoken","csrf.path":null,"csrf.domain":null,"emulate.patch":!0,"emulate.put":!1,"emulate.delete":!1,"custom.header.name":null,"custom.header.value":null},csrfGet:function(){var token=cookie.get(this.options["csrf.cookie"]);if(token)return token;else return _private.csrfSet.call(this,_private.csrfMake())},csrfClear:function(){cookie.clear(this.options["csrf.cookie"],{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},csrfSet:function(token){return cookie.set(this.options["csrf.cookie"],token,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),token},csrfMake:function(length,chars){var output=[];chars=chars||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",length=length||24;for(var i=0;length>i;i++)output.push(chars[Math.floor(Math.random()*chars.length)]);return output.join("")},invoke:function(path,_options){_options=_.extend({},_options);var options=_options||{},url;if(0!==path.indexOf("http"))url=this.root+path;else url=path;this.trigger("before",url,options);var params="GET"==options.type?options.data:null,remove=function(e,item){this.remove(item.options.id)},message=options.message||{},codes=message.codes?_.keys(message.codes):[],asyncMessage=this.options.message,that=this;if(delete options.message,"GET"!=options.type&&_.isUndefined(options.processData)&&"rest"==this.options.type)options.contentType="application/json; charset=utf-8",options.processData=!1,options.data=JSON.stringify(options.data);options.beforeSend=function(){globalActiveAjaxCount++};var jqXHR=$.ajax(url,options);if(asyncMessage){if(message.waiting){var waitID=asyncMessage.add($("<div>").append(message.waiting).addClass("waiting"),{delay:100});jqXHR.always(function(jqXHR,textStatus){asyncMessage.remove(waitID)})}if(message.success||message.codes&&_.min(codes)<300)jqXHR.done(function(jqXHR,textStatus){if(message.codes&&message.codes[jqXHR.status])asyncMessage.add($("<div>").append(message.codes[jqXHR.status]).addClass("success"),{timeout:500});else if(message.success)asyncMessage.add($("<div>").append(message.success).addClass("success"),{timeout:500})});if(message.error||message.timeout||message.codes&&_.max(codes)>=300)jqXHR.fail(function(jqXHR,textStatus){if(message.timeout&&"timeout"==textStatus)asyncMessage.add($("<div>").append(message.timeout).addClass("error"),{events:{click:remove}});else if(message.codes&&message.codes[jqXHR.status])asyncMessage.add($("<div>").append(message.codes[jsXHR.status]).addClass("error"),{events:{click:remove}});else if(message.error)asyncMessage.add($("<div>").append(message.error).addClass("error"),{events:{click:remove}})})}var start=(new Date).getTime();return that.trigger("send",{xhr:jqXHR,url:url}),jqXHR.always(function(){if(0===--globalActiveAjaxCount)_private.csrfClear.call(that);that.trigger("always",{xhr:jqXHR,url:url,params:params,timing:(new Date).getTime()-start})}),jqXHR.fail(function(){that.trigger("fail",{xhr:jqXHR,url:url,params:params})}),jqXHR},restify:function(method,_options){var options=_options||{};switch(options.data=options.data||{},options.headers=options.headers||{},method){case"POST":options.type="POST";break;case"PATCH":if(this.options["emulate.patch"])options.type="POST",options.headers["X-HTTP-Method-Override"]="PATCH";else options.type="PATCH";break;case"PUT":if(this.options["emulate.put"])options.type="POST",options.headers["X-HTTP-Method-Override"]="PUT";else options.type="PUT";break;case"DELETE":if(this.options["emulate.delete"])options.type="POST",options.headers["X-HTTP-Method-Override"]="DELETE";else options.type="DELETE";break;default:options.type="GET"}if("GET"!=options.type)options.headers[this.options["csrf.token"]]=_private.csrfGet.call(this);if(this.options["custom.header.name"])options.headers[this.options["custom.header.name"]]=this.options["custom.header.value"];return options}},api=function(root,options){this.root=root,this.options=_.extend({},_private.defaults,options)};return api.prototype.get=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"GET",options))},api.prototype.patch=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"PATCH",options))},api.prototype["delete"]=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"DELETE",options))},api.prototype.post=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"POST",options))},api.prototype.put=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"PUT",options))},_.extend(api.prototype,Backbone.Events),function(root,options){return new api(root,options)}};if("function"==typeof define&&define.amd)define("js/lib/api",["jquery","underscore","js/lib/cookie","backbone","js/lib/json2"],function($,_,Cookie,Backbone){return api($,_,Cookie,Backbone)});else wndw.API=api(wndw.$,wndw._,wndw.Cookie,wndw.Backbone)}(window),define("pages/home/api",["js/core/brbraitt","js/lib/api"],function(brbraitt,API){var homeApi=API(brbraitt.config.url.api,{message:brbraitt.message,"csrf.secure":!brbraitt.config.debug});return homeApi.on("always",function(api){if(api.xhr.status>=400)brbraitt.multitracker.push(["api.error."+api.xhr.status,{timing:api.timing,url:api.url,params:api.params,status:api.xhr.status,response:api.xhr.responseText}]);else brbraitt.multitracker.push(["api.ok."+api.xhr.status,{timing:api.timing,url:api.url,params:api.params,status:api.xhr.status,cf_age:api.xhr.getResponseHeader("Age"),cf_hit:api.xhr.getResponseHeader("X-Cache")}])}),homeApi}),define("js/lib/asyncMessages",["jquery","underscore","js/lib/cookie","backbone"],function($,_,cookie,Backbone){var _private={defaults:{selector:null},defaults_item:{timeout:0},item_remove:function(item){var index=_.indexOf(this.stack,item.options.id);if(-1!=index){this.stack.splice(index,1);for(var _event in item.options.events)item.$ele.off(_event+".asyncMessage");item.$ele.remove()}delete this.items[item.options.id]},item_show:function(item){var that=this;if(this.stack.length){var previous=this.items[this.stack[0]];if(previous)previous.$ele.remove()}if(this.$container.append(item.$ele),this.trigger("showing",item.$ele),this.$container.show(),this.stack.unshift(item.options.id),this.trigger("show",item),item.options.timeout)setTimeout(function(){that.trigger("hiding",item),that.remove(item.options.id),that.trigger("hide",item)},item.options.timeout);for(var _event in item.options.events)item.$ele.on(_event+".asyncMessage",function(e){item.options.events[_event].call(that,e,item)})}},asyncMessage=function(ele,options){this.options=$.extend({},_private.defaults,options),this.$ele=$(ele||$("<div>").appendTo("body")),this.$container=this.options.selector?this.$ele.find(this.options.selector):this.$ele,this.stack=[],this.items={}};return asyncMessage.prototype.add=function(ele,_options){var $item=$(ele),options=$.extend({},_private.defaults_item,_options),that=this;if(options.id=options.id||_.uniqueId(),_.has(this.items,options.id))return options.id;this.items[options.id]={$ele:$item,options:options,timer:null};var show=function(){if(!that.stack.length)that.trigger("opening");if(_private.item_show.call(that,that.items[options.id]),1==that.stack.length)that.trigger("open")};if(options.delay)this.items[options.id].timer=setTimeout(show,options.delay);else show();return options.id},asyncMessage.prototype.remove=function(id){var item=this.items[id];if(item)if(clearTimeout(item.timer),1==this.stack.length)this.trigger("closing"),_private.item_remove.call(this,item),this.$container.hide(),this.trigger("close");else{if(this.stack.length){var toShow=this.items[this.stack.shift()];if(toShow)_private.item_show.call(this,toShow)}_private.item_remove.call(this,item)}},_.extend(asyncMessage.prototype,Backbone.Events),{create:function(ele,options){return new asyncMessage(ele,options)}}}),!function(undefined){function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}function Language(){}function Moment(config){checkOverflow(config),extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._input=duration,this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+12*years,this._data={},this._bubble()}function extend(a,b){for(var i in b)if(b.hasOwnProperty(i))a[i]=b[i];if(b.hasOwnProperty("toString"))a.toString=b.toString;if(b.hasOwnProperty("valueOf"))a.valueOf=b.valueOf;return a}function absRound(number){if(0>number)return Math.ceil(number);else return Math.floor(number)}function leftZeroFill(number,targetLength){for(var output=number+"";output.length<targetLength;)output="0"+output;return output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,ignoreUpdateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months,minutes,hours;if(milliseconds)mom._d.setTime(+mom._d+milliseconds*isAdding);if(days||months)minutes=mom.minute(),hours=mom.hour();if(days)mom.date(mom.date()+days*isAdding);if(months)mom.month(mom.month()+months*isAdding);if(milliseconds&&!ignoreUpdateOffset)moment.updateOffset(mom);if(days||months)mom.minute(minutes),mom.hour(hours)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;len>i;i++)if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))diffs++;return diffs+lengthDiff}function normalizeUnits(units){return units?unitAliases[units]||units.toLowerCase().replace(/(.)s$/,"$1"):units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop,index;for(prop in inputObject)if(inputObject.hasOwnProperty(prop))if(normalizedProp=normalizeUnits(prop))normalizedInput[normalizedProp]=inputObject[prop];return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else if(0===field.indexOf("month"))count=12,setter="month";else return;moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if("number"==typeof format)index=format,format=undefined;if(getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")},index)return getter(index);else{for(i=0;count>i;i++)results.push(getter(i));return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(0!==coercedNumber&&isFinite(coercedNumber))if(coercedNumber>=0)value=Math.floor(coercedNumber);else value=Math.ceil(coercedNumber);return value}function daysInMonth(year,month){return moment.utc([year,month+1,0]).date()}function isLeapYear(year){return 0===year%4&&0!==year%100||0===year%400}function checkOverflow(m){var overflow;if(m._a&&-2===m._pf.overflow){if(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE))overflow=DATE;m._pf.overflow=overflow}}function initializeParsingFlags(config){config._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,userInvalidated:!1}}function isValid(m){if(null==m._isValid)if(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.userInvalidated,m._strict)m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length;return m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function loadLang(key,values){if(values.abbr=key,!languages[key])languages[key]=new Language;return languages[key].set(values),languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var i=0,j,lang,next,split,get=function(k){if(!languages[k]&&hasModule)try{require("./lang/"+k)}catch(e){}return languages[k]};if(!key)return moment.fn._lang;if(!isArray(key)){if(lang=get(key))return lang;key=[key]}for(;i<key.length;){for(split=normalizeLanguage(key[i]).split("-"),j=split.length,next=normalizeLanguage(key[i+1]),next=next?next.split("-"):null;j>0;){if(lang=get(split.slice(0,j).join("-")))return lang;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return moment.fn._lang}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/))return input.replace(/^\[|\]$/g,"");else return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;length>i;i++)if(formatTokenFunctions[array[i]])array[i]=formatTokenFunctions[array[i]];else array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){if(!m.isValid())return m.lang().invalidDate();if(format=expandFormat(format,m.lang()),!formatFunctions[format])formatFunctions[format]=makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,lang){function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a;switch(token){case"DDDD":return parseTokenThreeDigits;case"YYYY":return parseTokenFourDigits;case"YYYYY":return parseTokenSixDigits;case"S":case"SS":case"SSS":case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return parseTokenOneOrTwoDigits;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){var tzchunk=(parseTokenTimezone.exec(string)||[])[0],parts=(tzchunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"M":case"MM":if(null!=input)datePartArray[MONTH]=toInt(input)-1;break;case"MMM":case"MMMM":if(a=getLangDefinition(config._l).monthsParse(input),null!=a)datePartArray[MONTH]=a;else config._pf.invalidMonth=input;break;case"D":case"DD":if(null!=input)datePartArray[DATE]=toInt(input);break;case"DDD":case"DDDD":if(null!=input)config._dayOfYear=toInt(input);break;case"YY":datePartArray[YEAR]=toInt(input)+(toInt(input)>68?1900:2e3);break;case"YYYY":case"YYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input)}}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(!config._d){if(currentDate=currentDateArray(config),config._dayOfYear){if(yearToUse=null==config._a[YEAR]?currentDate[YEAR]:config._a[YEAR],config._dayOfYear>(isLeapYear(yearToUse)?364:365))config._pf._overflowDayOfYear=!0;date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()}for(i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];input[HOUR]+=toInt((config._tzm||0)/60),input[MINUTE]+=toInt((config._tzm||0)%60),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}}function dateFromObject(config){var normalizedInput;if(!config._d)normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config)}function currentDateArray(config){var now=new Date;if(config._useUTC)return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()];else return[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){config._a=[],config._pf.empty=!0;var lang=getLangDefinition(config._l),string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,lang).match(formattingTokens)||[],i=0;i<tokens.length;i++){if(token=tokens[i],parsedInput=(getParseRegexForToken(token,config).exec(string)||[])[0]){if(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0)config._pf.unusedInput.push(skipped);string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput)config._pf.empty=!1;else config._pf.unusedTokens.push(token);addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput)config._pf.unusedTokens.push(token)}if(config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0)config._pf.unusedInput.push(string);if(config._isPm&&config._a[HOUR]<12)config._a[HOUR]+=12;if(config._isPm===!1&&12===config._a[HOUR])config._a[HOUR]=0;dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat=1e3,i,currentScore;for(i=0;i<config._f.length;i++)if(currentScore=0,tempConfig=extend({},config),initializeParsingFlags(tempConfig),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)){if(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,scoreToBeat>currentScore)scoreToBeat=currentScore,bestMoment=tempConfig}else;extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,string=config._i,match=isoRegex.exec(string);if(match){for(config._f="YYYY-MM-DD"+(match[2]||" "),i=0;4>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}if(parseTokenTimezone.exec(string))config._f+=" Z";makeDateFromStringAndFormat(config)}else config._d=new Date(string)}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);if(input===undefined)config._d=new Date;else if(matched)config._d=new Date(+matched[1]);else if("string"==typeof input)makeDateFromString(config);else if(isArray(input))config._a=input.slice(0),dateFromConfig(config);else if(isDate(input))config._d=new Date(+input);else if("object"==typeof input)dateFromObject(config);else config._d=new Date(input)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(1970>y)date.setFullYear(y);return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(1970>y)date.setUTCFullYear(y);return date}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1e3),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=45>seconds&&["s",seconds]||1===minutes&&["m"]||45>minutes&&["mm",minutes]||1===hours&&["h"]||22>hours&&["hh",hours]||1===days&&["d"]||25>=days&&["dd",days]||45>=days&&["M"]||345>days&&["MM",round(days/30)]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=milliseconds>0,args[4]=lang,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end)daysToDayOfWeek-=7;if(end-7>daysToDayOfWeek)daysToDayOfWeek+=7;return adjustedMoment=moment(mom).add("d",daysToDayOfWeek),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function makeMoment(config){var input=config._i,format=config._f;if("undefined"==typeof config._pf)initializeParsingFlags(config);if(null===input)return moment.invalid({nullInput:!0});if("string"==typeof input)config._i=input=getLangDefinition().preparse(input);if(moment.isMoment(input))config=extend({},input),config._d=new Date(+input._d);else if(format)if(isArray(format))makeDateFromStringAndArray(config);else makeDateFromStringAndFormat(config);else makeDateFromInput(config);return new Moment(config)}function makeGetterAndSetter(name,key){moment.fn[name]=moment.fn[name+"s"]=function(input){var utc=this._isUTC?"UTC":"";if(null!=input)return this._d["set"+utc+key](input),moment.updateOffset(this),this;else return this._d["get"+utc+key]()}}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return+this/factor}}function makeGlobal(){if("undefined"==typeof ender)this.moment=moment}for(var moment,VERSION="2.2.1",round=Math.round,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},hasModule="undefined"!=typeof module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{1,4}/,parseTokenSixDigits=/[+\-]?\d{1,6}/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/i,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,isoRegex=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoTimes=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(0>a)a=-a,b="-";return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(0>a)a=-a,b="-";return b+leftZeroFill(toInt(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Language.prototype,{set:function(config){var prop,i;for(i in config)if(prop=config[i],"function"==typeof prop)this[i]=prop;else this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;if(!this._monthsParse)this._monthsParse=[];for(i=0;12>i;i++){if(!this._monthsParse[i])mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i");if(this._monthsParse[i].test(monthName))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse)this._weekdaysParse=[];for(i=0;7>i;i++){if(!this._weekdaysParse[i])mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i");if(this._weekdaysParse[i].test(weekdayName))return i}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()])output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output;return output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11)return isLower?"pm":"PM";else return isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,lang,strict){if("boolean"==typeof lang)strict=lang,lang=undefined;return makeMoment({_i:input,_f:format,_l:lang,_strict:strict,_isUTC:!1})},moment.utc=function(input,format,lang,strict){var m;if("boolean"==typeof lang)strict=lang,lang=undefined;return m=makeMoment({_useUTC:!0,_isUTC:!0,_l:lang,_i:input,_f:format,_strict:strict}).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var isDuration=moment.isDuration(input),isNumber="number"==typeof input,duration=isDuration?input._input:isNumber?{}:input,match=null,sign,ret,parseIso,timeEmpty,dateTimeEmpty;if(isNumber)if(key)duration[key]=input;else duration.milliseconds=input;else if(match=aspNetTimeSpanJsonRegex.exec(input))sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign};else if(match=isoDurationRegex.exec(input))sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])};if(ret=new Duration(duration),isDuration&&input.hasOwnProperty("_lang"))ret._lang=input._lang;return ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.updateOffset=function(){},moment.lang=function(key,values){var r;
if(!key)return moment.fn._lang._abbr;if(values)loadLang(normalizeLanguage(key),values);else if(null===values)unloadLang(key),key="en";else if(!languages[key])getLangDefinition(key);return r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key),r._abbr},moment.langData=function(key){if(key&&key._lang&&key._lang._abbr)key=key._lang._abbr;return getLangDefinition(key)},moment.isMoment=function(obj){return obj instanceof Moment},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;i>=0;--i)makeList(lists[i]);for(moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);if(null!=flags)extend(m._pf,flags);else m._pf.userInvalidated=!0;return m},moment.parseZone=function(input){return moment(input).parseZone()},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return formatMoment(moment(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0;else return!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;if("string"==typeof input)dur=moment.duration(+val,input);else dur=moment.duration(input,val);return addOrSubtractDurationFromMoment(this,dur,1),this},subtract:function(input,val){var dur;if("string"==typeof input)dur=moment.duration(+val,input);else dur=moment.duration(input,val);return addOrSubtractDurationFromMoment(this,dur,-1),this},diff:function(input,units,asFloat){var that=this._isUTC?moment(input).zone(this._offset||0):moment(input).local(),zoneDiff=6e4*(this.zone()-that.zone()),diff,output;if(units=normalizeUnits(units),"year"===units||"month"===units){if(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units)output/=12}else diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff;return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var diff=this.diff(moment().zone(this.zone()).startOf("day"),"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=input){if("string"==typeof input)if(input=this.lang().weekdaysParse(input),"number"!=typeof input)return this;return this.add({d:input-day})}else return day},month:function(input){var utc=this._isUTC?"UTC":"",dayOfMonth;if(null!=input){if("string"==typeof input)if(input=this.lang().monthsParse(input),"number"!=typeof input)return this;return dayOfMonth=this.date(),this.date(1),this._d["set"+utc+"Month"](input),this.date(Math.min(dayOfMonth,this.daysInMonth())),moment.updateOffset(this),this}else return this._d["get"+utc+"Month"]()},startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if("week"===units)this.weekday(0);else if("isoweek"===units)this.isoWeekday(1);return this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add("isoweek"===units?"week":units,1).subtract("ms",1)},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)===+moment(input).startOf(units)},min:function(other){return other=moment.apply(null,arguments),this>other?this:other},max:function(other){return other=moment.apply(null,arguments),other>this?this:other},zone:function(input){var offset=this._offset||0;if(null!=input){if("string"==typeof input)input=timezoneMinutesFromString(input);if(Math.abs(input)<16)input=60*input;if(this._offset=input,this._isUTC=!0,offset!==input)addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!0)}else return this._isUTC?offset:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if("string"==typeof this._i)this.zone(this._i);return this},hasAlignedHourOffset:function(input){if(!input)input=0;else input=moment(input).zone();return 0===(this.zone()-input)%60},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add("d",input-dayOfYear)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==input?year:this.add("y",input-year)},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add("y",input-year)},week:function(input){var week=this.lang().week(this);return null==input?week:this.add("d",7*(input-week))},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add("d",7*(input-week))},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return null==input?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()]()},set:function(units,value){return units=normalizeUnits(units),this[units.toLowerCase()](value),this},lang:function(key){if(key===undefined)return this._lang;else return this._lang=getLangDefinition(key),this}}),i=0;i<proxyGettersAndSetters.length;i++)makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/,""),proxyGettersAndSetters[i]);makeGetterAndSetter("year","FullYear"),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),data.days=days%30,months+=absRound(days/30),data.months=months%12,years=absRound(months/12),data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());if(withSuffix)output=this.lang().pastFuture(difference,output);return this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){return units=normalizeUnits(units),this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";else return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")}});for(i in unitMillisecondFactors)if(unitMillisecondFactors.hasOwnProperty(i))makeDurationAsGetter(i,unitMillisecondFactors[i]),makeDurationGetter(i.toLowerCase());if(makeDurationAsGetter("Weeks",6048e5),moment.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},moment.lang("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule)module.exports=moment,makeGlobal();else if("function"==typeof define&&define.amd)define("js/lib/moment",[],function(){return moment});else makeGlobal()}.call(this),define("js/lib/util",["jquery","underscore","js/lib/moment","js/lib/cookie","js/core/brbraitt"],function($,_,moment,cookie,brbraitt,Topic){function handleAPIError(err,requestUrl){if(404==err)brbraitt.router.trigger("error",404,requestUrl,{message:"this page does not exist"});else if(500==err)brbraitt.router.trigger("error",500,requestUrl,{message:"backend server has seen an error"});else if(401==err)location.href=brbraitt.config.url.accounts+"signin?post_redirect="+page;else if(403==err)brbraitt.router.trigger("error",403,requestUrl,{message:"you do not have permission to view this page"})}function handleRedirect(redirect){if(redirect){var parse=/(?:https?:\/\/)?((?:[\d\w\-\.]+?\.)?[\w\d]+(?:\.[\w]+)?)(\/.*)?$/,parts=parse.exec(redirect),host=(parts&&parts.length?parts[1]:"").split("."),hostm=parse.exec(location.host)[1].split(".");if(host&&host.length&&host[host.length-1]==hostm[hostm.length-1]&&host[host.length-2]==hostm[hostm.length-2])location.href=redirect;else if(/^\/.*/.test(redirect))location.href=redirect;else brbraitt.router.navigate(brbraitt.config.dir.home,!0)}}function redirectToAccounts(page){location.href=brbraitt.config.url.accounts+page}function createAccountsUrl(page,params){if(void 0!==params){if(void 0!==params.r)params.post_redirect=params.r,delete params.r;var urlParams=$.param(params);return brbraitt.config.url.accounts+page+"?"+urlParams.split("+").join("%20")}return brbraitt.config.url.accounts+page}function scrollToInternalLink($dom,section){var $target=$dom.find('[data-section="'+section+'"]');if($target.length){var newTop=$target.position().top,scrollDiff=Math.abs($(document).scrollTop()-newTop);if(scrollDiff>1e3)$("html,body").scrollTop(newTop);else $("html,body").animate({scrollTop:newTop});if(brbraitt.multitracker)brbraitt.multitracker.push([document.title.split(" |")[0]+" "+section,"Open"])}}function setupInternalLinks(view){view.bind("view:appended",function(){scrollToInternalLink(view.$el,this.options.section)}),view.$el.on("click","a.internal-page",function(e){if(!e.ctrlKey&&!e.metaKey){var linkPath=e.currentTarget.pathname,section=linkPath.substr(linkPath.lastIndexOf("/")+1);if(view.$("[data-section="+section+"]").length)e.preventDefault(),scrollToInternalLink(view.$el,section),brbraitt.router.navigateTo(linkPath,{trigger:!1})}})}function getToday(){return new Date}function prettyJoin(items){if(items.length>1)return items.slice(0,-1).join(", ")+" and "+items[items.length-1];else return items.toString()}function addCommas(numberStr){return numberStr.replace(/(^|[^\w.])(\d{4,})/g,function($0,$1,$2){return $1+$2.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})}function truncateText(string,nMaxChars){if(!string)return"";if(string.length<=nMaxChars)return string;var xMaxFit=nMaxChars-3,xTruncateAt=string.lastIndexOf(" ",xMaxFit);if(-1==xTruncateAt||nMaxChars/2>xTruncateAt)xTruncateAt=xMaxFit;return string.substr(0,xTruncateAt)+"..."}function makeHttps(url){return url.replace(/^http:\/\//i,"https://")}function getUrlParam(url,name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexS),results=regex.exec(unescape(url));if(null===results)return null;else return results[1]}function changeUrlParam(uri,key,value){var re=new RegExp("([?&])"+key+"=.*(&|$)","i");if(separator=-1!==uri.indexOf("?")?"&":"?",uri.match(re))return uri.replace(re,"$1"+key+"="+value+"$2");else return uri+separator+key+"="+value}function getUrlPath(url){return(url||"").replace(brbraitt.config.url.base,"/")}function setupFormSave($form,xhrOptions,autoSave){function changeButtonText(message){var messageText=$saveButton.attr("data-"+message+"-message");$saveButton.html(messageText)}function resetButton(){var $requiredCheckboxes=$form.find('input[type="checkbox"]').filter("[required]");if($requiredCheckboxes.length&&!$requiredCheckboxes.is(":checked"))return $saveButton.attr("disabled","disabled"),void 0;else return $saveButton.removeAttr("disabled"),changeButtonText("default"),void 0}function sendXHR(){lastFormData=$form.serialize();var type=(xhrOptions.type||"POST").toLowerCase();if(brbraitt.api[type])brbraitt.api[type](xhrOptions.url,{data:xhrOptions.data||$form.serialize()||null,headers:xhrOptions.headers||{},dataType:xhrOptions.dataType||"json"}).done(function(responseJSON,textStatus,xhr){if(xhrOptions.success)xhrOptions.success(responseJSON,textStatus,xhr);changeButtonText("success"),$saveStatus.html("(Saved!)"),renderAllErrors($form,null)}).fail(function(xhr,textStatus,errorThrown){var data=$.parseJSON(xhr.responseText);if(xhrOptions.error)xhrOptions.error(xhr,textStatus,errorThrown);resetButton(),$form.find("input").off(".validate"),renderAllErrors($form,data)})}function triggerSave(){if($form.serialize()!=lastFormData)$saveButton.trigger("click"),$saveStatus.html("(Saving...)")}xhrOptions=xhrOptions||{};var lastFormData=$form.serialize();xhrOptions.url=xhrOptions.url||$form.attr("action"),xhrOptions.type=xhrOptions.type||$form.attr("type");var $saveButton=$form.find('button[type="submit"]'),$saveStatus=$($saveButton.attr("data-update"));$form.find("input, select").on("change",resetButton),$form.find("input, textarea").on("keyup",resetButton);var $allInputs=$form.find("input, select");$allInputs.each(function(ind,elem){if(ind!=$allInputs.length-1)$(elem).on("keypress",function(event){return 13!=event.keyCode})});var shouldValidateForm="true"==$form.attr("data-validate");if(shouldValidateForm)$form.find("input").each(function(){var $field=$(this);if("checkbox"!=$field.attr("type"))$field.on("keyup.validate",function(){if(!validateField($field))renderFieldErrors($field,null)}),$field.on("blur.validate paste.validate",function(){renderFieldErrors($field,validateField($field))})});if($saveButton.on("click",function(event){if(event.preventDefault(),!shouldValidateForm||shouldValidateForm&&!validateForm($form))changeButtonText("inflight"),$saveButton.attr("disabled","disabled"),sendXHR(xhrOptions)}),autoSave){var triggerSaveD=_.debounce(triggerSave,1e3);$form.find("input, select").on("change.autosave",triggerSaveD),$form.find("input, textarea").on("keyup.autosave",triggerSaveD),$form.find("input, select, blur").on("blur.autosave paste.autosave",triggerSave)}}function validateForm($form){var foundError=null;if($form.find("input").each(function(){var $field=$(this),fieldError=validateField($field);if(renderFieldErrors($field,fieldError),foundError=foundError||fieldError,fieldError&&!foundError&&0===$("input:focus").length)$field.focus()}),foundError){var invalidMessage=$form.attr("data-invalid-message")||"Uh-oh, please check the form!";renderFormError($form,invalidMessage),$form.find('button[type="submit"]').animate({opacity:.4},100).animate({"margin-left":"-=10"},100).animate({"margin-left":"+=20"},100).animate({"margin-left":"-=20"},100).animate({"margin-left":"+=10"},100).animate({opacity:1},100)}return foundError}function validateField($field){var fieldType=$field.attr("type"),fieldValue=$field.val(),fieldPattern=$field.attr("pattern"),error=null,regEx=null;if("email"==fieldType)regEx=new RegExp(/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?/);else if(fieldPattern)regEx=new RegExp(fieldPattern);if(regEx)if(!regEx.test(fieldValue))error=$field.attr("data-invalid-message")||"Invalid field";if($field.attr("required")){if("text"==fieldType&&0===fieldValue.length)error="This field is required.";if("checkbox"==fieldType&&!$field.is(":checked"))error="â¬ Please check this!"}return error}function renderAllErrors($form,data){var $errorsDom;if($form.find(".form-errors").remove(),$form.find(".error .help-inline").remove(),$form.find(".error").removeClass("error"),data){if(data.error_message)renderFormError($form,data.error_message);if(data.field_errors)for(var fieldName in data.field_errors){var $fieldDom=$form.find('*[name="'+fieldName+'"]');renderFieldErrors($fieldDom,data.field_errors[fieldName]),$fieldDom.focus()}}}function renderFormError($form,error){if($form.find(".form-errors").remove(),$errorsDom=$("<span></span>").addClass("form-errors").attr("role","alert").attr("aria-live","assertive").html(error),$form.find(".actions").length)$form.find(".actions").children(":last").after($errorsDom);else if($form.find(".modal-footer").length)$form.find(".modal-footer").children(":last").after($errorsDom);else if($form.find('button[type="submit"]'))$form.find('button[type="submit"]').after($errorsDom)}function renderFieldErrors($fieldDom,fieldErrors){var $parentGroup=$fieldDom.parents(".control-mini-group").length&&$fieldDom.parents(".control-mini-group")||$fieldDom.parents(".control-group");if($parentGroup.removeClass("error"),$parentGroup.find(".help-inline.error").remove(),fieldErrors){var errorId=($fieldDom.attr("id")||"")+"-form-field-error-"+(new Date).getTime(),describedBy=($fieldDom.attr("aria-describedby")||"").split(",");if(describedBy.push(errorId),$fieldDom.attr("aria-describedby",describedBy.join(",")),$errorsDom=$("<span></span>").addClass("help-inline error").attr("role","alert").attr("aria-live","assertive").attr("id",errorId),fieldErrors instanceof Array)for(var i=0;i<fieldErrors.length;i++)$errorsDom.append("<span>"+fieldErrors[i]+"</span>");else $errorsDom.append(fieldErrors);if($parentGroup.addClass("error"),"checkbox"==$fieldDom.attr("type"))$parentGroup.find(".controls").append($errorsDom);else $fieldDom.after($errorsDom)}}function isMobileDevice(){var ua=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/.test(ua)}function isIOS(){var ua=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad/.test(ua)}function isTouchSupported(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function isCanvasSupported(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))}function getViewportHeight(){var height=window.innerHeight,mode=document.compatMode;if(mode||!$.support.boxModel)height="CSS1Compat"==mode?document.documentElement.clientHeight:document.body.clientHeight;return height}function inView($elem,nearThreshold){nearThreshold=nearThreshold||0;var viewportHeight=getViewportHeight(),scrollTop=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,startRange=scrollTop-nearThreshold,endRange=scrollTop+viewportHeight+nearThreshold,elemTop=$elem.offset().top,elemHeight=$elem.height(),elemBottom=elemTop+elemHeight;return endRange>elemBottom&&elemBottom>startRange}function countCS(courses){var numCS=0,csCats=["cs-programming","cs-systems","cs-theory","cs-ai","cs","fmgb"];return courses.each(function(course){if(course.get("topic")&&_.intersection(course.get("topic").get("category-ids"),csCats).length>0)numCS++}),numCS}function setupPromos(){var $promos=$("[data-promo-id]");$promos.each(function(){var $promo=$(this);if($promo.find(".close").length){var promoId=$promo.attr("data-promo-id");if(cookie.get(promoId))$promo.hide();else $promo.show(),$promo.find(".close").on("click",function(){$promo.hide(),cookie.set(promoId,"closed")})}})}function prettifyTime($dom){var dateTime=moment.unix($dom.attr("datetime"));if(Math.abs(moment().diff(dateTime))<6e4)$dom.text("just now");else $dom.text(dateTime.fromNow());$dom.attr("title",dateTime.format("dddd, MMMM Do YYYY, h:mm a Z"))}function prettifyUrl(url){return url=url.replace(/^.*:\/\//,""),url=url.replace(/\/$/,"")}function truncateElemText($el){var originalText=$el.text(),truncateChars=0,iteration=function(){if($el.prop("scrollHeight")>$el.height()+6)truncateChars+=1,$el.text(originalText.slice(0,originalText.length-truncateChars)),$el.append("&hellip;"),_.defer(iteration)};_.defer(iteration)}function truncateElemHtml($el){var originalText=$el.html(),truncateChars=0,iteration=function(){if($el.prop("scrollHeight")>$el.height()+6)truncateChars+=1,$el.html(originalText.slice(0,originalText.length-truncateChars)),$el.append("&nbsp;&hellip;"),_.defer(iteration)};_.defer(iteration)}function extractFirstSubdir(url){var urlRegex=/(.*\/).*\//;return urlRegex.exec(url)[1]}function linkifyText(string){if(string)string=string.replace(/((https?\:\/\/)|(www\.))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,function(url){var full_url=url;if(!full_url.match("^https?://"))full_url="http://"+full_url;return'<a target="_blank" href="'+full_url+'">'+url+"</a>"});return string}function rgbToHsl(r,g,b){r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b),h,s,l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return[h,s,l]}function hslToRgb(h,s,l){var r,g,b;if(0===s)r=g=b=l;else{var hue2rgb=function(p,q,t){if(0>t)t+=1;if(t>1)t-=1;if(1/6>t)return p+6*(q-p)*t;if(.5>t)return q;if(2/3>t)return p+6*(q-p)*(2/3-t);else return p},q=.5>l?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return[Math.round(255*r),Math.round(255*g),Math.round(255*b)]}function rgbToHsv(r,g,b){r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b),h,s,v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return[h,s,v]}function hsvToRgb(h,s,v){var r,g,b,i=Math.floor(6*h),f=6*h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q}return[Math.round(255*r),Math.round(255*g),Math.round(255*b)]}function sortedGroupBy(list,groupByIter,sortByIter){var groups=_.groupBy(list,groupByIter);return groups=_.sortBy(groups,sortByIter)}function splitIntoGroups(list,nGroups){var groups=[];if(!list)return groups;for(var groupSize=Math.ceil(list.length/nGroups),i=0;i<list.length;i+=groupSize)groups.push(list.slice(i,i+groupSize));return groups}function verticalCenterEl($container,$el){$el.css("position","relative"),$el.css("top",$container.height()/2-$el.height()/2)}function concatName(nameObj){var full_name=nameObj.first_name;if(nameObj.middle_name)full_name=full_name+" "+nameObj.middle_name;if(nameObj.last_name)full_name=full_name+" "+nameObj.last_name;return full_name}function removeDiacritics(str){for(var i=0;i<defaultDiacriticsRemovalMap.length;i++)str=str.replace(defaultDiacriticsRemovalMap[i].letters,defaultDiacriticsRemovalMap[i].base);return str}function getCourseName(home_link){if(!_.isString(home_link))return null;var regexp=new RegExp("^https://([^.]+)\\.[^.]+\\.org/(.*)$"),match=regexp.exec(home_link);if(null===match)return null;else return{courseDomain:match[1],courseName:match[2]}}function isChina(){var subdomain=window.location.hostname.split(".")[0];return["cn","staging-china"].indexOf(subdomain)>=0}function styleRightToLeft($el){$el.find("[data-user-generated]").attr("dir","auto"),$el.find("[data-user-generated] code").attr("dir","ltr"),$el.find("[data-user-generated] > ol,ul").attr("dir","rtl"),$el.find("[data-user-generated] a,li").wrapInner("<bdi></bdi>")}var defaultDiacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];
return{handleAPIError:handleAPIError,handleRedirect:handleRedirect,redirectToAccounts:redirectToAccounts,createAccountsUrl:createAccountsUrl,setupInternalLinks:setupInternalLinks,truncateText:truncateText,setupFormSave:setupFormSave,renderAllErrors:renderAllErrors,renderFieldErrors:renderFieldErrors,isMobileDevice:isMobileDevice,isIOS:isIOS,isTouchSupported:isTouchSupported,isCanvasSupported:isCanvasSupported,scrollToInternalLink:scrollToInternalLink,makeHttps:makeHttps,getToday:getToday,prettyJoin:prettyJoin,getUrlParam:getUrlParam,changeUrlParam:changeUrlParam,getUrlPath:getUrlPath,inView:inView,countCS:countCS,setupPromos:setupPromos,prettifyTime:prettifyTime,prettifyUrl:prettifyUrl,addCommas:addCommas,truncateElemText:truncateElemText,truncateElemHtml:truncateElemHtml,extractFirstSubdir:extractFirstSubdir,linkifyText:linkifyText,rgbToHsl:rgbToHsl,hslToRgb:hslToRgb,rgbToHsv:rgbToHsv,hsvToRgb:hsvToRgb,verticalCenterEl:verticalCenterEl,sortedGroupBy:sortedGroupBy,splitIntoGroups:splitIntoGroups,concatName:concatName,removeDiacritics:removeDiacritics,getCourseName:getCourseName,isChina:isChina,styleRightToLeft:styleRightToLeft}}),define("js/models/course",["require","jquery","backbone","underscore","js/core/brbraitt","js/lib/util","js/lib/moment"],function(require,$,Backbone,_,brbraitt,util,moment){var MomentCache={moments:{},today:null,formats:{},fromNows:{},diffs:{},getMomentFor:function(arr){var key=arr.join("/");if(!MomentCache.moments[key]){var momentFor=moment(arr);if(momentFor.isValid())MomentCache.moments[key]=momentFor}return MomentCache.moments[key]},getFormatted:function(momentObj,formatString){var key=momentObj.valueOf()+"|"+formatString;if(!MomentCache.formats[key])MomentCache.formats[key]=momentObj.format(formatString);return MomentCache.formats[key]},getDiffFromToday:function(momentObj){if(!MomentCache.today)MomentCache.today=moment(util.getToday());var key=momentObj.valueOf();if(!MomentCache.diffs[key])MomentCache.diffs[key]=momentObj.diff(MomentCache.today,"days");return MomentCache.diffs[key]},getFromNow:function(momentObj,withoutSuffix){if(!MomentCache.today)MomentCache.today=moment(util.getToday());var key=momentObj.valueOf();if(!MomentCache.fromNows[key])MomentCache.fromNows[key]=momentObj.from(MomentCache.today,withoutSuffix);return MomentCache.fromNows[key]}},course=Backbone.Model.extend({defaults:{},initialize:function(){this.bind("change",this.updateComputed,this),this.updateComputed()},updateComputed:function(){var Topic=require("js/models/topic");if(this.get("topic")&&!(this.get("topic")instanceof Topic))this.set("topic",new Topic(this.get("topic")),{silent:!0});if(this.get("topic")&&this.get("topic").get("self_service_course_id")==this.get("id"))this.set("self_study",!0,{silent:!0});if(this.get("topic"))this.set("optin_link",brbraitt.config.dir.home+"signature/course/"+this.get("topic").get("short_name")+"/"+this.get("id"),{silent:!0});if(this.get("home_link"))this.set("class_link",this.get("home_link")+"auth/auth_redirector?type=login&subtype=normal",{silent:!0});if(this.get("signature_track_price")){var realPrice=this.get("signature_track_price");this.set("signature_track_price_display",Number(realPrice).toFixed(2),{silent:!0});var regularPrice=this.get("signature_track_regular_price");this.set("signature_track_regular_price",Number(regularPrice).toFixed(2),{silent:!0});var discountAmount=regularPrice-realPrice;if(discountAmount>0)this.set("signature_track_price_discount",Number(discountAmount).toFixed(2),{silent:!0})}this.set("duration",this.get("duration_string"),{silent:!0})},getsSignatureTrackCert:function(){var courseRecord=this.get("record"),certsReady=this.certificateIsReady(),isSigTrack=this.get("eligible_for_signature_track")&&courseRecord&&courseRecord.signature_track;if(certsReady&&isSigTrack){var normalOrDistinction=!_.isUndefined(courseRecord.achievement_level)&&courseRecord.achievement_level&&courseRecord.achievement_level>0,passedACE=courseRecord.passed_ace&&courseRecord.is_enrolled_for_proctored_exam;return courseRecord.authenticated_overall&&(normalOrDistinction||passedACE)}else return!1},getsSOA:function(){return this.certificateIsReady()&&this.get("record")&&!_.isNull(this.get("record").achievement_level)&&!_.isUndefined(this.get("record").achievement_level)&&this.get("record").achievement_level>0},hasGrade:function(){return this.getsSOA()||this.getsSignatureTrackCert()},hasStatement:function(){return this.certificateIsReady()&&this.get("record")&&this.get("record").achievement_level>0},isEligibleForTrack:function(){return this.get("eligible_for_signature_track")},getDurationWeeks:function(){var durationWeeks=1e3;if(this.get("duration_string")){var durationStr=this.get("duration_string"),durationWeeksNum=parseInt(durationStr.split(" ")[0],10);if(!isNaN(durationWeeksNum)&&durationWeeksNum>=1)durationWeeks=durationWeeksNum}return durationWeeks},hasPartialDate:function(){return!(!this.get("start_year")||!this.get("start_month")||this.get("start_day"))},hasFullDate:function(){return!!(this.get("start_year")&&this.get("start_month")&&this.get("start_day"))},getStartDateMoment:function(){var startDateM=null;if(this.hasPartialDate())startDateM=MomentCache.getMomentFor([this.get("start_year"),this.get("start_month")-1]);else if(this.hasFullDate())startDateM=MomentCache.getMomentFor([this.get("start_year"),this.get("start_month")-1,this.get("start_day"),0,0,0]);return startDateM},getStartTime:function(){var startTime=41007456e5,startDateM=this.getStartDateMoment();if(startDateM)startTime=startDateM.valueOf();return startTime},getStartDisplay:function(){var startDisplay="Date to be announced";if(this.get("self_study"))startDisplay="Self study";else if(this.hasPartialDate())startDisplay=MomentCache.getFormatted(this.getStartDateMoment(),"MMMM YYYY");else if(this.hasFullDate())startDisplay=MomentCache.getFormatted(this.getStartDateMoment(),"MMM Do YYYY");return startDisplay},getStartDisplayShort:function(){var startDisplayShort="Date TBA";if(this.get("self_study"))startDisplayShort="Self study";else if(this.hasPartialDate())startDisplayShort=MomentCache.getFormatted(this.getStartDateMoment(),"MMM YYYY");else if(this.hasFullDate())startDisplayShort=MomentCache.getFormatted(this.getStartDateMoment(),"MMM Do");return startDisplayShort},getEndDisplayShort:function(){var endDisplayShort="";if(this.hasFullDate()&&1e3!=this.getDurationWeeks()){var endDateM=moment(this.getStartDateMoment()).add("weeks",this.getDurationWeeks());endDisplayShort=MomentCache.getFormatted(endDateM,"MMM Do")}return endDisplayShort},getStartDiff:function(){var startDiff=99999999,startDateM=this.getStartDateMoment();if(startDateM)startDiff=MomentCache.getDiffFromToday(startDateM);return startDiff},getStartPercent:function(){var startPercent=0,startDateM=this.getStartDateMoment(),durationWeeks=this.getDurationWeeks(),startStatus=this.getStartStatus();if(startDateM)startDiff=MomentCache.getDiffFromToday(startDateM),startPercent=Math.min(Math.abs(Math.ceil(100*(startDiff/(7*durationWeeks)))),100);return startPercent},getStartCountdown:function(){var startCountdown="",startDateM=this.getStartDateMoment(),startStatus=this.getStartStatus();if(startDateM)if(startDiff=MomentCache.getDiffFromToday(startDateM),"present"==startStatus&&0===startDiff)startCountdown="Started today";else if("present"==startStatus&&0>startDiff)startCountdown="Started "+MomentCache.getFromNow(startDateM);else if("past"==startStatus)startCountdown="Ended "+MomentCache.getFromNow(moment(startDateM).add("weeks",this.getDurationWeeks()));else startCountdown="Starts "+MomentCache.getFromNow(startDateM);return startCountdown},getStartStatus:function(){var startStatus="future",startDateM=this.getStartDateMoment();if(startDateM)if(startDiff=MomentCache.getDiffFromToday(startDateM),0===startDiff)startStatus="present";else if(0>startDiff){var courseGradingNotStarted=this.get("eligible_for_certificates")&&!this.get("certificates_ready");if((Math.abs(startDiff)<7*(this.getDurationWeeks()+3)||courseGradingNotStarted)&&!this.certificateIsReady())startStatus="present";else startStatus="past"}return startStatus},getSignatureTrackRegistrationTimeLeft:function(){return MomentCache.getFromNow(moment(this.get("signature_track_close_time")),!0)},getSignatureTrackRefundEndDate:function(){return MomentCache.getFormatted(moment(this.get("signature_track_close_time")).add("weeks",2),"MM/DD/YYYY")},certificateIsReady:function(){return this.get("certificates_ready")&&null!=this.get("auth_review_completion_date")&&null!=this.get("end_of_class_emails_sent")}});return course}),define("js/collections/courses",["backbone","underscore","js/models/course","js/core/brbraitt","jquery"],function(Backbone,_,Course,brbraitt,$){var Courses=Backbone.Collection.extend({model:Course});return Courses.toArray=function(courses){return courses instanceof Backbone.Collection?_.toArray(courses):courses},Courses.withRecords=function(courses,withAuthentication,withStatements){var coursesWithRecords=_.filter(Courses.toArray(courses),function(course){var courseRecord=course.get("record");if(course.certificateIsReady()&&courseRecord){var getsSTCert=course.getsSignatureTrackCert(),getsSOA=course.getsSOA();if(withStatements)if(withAuthentication)return getsSTCert;else return!getsSTCert&&getsSOA;else return!getsSOA}return!1});return coursesWithRecords},Courses.byTime=function(courses){var sortedCourses=_.sortBy(Courses.toArray(courses),function(course){if("past"==course.getStartStatus())return course.getStartTime()+220752e6;else return course.getStartTime()});return sortedCourses},Courses.byTimeDescending=function(courses){var sortedCourses=_.sortBy(Courses.toArray(courses),function(course){return-course.getStartTime()});return sortedCourses},Courses.forId=function(courses,id){return _.find(Courses.toArray(courses),function(course){if(course.get("id")==id)return course;else return void 0})},Courses.haveActiveSignatureTrack=function(courses){return _.filter(Courses.toArray(courses),function(course){return course.get("status")&&course.get("signature_track_registration_open")})},Courses}),define("js/lib/language",["jquery","underscore"],function($,_){function shortenLanguageCode(code){return(normalizeLanguageCode(code)||"").split("-")[0]}function languageCodeCSVtoLanguages(csv){var subtitlesLangs=_.compact((csv||"").split(/,\s*/g));return _.reduce(subtitlesLangs,function(memo,code){return memo[code]=languageCodeToName(code),memo},{})}function isRightToLeft(language){var rightToLeftLanguages=["ar","he"];return _.contains(rightToLeftLanguages,shortenLanguageCode(language))}function languageCodeToName(code){code=normalizeLanguageCode(code||"");var components=code.split("-"),language,languageMappingExists=_.any(components,function(c,i){var codeToTest=components.slice(0,components.length-i).join("-");return language=languageCodeToNameObj[codeToTest],!!language});return languageMappingExists?language:code}function normalizeLanguageCode(languageCode){var code=(languageCode||"").toLowerCase().replace(/_/g,"-");return code.split(/[;=,]/)[0]}function getLanguageCode(){var code;try{code=window.require.s.contexts._.config.config.i18n.locale}catch(e){code=normalizeLanguageCode($("#_require").attr("data-locale"))||"en"}return code}var languageCodeToNameObj={ab:"Abkhaz",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"GuaranÃ­",gu:"Gujarati",ht:"Haitian",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",ia:"Interlingua",id:"Indonesian",ie:"Interlingue",ga:"Irish",ig:"Igbo",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",la:"Latin",lb:"Luxembourgish",lg:"Ganda",li:"Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",gv:"Manx",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"MÄori",mr:"Marathi",mh:"Marshallese",mn:"Mongolian",na:"Nauru",nv:"Navajo",nb:"Norwegian BokmÃ¥l",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nn:"Norwegian Nynorsk",no:"Norwegian",ii:"Nuosu",nr:"South Ndebele",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic",om:"Oromo",or:"Oriya",os:"Ossetian",pa:"Panjabi",pi:"PÄli",fa:"Persian",pl:"Polish",ps:"Pashto",pt:"Portuguese","pt-br":"Portuguese (Brazilian)",qu:"Quechua",rm:"Romansh",rn:"Kirundi",ro:"Romanian",ru:"Russian",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sm:"Samoan",sg:"Sango",sr:"Serbian",gd:"Gaelic",sn:"Shona",si:"Sinhala",sk:"Slovak",sl:"Slovene",so:"Somali",st:"Southern Sotho",es:"Spanish",su:"Sundanese",sw:"Swahili",ss:"Swati",sv:"Swedish",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",bo:"Tibetan",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"VolapÃ¼k",wa:"Walloon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zu:"Zulu"};return{shortenLanguageCode:shortenLanguageCode,languageCodeCSVtoLanguages:languageCodeCSVtoLanguages,languageCodeToName:languageCodeToName,isRightToLeft:isRightToLeft,normalizeLanguageCode:normalizeLanguageCode,getLanguageCode:getLanguageCode}}),define("js/models/topic",["jquery","backbone","underscore","js/core/brbraitt","js/collections/courses","js/lib/util","js/lib/language"],function($,Backbone,_,brbraitt,Courses,util,language){var Topic=Backbone.Model.extend({defaults:{},idAttribute:"short_name",initialize:function(){this.bind("change",this.updateComputed,this),this.updateComputed()},updateComputed:function(){var self=this;if(this.get("universities")&&1==this.get("universities").length&&!this.get("universities")[0])this.set("universities",[]);if(!(this.get("courses")&&this.get("courses")instanceof Courses))this.set("courses",new Courses(this.get("courses")),{silent:!0}),this.get("courses").each(function(course){if(!(course.get("topic")&&course.get("topic")instanceof Topic))course.set("topic",self)});if(this.get("short_description"))this.set("short_description",this.get("short_description").replace(/(<([^>]+)>)/gi,""),{silent:!0});if(this.set("social_link",brbraitt.config.url.base+"course/"+this.get("short_name"),{silent:!0}),!this.get("hash_tag")){var hashTag=this.get("short_name");if("gamification"==hashTag)hashTag="gamification14";this.set("hash_tag",hashTag,{silent:!0})}if(this.get("universities")&&1==this.get("universities").length)this.set("uni_twitter",this.get("universities")[0].website_twitter,{silent:!0});var openCourse=_.find(Courses.byTime(this.get("courses")),function(course){return 1==course.get("status")});this.set("open_course",openCourse,{silent:!0}),this.set("universities_display",util.prettyJoin(_.pluck(this.get("universities"),"name")),{silent:!0});var language_group=language.shortenLanguageCode(this.get("language"));this.set("language_group",language_group,{silent:!0}),this.set("language_name",language.languageCodeToName(language_group),{silent:!0});var nativeAndSubtitles=language_group+","+(this.get("subtitle_languages_csv")||"");this.set("subtitle_language_groups",nativeAndSubtitles,{silent:!0})},sync:function(callback){var that=this;if(this.get("has_full_data"))callback();else if(this.get("short_name"))$.when(brbraitt.api.get("topic/information",{data:{"topic-id":that.get("short_name")},message:{waiting:"loading course details ..."}}),brbraitt.api.get("user/instructorprofile",{data:{topic_short_name:that.get("short_name"),exclude_topics:1},message:{waiting:"loading course details..."}})).done(function(data,instructorData){that.set(data[0]),that.set("instructors",instructorData[0]),callback()}).fail(function(jqXHR){callback(jqXHR.status)})},isUpcoming:function(){if(this.get("open_course"))return this.get("open_course").getStartDiff()>0&&this.get("open_course").getStartDiff()<30;else return!1},getCourseById:function(courseId){return this.get("courses").find(function(course){return course.get("id")==courseId})},getTwitterText:function(startPhrase){startPhrase=startPhrase||"I'm taking";var start=startPhrase+" "+this.get("name"),end=" on @brbraitt!",tweetLength=start.length+end.length;if(this.get("social_link"))tweetLength+=this.get("social_link").length;if(this.get("hash_tag"))tweetLength+=this.get("hash_tag").length;if(this.get("uni_twitter")&&140>tweetLength)end=" from @"+this.get("uni_twitter")+end;return start+end},getFacebookText:function(){return"I'm taking "+this.get("name")+" on brbraitt!"},getUniqueUniversities:function(){return _.uniq(this.get("universities"),!1,function(u){return u.id})},hasEligibleForSignatureTrack:function(){return this.get("courses").find(function(course){return course.isEligibleForTrack()})?!0:!1},hasOpenEnrollForSignatureTrack:function(){return this.get("courses").find(function(course){return course.get("status")&&course.get("signature_track_registration_open")})?!0:!1}});return Topic.getByShortName=function(shortName){var topic=new Topic({short_name:shortName});return topic},Topic}),!function(wndw){var cloudfrontApi=function(_,Supports){var CloudfrontApi=function(api,config){this.api=api,this.config=config,this.cloudfrontEnabled=Supports.cors&&0===config.url.cloudfront_api.indexOf("http")};return CloudfrontApi.prototype.get=function(path,options){if(this.cloudfrontEnabled)if(0!==path.indexOf("http"))path=this.config.url.cloudfront_api+path;if(options=options||{},options.data=options.data||{},options.data.__cf_version=this.config.version,!wndw.location.origin)wndw.location.origin=wndw.location.protocol+"//"+wndw.location.host;return options.data.__cf_origin=wndw.location.origin,this.api.get(path,options)},function(api,config){return new CloudfrontApi(api,config)}};if("function"==typeof define&&define.amd)define("js/lib/cloudfront.api",["underscore","js/lib/supports"],function(_,Supports){return cloudfrontApi(_,Supports)});else if("undefined"!=typeof wndw)wndw.CloudfrontApi=cloudfrontApi(wndw._,wndw.Supports)}(window),define("js/collections/topics",["jquery","backbone","underscore","js/models/topic","js/core/brbraitt","require","js/lib/util","js/lib/cloudfront.api"],function($,Backbone,_,Topic,brbraitt,require,util,CloudfrontApi){var Topics=Backbone.Collection.extend({model:Topic,retrieve:function(filter,callback){var self=this;if(self.length)callback(null,self);else{var TopicSearch=require("js/models/topicsearch"),ts=new TopicSearch;ts.set("collection",this),ts.set({orderby:"new","page-size":1e3}),ts.on("finishLoad",function(){callback(null,self)}),ts.fetchPage()}},getByShortName:function(name,callback){var self=this,topic=self.find(function(topic){return topic.get("short_name")==name});if(topic)callback(null,topic);else if(self.length)callback(null,null);else self.retrieve({},function(err,topics){if(!err)self.getByShortName(name,callback);else callback(err)})},getByUniversity:function(name,callback){var self=this,topics=self.filter(function(topic){return _.any(topic.get("universities"),function(university){return university.short_name==name})});if(topics&&topics.length)callback(topics);else if(self.length)callback(null);else self.retrieve({},function(err,topics){if(!err)self.getByUniversity(name,callback);else callback(err)})},getByCategory:function(name,callback){var self=this,topics=self.filter(function(topic){return _.any(topic.get("categories"),function(category){return category.short_name==name})});if(topics&&topics.length)callback(topics);else if(self.length)callback(null);else self.retrieve({},function(err,topics){if(!err)self.getByCategory(name,callback);else callback(err)})},getByInstructor:function(id,callback){var self=this,topics=self.filter(function(topic){return _.contains(topic.get("instructors"),id)});if(topics&&topics.length)callback(topics);else if(self.length)callback(null);else self.retrieve({},function(err,topics){if(!err)self.getByInstructor(id,callback);else callback(err)})}});Topics.toArray=function(topics){return topics instanceof Backbone.Collection?_.toArray(topics):topics},Topics.byTime=function(topics){var FAR_AWAY_TIME=new Date(2100,12,30).getTime();return _.sortBy(Topics.toArray(topics),function(topic){if(topic.get("open_course"))return topic.get("open_course").getStartTime();else return FAR_AWAY_TIME})},Topics.byUpcoming=function(topics){var MANY_DAYS_IN_FUTURE=1e6;return _.sortBy(Topics.toArray(topics),function(topic){if(topic.get("open_course"))if(topic.get("open_course").getStartDiff()>-14)return topic.get("open_course").getStartDiff();else return topic.get("open_course").getStartDiff()+MANY_DAYS_IN_FUTURE;return 2*MANY_DAYS_IN_FUTURE})},Topics.byUpcomingWithCount=function(topics,days){var MANY_DAYS_IN_FUTURE=1e6,count=0,upcomingTopics=_.sortBy(Topics.toArray(topics),function(topic){if(topic.get("open_course")){var startDiff=topic.get("open_course").getStartDiff();if(startDiff>0&&days>startDiff)return count++,topic.get("open_course").getStartDiff();else return topic.get("open_course").getStartDiff()+MANY_DAYS_IN_FUTURE}return 2*MANY_DAYS_IN_FUTURE});return{topics:upcomingTopics,count:count}},Topics.byName=function(topics){return _.sortBy(Topics.toArray(topics),function(topic){return topic.get("name")})},Topics.byDuration=function(topics){return _.sortBy(Topics.toArray(topics),function(topic){if(topic.get("open_course"))return topic.get("open_course").getDurationWeeks();else return 1e3})},Topics.byAdded=function(topics){return _.sortBy(Topics.toArray(topics),function(topic){return-topic.get("id")})},Topics.matchingSearch=function(topics,search){var searchWords=search.match(/\w+|"[^"]+"/g);searchWords=_.map(searchWords,function(word){return word.replace(/"/g,"")});var searchPatterns=_.map(searchWords,function(word){var regexString="\\b"+word+(1==word.length?"\\b":"");return new RegExp(regexString,"i")}),matchingTopics=_.filter(Topics.toArray(topics),function(topic){var uninames=_.pluck(topic.get("universities"),"name"),unis=uninames.join(" "),shortUnis=_.pluck(topic.get("universities"),"short_name").join(" "),cats=_.pluck(topic.get("categories"),"name").join(" "),shortDescription=(topic.get("short_description")||"").split(/\W+/).join(" ");return _.all(searchPatterns,function(pattern){return pattern.test(topic.get("name"))||pattern.test(unis)||pattern.test(cats)||pattern.test(topic.get("short_description"))||pattern.test(shortUnis)||pattern.test(shortDescription)||_.any(topic.get("instructors"),function(instructor){return pattern.test(util.concatName(instructor))})})});return matchingTopics},Topics.forUniversity=function(topics,shortName){var matchingTopics=_.filter(Topics.toArray(topics),function(topic){var unis=_.pluck(topic.get("universities"),"short_name");return-1!=unis.indexOf(shortName)});return matchingTopics},Topics.forCategory=function(topics,shortName){var matchingTopics=_.filter(Topics.toArray(topics),function(topic){var cats=_.pluck(topic.get("categories"),"short_name");return-1!=cats.indexOf(shortName)});return matchingTopics};var parseRelatedModel=function(rootModels,relatedModels,relatedKey,relatedKey2,relatedIdName){_.each(rootModels,function(rootModel){var relatedIds=rootModel[relatedKey];rootModel[relatedKey2]=[],_.each(relatedIds,function(relatedId){var relatedModel=_.find(relatedModels,function(testModel){return testModel[relatedIdName]==relatedId});rootModel[relatedKey2].push(relatedModel)})})};Topics.parse=function(response){parseRelatedModel(response.topics,response.unis,"unis","universities","id"),parseRelatedModel(response.topics,response.cats,"cats","categories","id"),parseRelatedModel(response.topics,response.insts,"insts","instructors","instructor_id"),_.each(response.courses,function(course){response.topics[course.topic_id].courses=response.topics[course.topic_id].courses||[],response.topics[course.topic_id].courses.push(course)});var topics=_.values(response.topics);return topics};var deferredListJson;return Topics.singletonReadAll=function(){if(deferredListJson)return deferredListJson;deferredListJson=$.Deferred();var fetchUrl="topic/list2",cloudfrontApi=CloudfrontApi(brbraitt.api,brbraitt.config),data={unis:["id","name","short_name","partner_type","favicon","home_link","display"].join(),topics:["id","language","name","short_name","subtitle_languages_csv","self_service_course_id","small_icon_hover","large_icon","short_description"].join(),cats:["id","name","short_name"].join(),insts:["id","first_name","middle_name","last_name","short_name","user_profile__user__instructor__id"].join(),courses:["id","start_day","start_month","start_year","status","signature_track_open_time","signature_track_close_time","eligible_for_signature_track","duration_string","home_link","topic_id","active"].join()};return cloudfrontApi.get(fetchUrl,{data:data}).done(function(data){Topics.nonblockingBackbonify(data,deferredListJson)}).fail(function(){deferredListJson.reject()}),deferredListJson},Topics.similarTopics=function(topicIds,maxN,getAllTopicData){var fetchUrl="topic/similartopics",options={data:{topic_ids:topicIds.join(),max_to_return:maxN,get_all_topic_data:getAllTopicData}};return brbraitt.api.get(fetchUrl,options)},Topics.nonblockingBackbonify=function(rawJson,deferred){function worker(){for(var startTime=(new Date).getTime(),loopStart=i;i<parsedJson.length&&(new Date).getTime()<startTime+100;)topics.add(parsedJson[i]),i++;if(i<parsedJson.length)setTimeout(worker,0);else deferred.resolve(topics,rawJson)}var i=0,topics=new Topics,parsedJson=Topics.parse(rawJson);worker()},Topics}),define("js/json/placementables",[],function(){return["matrix","nlangp","linearopt","java-fr","progfun","compinvesting1","compphoto","conrob","sdn","bigdata","biostats","compdata","dataanalysis","sna","digitaldemocracy","insidetheinternet","netsysbio","algs4partI","algs4partII","interactivepython","programdesign","aiplan","hetero","androidapps101","vlsicad","digitalmedia","malsoftware","compneuro","machlearning","proglang","inforiskman","comnetworks","hardware","posa"]}),!function(wndw){var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(message){this.toString=function(){return"CORRUPT: "+this.message},this.message=message},invalid:function(message){this.toString=function(){return"INVALID: "+this.message},this.message=message},bug:function(message){this.toString=function(){return"BUG: "+this.message},this.message=message},notReady:function(message){this.toString=function(){return"NOT READY: "+this.message},this.message=message}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl",[],function(){return sjcl});else wndw.sjcl=sjcl}(window),!function(wndw){var addBitArray=function(sjcl){sjcl.bitArray={bitSlice:function(a,bstart,bend){return a=sjcl.bitArray._shiftRight(a.slice(bstart/32),32-(31&bstart)).slice(1),void 0===bend?a:sjcl.bitArray.clamp(a,bend-bstart)},extract:function(a,bstart,blength){var x,sh=Math.floor(31&-bstart-blength);if(-32&(bstart+blength-1^bstart))x=a[0|bstart/32]<<32-sh^a[0|bstart/32+1]>>>sh;else x=a[0|bstart/32]>>>sh;return x&(1<<blength)-1},concat:function(a1,a2){if(0===a1.length||0===a2.length)return a1.concat(a2);var out,i,last=a1[a1.length-1],shift=sjcl.bitArray.getPartial(last);if(32===shift)return a1.concat(a2);else return sjcl.bitArray._shiftRight(a2,shift,0|last,a1.slice(0,a1.length-1))},bitLength:function(a){var l=a.length,x;if(0===l)return 0;else return x=a[l-1],32*(l-1)+sjcl.bitArray.getPartial(x)},clamp:function(a,len){if(32*a.length<len)return a;a=a.slice(0,Math.ceil(len/32));var l=a.length;if(len=31&len,l>0&&len)a[l-1]=sjcl.bitArray.partial(len,a[l-1]&2147483648>>len-1,1);return a},partial:function(len,x,_end){if(32===len)return x;else return(_end?0|x:x<<32-len)+1099511627776*len},getPartial:function(x){return Math.round(x/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var x=0,i;for(i=0;i<a.length;i++)x|=a[i]^b[i];return 0===x},_shiftRight:function(a,shift,carry,out){var i,last2=0,shift2;if(void 0===out)out=[];for(;shift>=32;shift-=32)out.push(carry),carry=0;if(0===shift)return out.concat(a);for(i=0;i<a.length;i++)out.push(carry|a[i]>>>shift),carry=a[i]<<32-shift;return last2=a.length?a[a.length-1]:0,shift2=sjcl.bitArray.getPartial(last2),out.push(sjcl.bitArray.partial(31&shift+shift2,shift+shift2>32?carry:out.pop(),1)),out},_xor4:function(x,y){return[x[0]^y[0],x[1]^y[1],x[2]^y[2],x[3]^y[3]]}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-bitArray",["js/lib/sjcl"],function(sjcl){addBitArray(sjcl)});else addBitArray(wndw.sjcl)}(window),!function(wndw){var addCodecHex=function(sjcl){sjcl.codec.hex={fromBits:function(arr){var out="",i,x;for(i=0;i<arr.length;i++)out+=((0|arr[i])+0xf00000000000).toString(16).substr(4);return out.substr(0,sjcl.bitArray.bitLength(arr)/4)},toBits:function(str){var i,out=[],len;for(str=str.replace(/\s|0x/g,""),len=str.length,str+="00000000",i=0;i<str.length;i+=8)out.push(0^parseInt(str.substr(i,8),16));return sjcl.bitArray.clamp(out,4*len)}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-codecHex",["js/lib/sjcl"],function(sjcl){return addCodecHex(sjcl)});else addCodecHex(wndw.sjcl)}(window),!function(wndw){var addCodecString=function(sjcl){sjcl.codec.utf8String={fromBits:function(arr){var out="",bl=sjcl.bitArray.bitLength(arr),i,tmp;for(i=0;bl/8>i;i++){if(0===(3&i))tmp=arr[i/4];out+=String.fromCharCode(tmp>>>24),tmp<<=8}return decodeURIComponent(escape(out))},toBits:function(str){str=unescape(encodeURIComponent(str));var out=[],i,tmp=0;for(i=0;i<str.length;i++)if(tmp=tmp<<8|str.charCodeAt(i),3===(3&i))out.push(tmp),tmp=0;if(3&i)out.push(sjcl.bitArray.partial(8*(3&i),tmp));return out}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-codecString",["js/lib/sjcl","js/lib/sjcl-bitArray"],function(sjcl,bitArray){addCodecString(sjcl)});else addCodecString(wndw.sjcl)}(window),!function(wndw){var addSHA1=function(sjcl){sjcl.hash.sha1=function(hash){if(hash)this._h=hash._h.slice(0),this._buffer=hash._buffer.slice(0),this._length=hash._length;else this.reset()},sjcl.hash.sha1.hash=function(data){return(new sjcl.hash.sha1).update(data).finalize()},sjcl.hash.sha1.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(data){if("string"==typeof data)data=sjcl.codec.utf8String.toBits(data);var i,b=this._buffer=sjcl.bitArray.concat(this._buffer,data),ol=this._length,nl=this._length=ol+sjcl.bitArray.bitLength(data);for(i=this.blockSize+ol&-this.blockSize;nl>=i;i+=this.blockSize)this._block(b.splice(0,16));return this},finalize:function(){var i,b=this._buffer,h=this._h;for(b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]),i=b.length+2;15&i;i++)b.push(0);for(b.push(Math.floor(this._length/4294967296)),b.push(0|this._length);b.length;)this._block(b.splice(0,16));return this.reset(),h},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function(t,b,c,d){if(19>=t)return b&c|~b&d;else if(39>=t)return b^c^d;else if(59>=t)return b&c|b&d|c&d;else if(79>=t)return b^c^d},_S:function(n,x){return x<<n|x>>>32-n},_block:function(words){var t,tmp,a,b,c,d,e,w=words.slice(0),h=this._h,k=this._key;for(a=h[0],b=h[1],c=h[2],d=h[3],e=h[4],t=0;79>=t;t++){if(t>=16)w[t]=this._S(1,w[t-3]^w[t-8]^w[t-14]^w[t-16]);tmp=0|this._S(5,a)+this._f(t,b,c,d)+e+w[t]+this._key[Math.floor(t/20)],e=d,d=c,c=this._S(30,b),b=a,a=tmp
}h[0]=0|h[0]+a,h[1]=0|h[1]+b,h[2]=0|h[2]+c,h[3]=0|h[3]+d,h[4]=0|h[4]+e}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-sha1",["js/lib/sjcl","js/lib/sjcl-codecString","js/lib/sjcl-bitArray"],function(sjcl,codecString,bitArray){addSHA1(sjcl)});else addSHA1(wndw.sjcl)}(window),!function(wndw){var Experiments={},ExperimentInstances={},ABCingletons=null,AB=function($,_,Log,Cookie,sjcl){var _private={listenForConversion:function(){$("body").on("click.ab","[data-ab-convert-for]",function(){var $convert=$(this),experimentNames=$convert.attr("data-ab-convert-for")||"";experimentNames=experimentNames.split(","),_.each(experimentNames,function(experimentName){var types=_.keys(ABCingletons);_.each(types,function(type){var experiment=ABCingletons[type].getExperiment(experimentName);if(experiment)experiment.convert($convert.attr("data-ab-convert"))})})})},chooseVariant:function(){var that=this;if(!that.valid)return null;if(that.options.debug){var overrideString="ab-"+that.type+"-"+that.name+"-override",chosen=Cookie.get(overrideString)||$(wndw.document).find("body").attr("data-"+overrideString);if(null!=chosen){var variant=_.find(that.options.variants,function(variant){return variant.name==chosen});if(variant)return variant;else that.options.logger.error("Invalid variant: "+chosen)}}var key=that.id+"_"+that.name,digest=sjcl.codec.hex.fromBits(sjcl.hash.sha1.hash(key)),hashValue=parseInt(digest.substr(digest.length-8),16),maxHashValue=Math.pow(2,32),totalWeight=0,i;for(i=0;i<that.weights.length;i++)totalWeight+=that.weights[i];var targetWeight=hashValue/maxHashValue*totalWeight;for(i=0;i<that.weights.length;i++)if(targetWeight-=that.weights[i],0>targetWeight)return that.options.variants[i];return that.options.variants[that.weights.length-1]}},module=function(id,type,_options){var that=this,options=_options||{};this.id=id,this.type=type,this.options={},this.options.logger=options.logger||Log({level:"error"}),this.options.tracker=options.tracker||[],this.options.debug=options.debug||!1,this.experiments={},Experiments[this.type]={},ExperimentInstances[this.type]={}};module.prototype.setId=function(id){if(!this.id)this.id=id;else if(this.id!==id)this.options.logger.error("can't change an existing id, create new AB test instead")},module.prototype.addExperiment=function(name,options){if(!Experiments[this.type][name])if(options&&options.variants){var variants=_.filter(options.variants,function(option){return option.baseline}),weights=_.reduce(_.pluck(options.variants,"weight"),function(memo,num){return memo+num},0);if(variants&&1==variants.length&&1==weights.toFixed(10))Experiments[this.type][name]=options;else if(variants.length>1)this.options.logger.error("experiment "+name+" contains more than one baseline variants");else if(1>weights)this.options.logger.error("experiment "+name+" contains variants that don't sum to 1.0");else this.options.logger.error("experiment "+name+" has no baseline variant")}else this.options.logger.error("experiment "+name+" has no variants");else this.options.logger.error("experiment "+name+" already exists")},module.prototype.addExperiments=function(experiments){var that=this,keys=_.keys(experiments);_.each(keys,function(name){that.addExperiment(name,experiments[name])})},module.prototype.getExperiment=function(name){if(Experiments[this.type][name]){if(!ExperimentInstances[this.type][name]){var options=Experiments[this.type][name];ExperimentInstances[this.type][name]=new Experiment(this.id,name,{type:this.type,variants:Experiments[this.type][name].variants,logger:this.options.logger,debug:this.options.debug,tracker:this.options.tracker})}return ExperimentInstances[this.type][name]}else return null},module.prototype.runExperimentsOn=function(dom){var that=this,$dom=$(dom),$variants=$(dom).find("[data-ab-variant-for]").hide(),experimentNames=[];$variants.each(function(){$variant=$(this),experimentNames.push($variant.attr("data-ab-variant-for"))}),experimentNames=_.uniq(experimentNames),_.each(experimentNames,function(experimentName){var experiment=that.getExperiment(experimentName);if(experiment){var chosen=experiment.getChosenVariant(),$chosen=$variants.filter("[data-ab-variant-for="+experimentName+"]").filter("[data-ab-variant="+chosen+"]");if($chosen.size())$chosen.show();else that.options.logger.error("variants "+chosen+" for "+that.type+" experiment "+experimentName+" not found in the dom")}else that.options.logger.error(that.type+" experiment "+experimentName+" found on page but not added yet")})};var Experiment=function(id,name,options){var self=this;if(self.id=id,self.options=options,self.name=name,self.type=self.options.type,self.weights=_.pluck(self.options.variants,"weight"),self.valid=self.sanityCheck(name,self.weights),self.options.debug)name+="-dev",self.name=name;if(self.valid)self.options.logger.info("Created experiment ["+name+"] with "+self.options.variants.length+" variants.");else self.options.logger.info("Error in experiment ["+name+"]; resorting to fail-safe.")};Experiment.prototype.sanityCheck=function(name,weights){var self=this,i;if("string"!=typeof name)return self.options.logger.error("name should be a string!"),!1;if("ab-"==name.substr(0,3))return self.options.logger.error('name should not begin with "ab-"!'),!1;if(!$.isArray(weights))return self.options.logger.error("weights should be an array!"),!1;else for(i=0;i<weights.length;i++)if(weights[i]<0)return self.options.logger.error("All weights must be non-negative!"),!1;return!0},Experiment.prototype.getChosenVariant=function(){var that=this,experimentName=that.name,memory=Cookie.get("ab-experiments-"+that.type)||"";if(-1==memory.indexOf(experimentName))if(memory.length>0)Cookie.set("ab-experiments-"+that.type,memory+","+experimentName,{expires:365});else Cookie.set("ab-experiments-"+that.type,experimentName,{expires:365});if(_.isUndefined(this.chosen))if(this.chosen=_private.chooseVariant.call(this),this.valid){var variant_detail=this.chosen.baseline?this.chosen.name+","+"baseline":this.chosen.name;this.options.tracker.push(["ab.show",this.type+","+this.name+","+variant_detail+":"+this.id])}else this.options.tracker.push(["ab.fail",this.type+","+this.name+":"+this.id]);return this.chosen.name},Experiment.prototype.convert=function(value){var experimentNames=(Cookie.get("ab-experiments-"+this.type)||"").split(",");if(experimentNames&&-1!=experimentNames.indexOf(this.name))if(this.valid){if(_.isUndefined(this.chosen))this.chosen=_private.chooseVariant.call(this);var variant_detail=this.chosen.baseline?this.chosen.name+","+"baseline":this.chosen.name;if(_.isUndefined(value))this.options.tracker.push(["ab.convert",this.type+","+this.name+","+variant_detail+":"+this.id]);else this.options.tracker.push(["ab.convert",this.type+","+this.name+","+variant_detail+","+value+":"+this.id])}};var external=function(id,type,options){if(!ABCingletons)ABCingletons={},_private.listenForConversion();if(!ABCingletons[type])return ABCingletons[type]=new module(id,type,options);else return ABCingletons[type].setId(id),ABCingletons[type]};return external.makeSession=function(name,options){var sessionId=Cookie.get(name);if(!sessionId)sessionId=(1e10*Math.random()).toFixed()+"-"+(new Date).getTime(),Cookie.set(name,sessionId,options||{expires:14});return sessionId},external};if("function"==typeof define&&define.amd)define("js/lib/ab",["jquery","underscore","js/lib/log","js/lib/cookie","js/lib/sjcl","js/lib/sjcl-bitArray","js/lib/sjcl-codecHex","js/lib/sjcl-codecString","js/lib/sjcl-sha1","js/lib/json2"],function($,_,Log,Cookie,sjcl,bitArray,codecHex,codecString,sha1){return AB($,_,Log,Cookie,sjcl)});else wndw.AB=AB(wndw.$,wndw._,wndw.Log,wndw.Cookie,wndw.sjcl)}(window),!function(){var experiments={session:{homepage_course_count2:{variants:[{name:6,weight:.33},{name:9,weight:.34,baseline:!0},{name:12,weight:.33}]},homepage_browse_all_placement2:{variants:[{name:"top_only",weight:.33},{name:"bottom_only",weight:.34,baseline:!0},{name:"top_and_bottom",weight:.33}]},homepage_banner_size2:{variants:[{name:"normal",baseline:!0,weight:.125},{name:"short",weight:.125},{name:"normal_no_howitworks",weight:.125},{name:"short_no_howitworks",weight:.125},{name:"normal_signature_track",weight:.125},{name:"normal_verified_certificate",weight:.125},{name:"short_signature_track",weight:.125},{name:"short_verified_certificate",weight:.125}]},homepage_promos2:{variants:[{name:"show",baseline:!0,weight:.5},{name:"hide",weight:.5}]},homepage_sort_course_3:{variants:[{name:"random",baseline:!0,weight:.2},{name:"start_date",weight:.2},{name:"language",weight:.2},{name:"language_with_info",weight:.2},{name:"recently_viewed",weight:.2}]},coursepage_compress_language:{variants:[{name:"10px",weight:.5,baseline:!0},{name:"0px",weight:.5}]},coursepage_metadata:{variants:[{name:"normal",weight:.0625,baseline:!0},{name:"hide_instructor",weight:.0625},{name:"hide_language",weight:.0625},{name:"hide_shortdesc",weight:.0625},{name:"hide_workload",weight:.0625},{name:"hide_language_hide_instructor",weight:.0625},{name:"hide_shortdesc_hide_instructor",weight:.0625},{name:"hide_workload_hide_instructor",weight:.0625},{name:"hide_workload_hide_language",weight:.0625},{name:"hide_language_hide_shortdesc",weight:.0625},{name:"hide_workload_hide_shortdesc",weight:.0625},{name:"hide_instructor_hide_language_hide_shortdesc",weight:.0625},{name:"hide_instructor_hide_language_hide_workload",weight:.0625},{name:"hide_instructor_hide_shortdesc_hide_workload",weight:.0625},{name:"hide_workload_hide_language_hide_shortdesc",weight:.0625},{name:"hide_all",weight:.0625}]},coursepage_sigtrack_free_button2:{variants:[{name:"grey",weight:.5,baseline:!0},{name:"blue",weight:.5}]},coursepage_dropdown_selector:{variants:[{name:"list",weight:.6,baseline:!0},{name:"dropdown",weight:.2},{name:"dropdown_sidebar",weight:.2}]},coursepage_sigtrack_verified_certificate:{variants:[{name:"st",weight:.5,baseline:!0},{name:"vc",weight:.5}]},coursepage_flat_buttons2:{variants:[{name:"notflat",weight:.34,baseline:!0},{name:"notflat_2",weight:.33},{name:"flat",weight:.33}]},coursepage_simple_social:{variants:[{name:"default",weight:.5,baseline:!0},{name:"simple",weight:.5}]},sigtrack_price_display_anchor:{variants:[{name:"no_display",weight:.3,baseline:!0},{name:"display",weight:.3},{name:"display_alot",weight:.4}]},coursecatalog_inline_enroll2:{variants:[{name:"baseline",weight:.7,baseline:!0},{name:"btn-flat-info",weight:.05},{name:"btn-flat-success",weight:.05},{name:"btn-flat-primary",weight:.05},{name:"btn-flat-info-yellow",weight:.05},{name:"btn-flat-success-yellow",weight:.05},{name:"btn-flat-primary-yellow",weight:.05}]},sigtrack_landing_topfold:{variants:[{name:"none",weight:.4,baseline:!0},{name:"title",weight:.2},{name:"threebox",weight:.2},{name:"title_threebox",weight:.2}]},sigtrack_course_catalog_sigtrack_label2:{variants:[{name:"st",weight:.5,baseline:!0},{name:"vc",weight:.5}]},exp_show_st_cert:{variants:[{name:"none",weight:.5,baseline:!0},{name:"certshown",weight:.5}]}},user:{show_payment_minimal:{variants:[{name:"minimal",weight:.5},{name:"no_minimal",weight:.5,baseline:!0}]},"homepage-nux-button":{variants:[{name:"baseline",baseline:!0,weight:.125},{name:"button",weight:.125},{name:"link",weight:.125},{name:"bluebutton-large",weight:.125},{name:"greenbutton-large",weight:.125},{name:"button-large",weight:.125},{name:"bluebutton",weight:.125},{name:"greenbutton",weight:.125}]},risk_free_st:{variants:[{name:"Risk-free refund policy",weight:.5},{name:"Refund policy",weight:.5,baseline:!0}]},improve_list_my2:{variants:[{name:"list2new_enrollment",weight:.33},{name:"list2_enrollment_combined",weight:.34},{name:"baseline",weight:.33,baseline:!0}]}}};if("function"==typeof define&&define.amd)define("js/json/experiments.ab",[],function(){return experiments});else window.brbraittABExperiments=experiments}(),!function(global){var module=function(AB,brbraitt,Cookie,experiments,UserJSON){var init=function(){for(var parts=location.host.split(".");parts.length>2;)parts.shift();var _204SessionId=Cookie.get("__204u"),sessionId=AB.makeSession("__204u",{expires:365,domain:"."+parts.join(".")});if(!_204SessionId)Cookie.set("__204u",sessionId,{expires:365,domain:"."+parts.join(".")});var ab={user:null,session:null},debug=UserJSON&&UserJSON.is_superuser||/staging|development|testing/.test(brbraitt.config.environment);if(ab.session=AB(sessionId,"session",{debug:debug,tracker:brbraitt.multitracker,logger:brbraitt.log}),experiments.session)ab.session.addExperiments(experiments.session);if(ab.user=AB(null,"user",{debug:debug,tracker:brbraitt.multitracker,logger:brbraitt.log}),experiments.user)ab.user.addExperiments(experiments.user);return ab};return init()};if("function"==typeof define&&define.amd)define("js/lib/brbraitt.ab",["js/lib/ab","js/core/brbraitt","js/lib/cookie","js/json/experiments.ab","pages/home/models/user.json"],function(AB,brbraitt,Cookie,experiments,UserJSON){return module(AB,brbraitt,Cookie,experiments,UserJSON)});else;}(window),define("js/models/user",["jquery","backbone","js/core/brbraitt","js/lib/cookie","underscore","js/collections/topics","js/collections/courses","js/models/topic","js/lib/util","js/json/placementables","js/lib/cloudfront.api","js/lib/brbraitt.ab"],function($,Backbone,brbraitt,cookie,_,Topics,Courses,Topic,util,placementables,CloudfrontApi,AB){var cookieFields=["id","email_address","external_id","photo_24","photo_60","photo_120","display_name","full_name","privacy","groups","is_superuser","is_staff","identity_verified","universities","locale","timezone"],User=Backbone.Model.extend({defaults:{display_name:"",full_name:"",email_address:"",id:"",locale:"",timezone:"",authenticated:!1,signature_track:{},topics:null,courses:null,subscriptions:null,signature_topic:null},initialize:function(data){var self=this,linkedin=self.get("website_linkedin");if(linkedin&&/^in\/|^pub\//.test(linkedin))self.set("website_linkedin","http://linkedin.com/"+linkedin);else if(linkedin&&!/^http/.test(linkedin))self.set("website_linkedin",null);if(self.get("photo_120"))self.set("photo_120",util.makeHttps(self.get("photo_120")));if(!self.get("signature_track"))self.set("signature_track",{})},sync:function(callback){this.resync(callback)},resync:function(callback){var self=this;brbraitt.api.post("user/login").done(function(data){self.login(data),callback.call(self,null)}).fail(function(){self.set({authenticated:!1}),callback.call(self,!0)})},login:function(data){var self=this;self.set(data),self.initialize(),self.set({authenticated:!0}),AB.user.setId(self.get("id")),brbraitt.multitracker.get("204").queue.push(["user",self.get("id")])},logout:function(){return this.set(this.defaults),cookie.clear("maestro_login"),cookie.clear("maestro_login_flag"),cookie.clear("sessionid"),cookie.clear("maestro_user"),brbraitt.multitracker.get("204").queue.push(["user",null]),brbraitt.api.get("user/logout").done(function(){window.location.href=brbraitt.config.url.base}),this},getTopics:function(forceRefresh){var self=this,deferred=$.Deferred(),getTopicsTimeStart,getTopicsDone=function(topics){topics=_.reject(topics,function(topic){return"__brbraittinternal"==topic.short_name||"students"==topic.short_name}),topics=new Topics(topics),self.set("topics",topics);var courses=[];topics.each(function(topic){courses=_.union(courses,topic.get("courses").toArray())}),self.set("courses",new Courses(courses)),deferred.resolve(topics),self.personalizeAccountDropdown()},getTopicsFail=function(xhr){if(deferred.reject(xhr),401==xhr.status)brbraitt.multitracker.push(["api.list_my.fail","logout"]),self.set({authenticated:!1}),util.redirectToAccounts("signin");else brbraitt.multitracker.push(["api.list_my.fail","unknown"])},buildListMy=function(enrollments,list2){var enrollmentDict={};_.each(enrollments,function(e){if(!(e.course__topic_id in enrollmentDict))enrollmentDict[e.course__topic_id]={};enrollmentDict[e.course__topic_id][e.course_id]=e});var uniDict={};_.each(list2.unis,function(u){uniDict[u.id]=u});var catDict={};_.each(list2.cats,function(c){catDict[c.id]=c});var courseDict={};_.each(list2.courses,function(c){courseDict[c.id]=c});var topics=[];return _.each(_.keys(enrollmentDict),function(topic_id){if(topic_id in list2.topics)topics.push(list2.topics[topic_id])}),_.each(topics,function(t){t["university-ids"]=t.unis,t.universities=[],_.each(t.unis,function(u){t.universities.push(uniDict[u])}),t["category-ids"]=t.cats,t.categories=[],_.each(t.cats,function(c){t.categories.push(catDict[c])}),t["course-ids"]=_.keys(enrollmentDict[t.id]),t.courses=[],_.each(t["course-ids"],function(course_id){var course=courseDict[course_id];course.record={},_.each(enrollmentDict[t.id][course_id],function(value,key){var pos=key.lastIndexOf("__");if(pos>0)key=key.substring(pos+2);course.record[key]=value}),course.record.signature_track=course.record.authenticated_track,t.courses.push(course)})}),topics},url;if(brbraitt.user.get("id")===this.get("id")&&this.get("id"))url="topic/list_my";else url="topic/list_user";if(null===self.get("topics")||forceRefresh)if("topic/list_my"==url){var EXPNAME="improve_list_my2",experiment=AB.user.getExperiment(EXPNAME),chosen=experiment.getChosenVariant();if(getTopicsTimeStart=(new Date).getTime(),"list2new_enrollment"==chosen)$.when(brbraitt.api.get("topic/list2_new"),brbraitt.api.get("enrollment/list",{data:{include_course_records:!0}})).then(function(topicList,enrollmentList){var enrollments=enrollmentList[0].enrollments,list2=topicList[0],topics=buildListMy(enrollments,list2);if(getTopicsDone(topics),getTopicsTimeStart){var curTime=(new Date).getTime(),diff=curTime-getTopicsTimeStart;brbraitt.multitracker.push([EXPNAME+"."+chosen+".timing",diff])}},getTopicsFail);else if("list2_enrollment_combined"==chosen)brbraitt.api.get("topic/list2_combined").done(function(combined){var enrollments=combined.enrollments,list2=combined.list2,topics=buildListMy(enrollments,list2);if(getTopicsDone(topics),getTopicsTimeStart){var curTime=(new Date).getTime(),diff=curTime-getTopicsTimeStart;brbraitt.multitracker.push([EXPNAME+"."+chosen+".timing",diff])}}).fail(getTopicsFail);else brbraitt.api.get(url,{data:{user_id:self.get("id")}}).done(function(topics){if(getTopicsDone(topics),getTopicsTimeStart){var curTime=(new Date).getTime(),diff=curTime-getTopicsTimeStart;brbraitt.multitracker.push([EXPNAME+"."+chosen+".timing",diff])}}).fail(getTopicsFail)}else brbraitt.api.get(url,{data:{user_id:self.get("id")}}).done(getTopicsDone).fail(getTopicsFail);else deferred.resolve(self.get("topics")),self.personalizeAccountDropdown();return deferred},getEnrollmentList:function(forceRefresh){var url="enrollment/list",deferred=$.Deferred(),self=this;if(!self.has("enrollmentList")||forceRefresh)brbraitt.api.get(url,{data:{include_course_records:!0}}).done(function(result){self.set("enrollmentList",result&&result.enrollments),deferred.resolve(result)}).fail(function(xhr){if(deferred.reject(xhr),401==xhr.status)self.set({authenticated:!1}),util.redirectToAccounts("signin")});else deferred.resolve(self.get("enrollmentList"));return deferred},personalizeAccountDropdown:function(){if(this.get("topics")){var inPlacementables=this.get("topics").find(function(topic){return _.contains(placementables,topic.get("short_name"))});if(inPlacementables||util.countCS(this.get("courses"))>0)$(".brbraitt-header-placement").show()}},getPublicCourses:function(callback){var self=this;self.getTopics().done(function(){var publicCourses=self.get("courses").filter(function(course){return course.get("topic").get("display")});callback(new Courses(publicCourses))})},isEnrolledInCourse:function(courseId){if(this.get("courses")&&this.get("courses").get(courseId))return!0;else return!1},enroll:function(id,enrollInSignatureTrack,callback){var self=this;brbraitt.api.post("course/enroll",{data:{"course-id":id,"enroll-in-signature-track":enrollInSignatureTrack}}).done(function(data){cookie.set("just_enrolled",id,{expires:15e3}),callback(null,self),self.getTopics(!0)}).fail(function(xhr){callback(!0)})},unenroll:function(id,callback){var self=this;brbraitt.multitracker.push(["user.unenroll.api",id]),brbraitt.api.post("course/unenroll",{data:{"course-id":id}}).done(function(data){AB.session.getExperiment("coursecatalog_inline_enroll2").convert("unenroll"),AB.session.getExperiment("coursepage_metadata").convert("unenroll"),callback(null,self),self.getTopics(!0)}).fail(function(xhr){callback(!0)})},isSubscribedToTopic:function(topic){var self=this;return _.find(self.get("subscriptions"),function(subscription){return subscription.identifier=="topic."+topic.get("id")})},subscribeToTopic:function(topicId){var self=this;return brbraitt.api.post("user/subscribe",{data:{identifier:"topic."+topicId},message:{waiting:"Watching course...",success:"Watching!"}})},unsubscribeFromTopic:function(topicId){var self=this;return brbraitt.api.post("user/unsubscribe",{data:{identifier:"topic."+topicId},message:{waiting:"Removing course from watchlist...",success:"Removed."}})},shouldEnroll:function(){return!(this.get("is_staff")||this.get("is_superuser"))},getSubscriptions:function(){var self=this;return brbraitt.api.get("user/subscriptions").done(function(data){self.set("subscriptions",data)})},canEditTopic:function(topic){var self=this;if(!this.get("is_staff"))return!1;else if(this.get("is_superuser"))return!0;else if(this.isInstructorForTopic(topic))return!0;else if(this.isAdminForTopic(topic))return!0;else return!1},isInstructorForTopic:function(topic){var that=this;if(_.contains(this.get("groups"),"instructor")){var instructors;if(topic.get("courses")instanceof Backbone.Collection)instructors=topic.get("courses").reduce(function(memo,course){return memo.concat(course.get("instructors"))},[]);else instructors=topic.get("instructors");return _.some(instructors,function(instructor){return instructor&&instructor==that.get("id")})}return!1},isAdminForTopic:function(topic){if(_.contains(this.get("groups"),"university_admin")){var universities=this.get("universities");if(!universities)return!1;var topicUniversitiesIds,topicUniversities=topic.get("universities");if(_.isArray(topicUniversities)&&topicUniversities.length&&_.isObject(topicUniversities[0]))topicUniversitiesIds=_.pluck(topicUniversities,"id");else topicUniversitiesIds=topicUniversities;return _.some(topicUniversitiesIds,function(university_id){return _.contains(universities,university_id)})}return!1},canEditInstructorProfile:function(instructorprofile){var self=this;if(this.get("is_superuser"))return!0;if(!this.get("is_staff"))return!1;if(instructorprofile.get("userid")==this.get("id"))return!0;if(_.include(this.get("groups"),"university_admin")){var universities=this.get("universities");if(!universities)return!1;else return _.find(instructorprofile.get("universities"),function(uni){return _.include(universities,uni.id)})}return!1},canEditUniversity:function(university){if(this.get("is_superuser"))return!0;if(!this.get("is_staff"))return!1;if(_.include(this.get("groups"),"university_admin")){var universities=this.get("universities");if(!universities)return!1;else return _.include(universities,university.get("id"))}},isSuperUser:function(){return this.get("is_superuser")},getRoles:function(){var GROUP_ROLES={university_admin:"university admin",teaching_assistant:"teaching staff",instructor:"instructor"},roles=_.map(this.get("groups"),function(group){return GROUP_ROLES[group]});return util.prettyJoin(roles)},isUniversityAdmin:function(){return _.include(this.get("groups"),"university_admin")},isInstructor:function(){return _.include(this.get("groups"),"instructor")},isTeachingAssistant:function(){return _.include(this.get("groups"),"teaching_assistant")},isOnlyATeachingAssistant:function(){return 1==this.get("groups").length&&_.include(this.get("groups"),"teaching_assistant")},isAdmin:function(){return this.get("groups")&&this.get("groups").length>0},getSignatureCookie:function(){if(cookie.get("signature_course_id")&&cookie.get("signature_topic"))return{courseId:cookie.get("signature_course_id"),shortName:cookie.get("signature_topic")};else return null},completedAllSTProfile:function(){return(this.skipKeystroke()||this.completedSignaturePhrase())&&this.completedSignaturePhoto()&&this.completedSignatureInfo()},completedSignaturePhrase:function(){return this.get("signature_track").keystrokes_verified},isDraftSignaturePhrase:function(){return this.get("signature_track").keystrokes_editable},isDraftSignaturePhotoId:function(){return this.get("signature_track").photo_id_editable},isDraftSignaturePhotoFace:function(){return this.get("signature_track").photo_face_editable},isDraftSignatureInfo:function(){return this.get("signature_track").profile_info_editable},skipKeystroke:function(){return this.get("signature_track").keystrokes_skip},completedSignaturePhoto:function(){return this.get("signature_track").photo_id&&this.get("signature_track").photo_face&&-1!==this.get("signature_track").photos_verified},completedSignatureInfo:function(){var sig_profile=this.get("signature_track");return sig_profile.first_name&&sig_profile.last_name&&sig_profile.address_line_1&&sig_profile.address_country&&sig_profile.dob},enrolledInSignatureCourse:function(courseId){var enrollments=this.get("enrollmentList");if(enrollments)return _.any(enrollments,function(enrollment){return enrollment.course_id==courseId&&enrollment.authenticated_track});var enrollment=Courses.forId(this.get("courses"),courseId);if(enrollment&&enrollment.get("record"))return enrollment.get("record").signature_track;else return!1},isIdentityVerified:function(){return this.get("identity_verified")}});return User}),define("pages/home/app",["jquery","underscore","backbone","pages/home/api","js/core/brbraitt","js/lib/asyncMessages","js/lib/cookie","js/models/user"],function($,_,Backbone,homeApi,brbraitt,asyncMessages,cookie,User){var $message=$("<div>").appendTo("body").addClass("brbraitt-async-message");return brbraitt.message=asyncMessages.create($message),brbraitt.api=homeApi,brbraitt.on("region:fetching",function(region){brbraitt.message.add($("<div>loading page</div>").addClass("waiting"),{id:region.name+region.uid})}),brbraitt.on("region:fetched",function(region){brbraitt.message.remove(region.name+region.uid)}),brbraitt.user=new User,brbraitt}),define("js/models/instructor",["backbone","underscore","js/core/brbraitt","js/collections/topics","js/models/topic","js/lib/util"],function(Backbone,_,brbraitt,Topics,Topic,util){var instructor=Backbone.Model.extend({initialize:function(){this.updateComputed(),this.on("change",this.updateComputed,this)},updateComputed:function(){if(!(this.get("topics")&&this.get("topics")instanceof Topics))this.set("topics",new Topics(this.get("topics")),{silent:!0});this.set("full_name",util.concatName({first_name:this.get("first_name"),middle_name:this.get("middle_name"),last_name:this.get("last_name")}),{silent:!0})},getDecoratedName:function(){var decoratedName="";if(this.get("prefix_name"))decoratedName+=this.get("prefix_name")+" ";if(decoratedName+=this.get("full_name"),this.get("suffix_name"))decoratedName+=", "+this.get("suffix_name");return decoratedName},getPrettyWebsiteUrl:function(){return util.prettifyUrl(this.get("website"))},getLink:function(){return brbraitt.config.url.base+"instructor/"+(this.get("short_name")||"~"+this.get("id"))},shouldDisplay:function(){return this.get("first_name")?!0:!1},sync:function(callback){var self=this;if(!_.isUndefined(self.get("bio")))callback();else if(this.get("short_name")||this.get("profile_id"))brbraitt.api.get("user/instructorprofile",{data:{id:this.get("profile_id"),short_name:this.get("short_name")}}).done(function(data){self.set(data[0]),callback()}).fail(function(jqXHR){callback(jqXHR.status)})}});return instructor}),define("js/collections/instructors",["backbone","js/models/instructor"],function(Backbone,Instructor){var Instructors=Backbone.Collection.extend({model:Instructor,byLastName:function(){return new Instructors(this.sortBy(function(t){return t.get("last_name")}))}});return Instructors}),define("js/models/university",["jquery","backbone","js/core/brbraitt","js/lib/util","js/models/topic","js/collections/topics","js/models/instructor","js/collections/instructors"],function($,Backbone,brbraitt,util,Topic,Topics,Instructor,Instructors){var university=Backbone.Model.extend({defaults:{},initialize:function(){this.updateComputed(),this.on("change",this.updateComputed,this)},updateComputed:function(){if(!(this.get("topics")&&this.get("topics")instanceof Topics))this.set("topics",new Topics(this.get("topics")),{silent:!0});if(!(this.get("instructors")&&this.get("instructors")instanceof Instructors))this.set("instructors",new Instructors(this.get("instructors")),{silent:!0})},getPrettyWebsiteUrl:function(){return util.prettifyUrl(this.get("website"))},getLink:function(){return this.get("home_link")||brbraitt.config.dir.home+"university/"+this.get("short_name")}});return university}),define("js/lib/backbone.queryparams",["backbone","underscore"],function(Backbone,_){var queryStringParam=/^\?(.*)/,namedParam=/:([\w\d]+)/g,splatParam=/\*([\w\d]+)/g,escapeRegExp=/[\-\[\]{}()+?.,\\\^$|#\s]/g;_.extend(Backbone.Router.prototype,{getFragment:function(fragment,forcePushState,excludeQueryString){if(null===fragment)if(this._hasPushState||forcePushState){fragment=window.location.pathname;var search=window.location.search;if(search)fragment+=search}else fragment=window.location.hash;if(fragment=fragment.replace(hashStrip,""),excludeQueryString)fragment=fragment.replace(queryStrip,"");if(!fragment.indexOf(this.options.root))fragment=fragment.substr(this.options.root.length);return fragment},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(namedParam,"([^\\/?]*)").replace(splatParam,"([^\\?]*)"),route+="([\\?]{1}.*)?",new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1),match=params.length&&params[params.length-1]&&params[params.length-1].match(queryStringParam);if(match){var queryString=match[1],data={};if(queryString){var keyValues=queryString.split("&"),self=this;_.each(keyValues,function(keyValue){var arr=keyValue.split("=");if(arr.length>1&&arr[1])self._setParamValue(arr[0],arr[1],data)})}params[params.length-1]=data}for(var i=0;i<params.length;i++)if(_.isString(params[i]))params[i]=decodeURIComponent(params[i]);return params},_setParamValue:function(key,value,data){for(var parts=key.split("."),_data=data,i=0;i<parts.length;i++){var part=parts[i];if(i===parts.length-1)_data[part]=this._decodeParamValue(value,_data[part]);else _data=_data[part]=_data[part]||{}}},_decodeParamValue:function(value,currentValue){if(value.indexOf("|")>=0){for(var values=value.split("|"),i=values.length-1;i>=0;i--)if(!values[i])values.splice(i,1);else values[i]=decodeURIComponent(values[i]);return values}if(!currentValue)return decodeURIComponent(value);else if(_.isArray(currentValue))return currentValue.push(value),currentValue;else return[currentValue,value]},toFragment:function(route,queryParameters){if(queryParameters){if(!_.isString(queryParameters))queryParameters=this._toQueryString(queryParameters);route+="?"+queryParameters}return route},_toQueryString:function(val,namePrefix){if(!val)return"";namePrefix=namePrefix||"";var rtn="";for(var name in val){var _val=val[name];if(_.isString(_val)||_.isNumber(_val)||_.isBoolean(_val)||_.isDate(_val)){if(_val=this._toQueryParam(_val),_.isBoolean(_val)||_val)rtn+=(rtn?"&":"")+this._toQueryParamName(name,namePrefix)+"="+encodeURIComponent(_val).replace("|","%7C")}else if(_.isArray(_val)){var str="";for(var i in _val){var param=this._toQueryParam(_val[i]);if(_.isBoolean(param)||param)str+="|"+encodeURIComponent(param).replace("|","%7C")}if(str)rtn+=(rtn?"&":"")+this._toQueryParamName(name,namePrefix)+"="+str}else{var result=this._toQueryString(_val,this._toQueryParamName(name,namePrefix,!0));if(result)rtn+=(rtn?"&":"")+result}}return rtn},_toQueryParamName:function(name,prefix,isPrefix){return prefix+name+(isPrefix?".":"")
},_toQueryParam:function(param){if(_.isNull(param)||_.isUndefined(param))return null;if(_.isDate(param))return param.getDate().getTime();else return param}})}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div><div class="brbraitt-page"><div class="brbraitt-header"></div><div class="brbraitt-banner"></div><div class="brbraitt-body"></div></div><div class="brbraitt-footer"></div></div>'),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/template/page.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.template.page"]=jadify(wndw.jade.helpers)}(window),define("pages/home/template/page",["jquery","backbone","underscore","js/core/brbraitt","pages/home/template/page.html"],function($,Backbone,_,brbraitt,template){var page=Backbone.View.extend({name:"page",subregions:{header:"pages/home/template/header",footer:"pages/home/template/footer",body:"pages/home/template/body",banner:"pages/home/template/banner"},initialize:function(){this.bind("view:appended",this.scroll),this.bind("view:updated",this.scroll)},scroll:function(){$("html, body").scrollTop(0)},render:function(){var regions=this.region.regions,self=this,page=$(template());return self.$el.append(page),_.each(["header","banner","body","footer"],function(type){if(!regions[type])return page.find(".brbraitt-"+type).hide(),void 0;else return page.find(".brbraitt-"+type).replaceWith(regions[type].view.el),void 0}),self}});return page}),define("pages/home/template/banner",["underscore","backbone","js/core/brbraitt"],function(_,Backbone,brbraitt){var banner=Backbone.View.extend({name:"banner",className:"brbraitt-banner",attributes:{role:"navigation"}});return banner}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,config=locals_.config,isChina=locals_.isChina;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div class="row-fluid"><div class="brbraitt-footer-content-primary"><a'+jade.attrs({href:config.dir.home+"about","class":["internal-home","brbraitt-footer-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("About"))?"":jade.interp)+"</a><a"+jade.attrs({href:config.dir.home+"about/jobs","class":["internal-home","brbraitt-footer-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Careers"))?"":jade.interp)+"</a><a"+jade.attrs({href:config.dir.home+"about/team","class":["internal-home","brbraitt-footer-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Team"))?"":jade.interp)+'</a><a href="http://store.brbraitt.org" class="brbraitt-footer-link">'+jade.escape(null==(jade.interp=_t("Store"))?"":jade.interp)+"</a><a"+jade.attrs({href:config.dir.home+"about/contact","class":["internal-home","brbraitt-footer-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Contact"))?"":jade.interp)+"</a><a"+jade.attrs({href:config.dir.home+"about/press","class":["internal-home","brbraitt-footer-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Press"))?"":jade.interp)+"</a><a"+jade.attrs({href:config.dir.home+"about/terms","class":["internal-home","brbraitt-footer-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Terms"))?"":jade.interp)+'</a><a href="http://help.brbraitt.org" class="brbraitt-footer-link">'+jade.escape(null==(jade.interp=_t("Help"))?"":jade.interp)+'</a></div><div class="brbraitt-footer-content-secondary">'),!isChina())buf.push('<a target="_blank" href="https://plus.google.com/111950594039269281469" title="Follow brbraitt on Google Plus" class="brbraitt-footer-link">'+jade.escape(null==(jade.interp=_t("Google+"))?"":jade.interp)+'</a><a target="_blank" href="http://twitter.com/brbraitt" title="Follow brbraitt on Twitter" class="brbraitt-footer-link">'+jade.escape(null==(jade.interp=_t("Twitter"))?"":jade.interp)+'</a><a target="_blank" href="http://facebook.com/brbraitt" title="Follow brbraitt on Facebook" class="brbraitt-footer-link">'+jade.escape(null==(jade.interp=_t("Facebook"))?"":jade.interp)+"</a>");return buf.push('<a target="_blank" href="http://blog.brbraitt.org" title="Read the brbraitt blog" class="brbraitt-footer-link">'+jade.escape(null==(jade.interp=_t("Blog"))?"":jade.interp)+"</a></div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/template/footer.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.template.footer"]=jadify(wndw.jade.helpers)}(window),define("pages/home/template/nls/footer",{root:!0,zh:!0}),define("pages/home/template/nls/root/footer",{About:"About",Careers:"Careers",Team:"Team",Store:"Store",Contact:"Contact",Press:"Press",Terms:"Terms",Help:"Help","Google+":"Google+",Twitter:"Twitter",Facebook:"Facebook",Blog:"Blog"}),define("pages/home/template/footer",["underscore","backbone","js/core/brbraitt","pages/home/template/footer.html","i18n!pages/home/template/nls/footer","js/lib/util"],function(_,Backbone,brbraitt,template,_t,util){var footer=Backbone.View.extend({name:"footer",className:"brbraitt-footer",attributes:{role:"menubar"},events:{"click .brbraitt-footer a":"onFooterLinkClick"},onFooterLinkClick:function(e){var href=e.target&&e.target.getAttribute("href")||"";if(href)brbraitt.multitracker.push(["user.click.footer-link",href])},render:function(){return this.$el.html(template({_t:_t,config:brbraitt.config,isChina:util.isChina})),this}});return footer}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,config=locals_.config,showNormalPartners=locals_.showNormalPartners,showStateSystems=locals_.showStateSystems,minimal=locals_.minimal,user=locals_.user,klass=locals_.klass,showSignatureTrack=locals_.showSignatureTrack;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div data-readme="i18n-announcement" data-readme-show-count="1" data-readme-show-until-closed="data-readme-show-until-closed"><div>'+jade.escape(null==(jade.interp=_t("We just released an internationalized version of brbraitt. If you want to switch back to English, please"))?"":jade.interp)+' <a href="/account/settings" data-readme-close="data-readme-close">'+jade.escape(null==(jade.interp=_t("set your Language."))?"":jade.interp)+'</a></div><div data-readme-close="data-readme-close" class="readme-close-icon"><span class="icon-remove"></span></div></div><div class="container"><div class="row"><div class="brbraitt-header-primary"><a'+jade.attrs({href:config.dir.home,"class":["internal-home","brbraitt-logo"]},{href:!0})+"></a></div>"),showNormalPartners||showStateSystems){if(buf.push('<div style="float:left;" class="brbraitt-header-secondary"><span style="margin:0px 0px 0px 37px;color:#717171;"> |</span>'),showNormalPartners)buf.push('<span class="brbraitt-header-university-label">'+jade.escape(null==(jade.interp=_t("Global Partners"))?"":jade.interp)+"</span>");if(showStateSystems)buf.push('<span class="brbraitt-header-university-label">'+jade.escape(null==(jade.interp=_t("U.S. State Institutions"))?"":jade.interp)+"</span>");buf.push("</div>")}if(buf.push('<div class="brbraitt-header-secondary">'),!minimal)buf.push("<a"+jade.attrs({href:config.dir.home+"courses","class":["brbraitt-header-link","internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Courses"))?"":jade.interp)+"</a><a"+jade.attrs({href:config.dir.home+"partners","class":["brbraitt-header-link","internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Partners"))?"":jade.interp)+'</a><a tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="brbraitt-header-about-popup" data-popup="#brbraitt-header-about-popup" data-popup-bind-open="mouseenter" data-popup-item="a" data-popup-direction="se" class="brbraitt-header-link brbraitt-header-account">'+jade.escape(null==(jade.interp=_t("About"))?"":jade.interp)+"<span>"+(null==(jade.interp=_t("&nbsp;â¾"))?"":jade.interp)+'</span></a><span style="margin:0px -2px 0px 2px;color:#717171;"> |</span>');if(user&&user.get("authenticated"))buf.push('<a tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="brbraitt-header-account-popup" data-popup="#brbraitt-header-account-popup" data-popup-bind-open="mouseenter" data-popup-item="a" data-popup-direction="se" class="brbraitt-header-link brbraitt-header-account"><span class="brbraitt-header-account-name">'+(null==(jade.interp=_t("&nbsp;#{user.get('headerName')}",{"user.get('headerName')":user.get("headerName")}))?"":jade.interp)+"</span><span>"+(null==(jade.interp=_t("&nbsp;â¾"))?"":jade.interp)+"</span></a>");else buf.push("<a"+jade.attrs({href:config.url.accounts+"signin","class":["brbraitt-header-link","brbraitt-header-link-special"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Sign In"))?"":jade.interp)+"</a>"),klass="brbraitt-header-link brbraitt-header-link-special",buf.push("<a"+jade.attrs({href:config.url.accounts+"signup","class":[klass]},{href:!0,"class":!0})+">"+jade.escape(null==(jade.interp=_t("Sign Up"))?"":jade.interp)+"</a>");if(buf.push('</div></div></div><div id="brbraitt-header-about-popup" class="hide brbraitt-header-popup"><a'+jade.attrs({"data-popup-close":!0,href:config.dir.home+"about/jobs","class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Careers"))?"":jade.interp)+"</a><a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"about/team","class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Team"))?"":jade.interp)+"</a><a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"about/contact","class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Contact"))?"":jade.interp)+"</a><a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"about/","class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("About Us"))?"":jade.interp)+'</a></div><div id="brbraitt-header-account-popup" class="hide brbraitt-header-popup"><a'+jade.attrs({"data-popup-close":!0,href:config.dir.home,"class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Course Dashboard"))?"":jade.interp)+"</a>"),user&&user.get("is_staff"))buf.push("<a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"admin/","class":["internal-site-admin"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Admin"))?"":jade.interp)+'</a><a data-popup-close="data-popup-close" href="http://support.brbraitt.org">'+jade.escape(null==(jade.interp=_t("Support"))?"":jade.interp)+"</a>");if(user)buf.push("<a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+user.get("profileUrl"),"class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Profile"))?"":jade.interp)+"</a>");if(buf.push("<a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"account/records","class":["internal-home","brbraitt-header-records"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Course Records"))?"":jade.interp)+"</a><a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"account/careerservices",style:"display:none;","class":["internal-home","brbraitt-header-placement"]},{href:!0,style:!0})+">"+jade.escape(null==(jade.interp=_t("Career Services"))?"":jade.interp)+"</a><a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"account/settings","class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Settings"))?"":jade.interp)+"</a>"),user&&showSignatureTrack)buf.push("<a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"account/settings/signature","class":["internal-home","brbraitt-header-signature"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Signature Track"))?"":jade.interp)+"</a>");return buf.push("<a"+jade.attrs({"data-popup-close":!0,href:config.dir.home+"account/logout","class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Sign Out"))?"":jade.interp)+"</a></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/template/header.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.template.header"]=jadify(wndw.jade.helpers)}(window),define("pages/home/template/nls/header",{root:!0,zh:!0}),define("pages/home/template/nls/root/header",{"We just released an internationalized version of brbraitt. If you want to switch back to English, please":"We just released an internationalized version of brbraitt. If you want to switch back to English, please","set your Language.":"set your Language.","Global Partners":"Global Partners","U.S. State Institutions":"U.S. State Institutions",Courses:"Courses",Partners:"Partners",About:"About","&nbsp;â¾":"&nbsp;â¾","&nbsp;#{user.get('headerName')}":"&nbsp;#{user.get('headerName')}","Sign In":"Sign In","Sign Up":"Sign Up",Careers:"Careers",Team:"Team",Contact:"Contact","About Us":"About Us","Course Dashboard":"Course Dashboard",Admin:"Admin",Support:"Support",Profile:"Profile","Course Records":"Course Records","Career Services":"Career Services",Settings:"Settings","Signature Track":"Signature Track","Sign Out":"Sign Out"}),define("js/collections/universities",["backbone","underscore","jquery","js/models/university","js/core/brbraitt","js/lib/cloudfront.api"],function(Backbone,_,$,University,brbraitt,CloudfrontApi){function latinizeText(string){var LATIN_MAP={"Ã":"A","Ä":"A","áº®":"A","áº¶":"A","áº°":"A","áº²":"A","áº´":"A","Ç":"A","Ã":"A","áº¤":"A","áº¬":"A","áº¦":"A","áº¨":"A","áºª":"A","Ã":"A","Ç":"A","È¦":"A","Ç ":"A","áº ":"A","È":"A","Ã":"A","áº¢":"A","È":"A","Ä":"A","Ä":"A","Ã":"A","Çº":"A","á¸":"A","Èº":"A","Ã":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","á¸":"B","á¸":"B","Æ":"B","á¸":"B","É":"B","Æ":"B","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Ä":"C","Ä":"C","Æ":"C","È»":"C","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Æ":"D","á¸":"D","Ç²":"D","Ç":"D","Ä":"D","Æ":"D","Ç±":"DZ","Ç":"DZ","Ã":"E","Ä":"E","Ä":"E","È¨":"E","á¸":"E","Ã":"E","áº¾":"E","á»":"E","á»":"E","á»":"E","á»":"E","á¸":"E","Ã":"E","Ä":"E","áº¸":"E","È":"E","Ã":"E","áºº":"E","È":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","É":"E","áº¼":"E","á¸":"E","êª":"ET","á¸":"F","Æ":"F","Ç´":"G","Ä":"G","Ç¦":"G","Ä¢":"G","Ä":"G","Ä ":"G","Æ":"G","á¸ ":"G","Ç¤":"G","á¸ª":"H","È":"H","á¸¨":"H","Ä¤":"H","â±§":"H","á¸¦":"H","á¸¢":"H","á¸¤":"H","Ä¦":"H","Ã":"I","Ä¬":"I","Ç":"I","Ã":"I","Ã":"I","á¸®":"I","Ä°":"I","á»":"I","È":"I","Ã":"I","á»":"I","È":"I","Äª":"I","Ä®":"I","Æ":"I","Ä¨":"I","á¸¬":"I","ê¹":"D","ê»":"F","ê½":"G","ê":"R","ê":"S","ê":"T","ê¬":"IS","Ä´":"J","É":"J","á¸°":"K","Ç¨":"K","Ä¶":"K","â±©":"K","ê":"K","á¸²":"K","Æ":"K","á¸´":"K","ê":"K","ê":"K","Ä¹":"L","È½":"L","Ä½":"L","Ä»":"L","á¸¼":"L","á¸¶":"L","á¸¸":"L","â± ":"L","ê":"L","á¸º":"L","Ä¿":"L","â±¢":"L","Ç":"L","Å":"L","Ç":"LJ","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Å":"N","Å":"N","Å":"N","á¹":"N","á¹":"N","á¹":"N","Ç¸":"N","Æ":"N","á¹":"N","È ":"N","Ç":"N","Ã":"N","Ç":"NJ","Ã":"O","Å":"O","Ç":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","Èª":"O","È®":"O","È°":"O","á»":"O","Å":"O","È":"O","Ã":"O","á»":"O","Æ ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","á» ":"O","È":"O","ê":"O","ê":"O","Å":"O","á¹":"O","á¹":"O","Æ":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Ã":"O","á¹":"O","á¹":"O","È¬":"O","Æ¢":"OI","ê":"OO","Æ":"E","Æ":"O","È¢":"OU","á¹":"P","á¹":"P","ê":"P","Æ¤":"P","ê":"P","â±£":"P","ê":"P","ê":"Q","ê":"Q","Å":"R","Å":"R","Å":"R","á¹":"R","á¹":"R","á¹":"R","È":"R","È":"R","á¹":"R","É":"R","â±¤":"R","ê¾":"C","Æ":"E","Å":"S","á¹¤":"S","Å ":"S","á¹¦":"S","Å":"S","Å":"S","È":"S","á¹ ":"S","á¹¢":"S","á¹¨":"S","Å¤":"T","Å¢":"T","á¹°":"T","È":"T","È¾":"T","á¹ª":"T","á¹¬":"T","Æ¬":"T","á¹®":"T","Æ®":"T","Å¦":"T","â±¯":"A","ê":"L","Æ":"M","É":"V","ê¨":"TZ","Ã":"U","Å¬":"U","Ç":"U","Ã":"U","á¹¶":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á¹²":"U","á»¤":"U","Å°":"U","È":"U","Ã":"U","á»¦":"U","Æ¯":"U","á»¨":"U","á»°":"U","á»ª":"U","á»¬":"U","á»®":"U","È":"U","Åª":"U","á¹º":"U","Å²":"U","Å®":"U","Å¨":"U","á¹¸":"U","á¹´":"U","ê":"V","á¹¾":"V","Æ²":"V","á¹¼":"V","ê ":"VY","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","áº":"W","â±²":"W","áº":"X","áº":"X","Ã":"Y","Å¶":"Y","Å¸":"Y","áº":"Y","á»´":"Y","á»²":"Y","Æ³":"Y","á»¶":"Y","á»¾":"Y","È²":"Y","É":"Y","á»¸":"Y","Å¹":"Z","Å½":"Z","áº":"Z","â±«":"Z","Å»":"Z","áº":"Z","È¤":"Z","áº":"Z","Æµ":"Z","Ä²":"IJ","Å":"OE","á´":"A","á´":"AE","Ê":"B","á´":"B","á´":"C","á´":"D","á´":"E","ê°":"F","É¢":"G","Ê":"G","Ê":"H","Éª":"I","Ê":"R","á´":"J","á´":"K","Ê":"L","á´":"L","á´":"M","É´":"N","á´":"O","É¶":"OE","á´":"O","á´":"OU","á´":"P","Ê":"R","á´":"N","á´":"R","ê±":"S","á´":"T","â±»":"E","á´":"R","á´":"U","á´ ":"V","á´¡":"W","Ê":"Y","á´¢":"Z","Ã¡":"a","Ä":"a","áº¯":"a","áº·":"a","áº±":"a","áº³":"a","áºµ":"a","Ç":"a","Ã¢":"a","áº¥":"a","áº­":"a","áº§":"a","áº©":"a","áº«":"a","Ã¤":"a","Ç":"a","È§":"a","Ç¡":"a","áº¡":"a","È":"a","Ã ":"a","áº£":"a","È":"a","Ä":"a","Ä":"a","á¶":"a","áº":"a","Ã¥":"a","Ç»":"a","á¸":"a","â±¥":"a","Ã£":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","á¸":"b","á¸":"b","É":"b","á¸":"b","áµ¬":"b","á¶":"b","Æ":"b","Æ":"b","Éµ":"o","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Ä":"c","É":"c","Ä":"c","Æ":"c","È¼":"c","Ä":"d","á¸":"d","á¸":"d","È¡":"d","á¸":"d","á¸":"d","É":"d","á¶":"d","á¸":"d","áµ­":"d","á¶":"d","Ä":"d","É":"d","Æ":"d","Ä±":"i","È·":"j","É":"j","Ê":"j","Ç³":"dz","Ç":"dz","Ã©":"e","Ä":"e","Ä":"e","È©":"e","á¸":"e","Ãª":"e","áº¿":"e","á»":"e","á»":"e","á»":"e","á»":"e","á¸":"e","Ã«":"e","Ä":"e","áº¹":"e","È":"e","Ã¨":"e","áº»":"e","È":"e","Ä":"e","á¸":"e","á¸":"e","â±¸":"e","Ä":"e","á¶":"e","É":"e","áº½":"e","á¸":"e","ê«":"et","á¸":"f","Æ":"f","áµ®":"f","á¶":"f","Çµ":"g","Ä":"g","Ç§":"g","Ä£":"g","Ä":"g","Ä¡":"g","É ":"g","á¸¡":"g","á¶":"g","Ç¥":"g","á¸«":"h","È":"h","á¸©":"h","Ä¥":"h","â±¨":"h","á¸§":"h","á¸£":"h","á¸¥":"h","É¦":"h","áº":"h","Ä§":"h","Æ":"hv","Ã­":"i","Ä­":"i","Ç":"i","Ã®":"i","Ã¯":"i","á¸¯":"i","á»":"i","È":"i","Ã¬":"i","á»":"i","È":"i","Ä«":"i","Ä¯":"i","á¶":"i","É¨":"i","Ä©":"i","á¸­":"i","êº":"d","ê¼":"f","áµ¹":"g","ê":"r","ê":"s","ê":"t","ê­":"is","Ç°":"j","Äµ":"j","Ê":"j","É":"j","á¸±":"k","Ç©":"k","Ä·":"k","â±ª":"k","ê":"k","á¸³":"k","Æ":"k","á¸µ":"k","á¶":"k","ê":"k","ê":"k","Äº":"l","Æ":"l","É¬":"l","Ä¾":"l","Ä¼":"l","á¸½":"l","È´":"l","á¸·":"l","á¸¹":"l","â±¡":"l","ê":"l","á¸»":"l","Å":"l","É«":"l","á¶":"l","É­":"l","Å":"l","Ç":"lj","Å¿":"s","áº":"s","áº":"s","áº":"s","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","áµ¯":"m","á¶":"m","Å":"n","Å":"n","Å":"n","á¹":"n","Èµ":"n","á¹":"n","á¹":"n","Ç¹":"n","É²":"n","á¹":"n","Æ":"n","áµ°":"n","á¶":"n","É³":"n","Ã±":"n","Ç":"nj","Ã³":"o","Å":"o","Ç":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ã¶":"o","È«":"o","È¯":"o","È±":"o","á»":"o","Å":"o","È":"o","Ã²":"o","á»":"o","Æ¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","á»¡":"o","È":"o","ê":"o","ê":"o","â±º":"o","Å":"o","á¹":"o","á¹":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","Ãµ":"o","á¹":"o","á¹":"o","È­":"o","Æ£":"oi","ê":"oo","É":"e","á¶":"e","É":"o","á¶":"o","È£":"ou","á¹":"p","á¹":"p","ê":"p","Æ¥":"p","áµ±":"p","á¶":"p","ê":"p","áµ½":"p","ê":"p","ê":"q","Ê ":"q","É":"q","ê":"q","Å":"r","Å":"r","Å":"r","á¹":"r","á¹":"r","á¹":"r","È":"r","É¾":"r","áµ³":"r","È":"r","á¹":"r","É¼":"r","áµ²":"r","á¶":"r","É":"r","É½":"r","â":"c","ê¿":"c","É":"e","É¿":"r","Å":"s","á¹¥":"s","Å¡":"s","á¹§":"s","Å":"s","Å":"s","È":"s","á¹¡":"s","á¹£":"s","á¹©":"s","Ê":"s","áµ´":"s","á¶":"s","È¿":"s","É¡":"g","á´":"o","á´":"o","á´":"u","Å¥":"t","Å£":"t","á¹±":"t","È":"t","È¶":"t","áº":"t","â±¦":"t","á¹«":"t","á¹­":"t","Æ­":"t","á¹¯":"t","áµµ":"t","Æ«":"t","Ê":"t","Å§":"t","áµº":"th","É":"a","á´":"ae","Ç":"e","áµ·":"g","É¥":"h","Ê®":"h","Ê¯":"h","á´":"i","Ê":"k","ê":"l","É¯":"m","É°":"m","á´":"oe","É¹":"r","É»":"r","Éº":"r","â±¹":"r","Ê":"t","Ê":"v","Ê":"w","Ê":"y","ê©":"tz","Ãº":"u","Å­":"u","Ç":"u","Ã»":"u","á¹·":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á¹³":"u","á»¥":"u","Å±":"u","È":"u","Ã¹":"u","á»§":"u","Æ°":"u","á»©":"u","á»±":"u","á»«":"u","á»­":"u","á»¯":"u","È":"u","Å«":"u","á¹»":"u","Å³":"u","á¶":"u","Å¯":"u","Å©":"u","á¹¹":"u","á¹µ":"u","áµ«":"ue","ê¸":"um","â±´":"v","ê":"v","á¹¿":"v","Ê":"v","á¶":"v","â±±":"v","á¹½":"v","ê¡":"vy","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","áº":"w","áº":"x","áº":"x","á¶":"x","Ã½":"y","Å·":"y","Ã¿":"y","áº":"y","á»µ":"y","á»³":"y","Æ´":"y","á»·":"y","á»¿":"y","È³":"y","áº":"y","É":"y","á»¹":"y","Åº":"z","Å¾":"z","áº":"z","Ê":"z","â±¬":"z","Å¼":"z","áº":"z","È¥":"z","áº":"z","áµ¶":"z","á¶":"z","Ê":"z","Æ¶":"z","É":"z","ï¬":"ff","ï¬":"ffi","ï¬":"ffl","ï¬":"fi","ï¬":"fl","Ä³":"ij","Å":"oe","ï¬":"st","â":"a","â":"e","áµ¢":"i","â±¼":"j","â":"o","áµ£":"r","áµ¤":"u","áµ¥":"v","â":"x"};return string.replace(/[^A-Za-z0-9\[\] ]/g,function(a){return LATIN_MAP[a]||a})}var Universities=Backbone.Collection.extend({model:University,comparator:function(university){return latinizeText(university.get("name")).toLowerCase()}}),deferred;return Universities.singletonRead=function(){if(deferred)return deferred;deferred=$.Deferred();var cloudfrontApi=CloudfrontApi(brbraitt.api,brbraitt.config);return cloudfrontApi.get("university/list").done(function(jsonData){deferred.resolve(new Universities(jsonData))}).fail(function(xhr,status,err){deferred.reject(xhr,status,err),brbraitt.router.trigger("error",500,location.href,{message:"error loading universities: "+err})}),deferred},Universities.groupByPartnerType=function(universities){return _.groupBy(universities.toArray(),function(uni){return uni.get("partner_type")||1})},Universities.getNormalPartners=function(universities){return Universities.groupByPartnerType(universities)[1]||[]},Universities.getStateSystems=function(universities){return Universities.groupByPartnerType(universities)[2]||[]},Universities}),define("js/models/category",["backbone"],function(Backbone){var category=Backbone.Model.extend({});return category}),define("js/collections/categories",["backbone","underscore","jquery","js/models/category","js/core/brbraitt","js/lib/cloudfront.api"],function(Backbone,_,$,Category,brbraitt,CloudfrontApi){var Categories=Backbone.Collection.extend({model:Category,comparator:function(category){return category.get("name")}}),deferred;return Categories.singletonRead=function(){if(deferred)return deferred;deferred=$.Deferred();var cloudfrontApi=CloudfrontApi(brbraitt.api,brbraitt.config);return cloudfrontApi.get("category/list").done(function(jsonData){deferred.resolve(new Categories(jsonData))}).fail(function(xhr,status,err){deferred.reject(xhr,status,err),brbraitt.router.trigger("error",500,location.href,{message:"error loading categories: "+err})}),deferred},Categories}),!function(wndw){var popup=function($,_,LucidJS,DataAttributes){var UP_ARROW=38,DOWN_ARROW=40,SPACE_BAR=32,ESCAPE=27,ENTER=13,OPENED=1,CLOSED=0,_private={defaults:{"bind.open":"click","bind.close":"click","bind.cancel.document":"mousemove","bind.cancel":"mouseleave","bind.uncancel":"mouseenter","bind.keydown":"keydown",direction:"sw","offset.x":0,"offset.y":0,timeout:450,"timeout.intent":350,resize:!1,width:!1,"attribute.open":"data-popup","attribute.close":"data-popup-close","attribute.item":"data-popup-item",position:"absolute"},prevPopup:null,prevTimeout:null,timeout:null,timeoutClear:null,getPopup:function(el,options){var pop=$(el).data("popup.me");if(pop&&pop.constructor==Popup.prototype.constructor)if(options)return pop.customize(options);else return pop;else return null},getPopupForAnchor:function($anchor,options){var selector=$anchor.attr(_private.defaults["attribute.open"]),$pop=$(selector),pop=_private.makePopup($pop,options);return pop},closeOlderPopups:function(){if(_private.prevPopup)_private.prevPopup.close(),_private.prevPopup=null},isTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,makePopup:function(el,settings){var $el=$(el),pop;if($el.attr("data-popup"))pop=_private.getPopupForAnchor($el);else pop=_private.getPopup($el);if(!pop)pop=new Popup($el,settings),$el.data("popup.me",pop);return pop},monitorKeys:function(e){if(_.contains([UP_ARROW,DOWN_ARROW],e.keyCode))e.preventDefault(),e.stopPropagation(),_private.changeFocus.call(this,e);else if(e.keyCode==ESCAPE)this.$anchor.focus(),this.close();else if(e.keyCode==ENTER)this.emitter.trigger("enter",this)},monitorActions:function(e){var el=this.$el[0],$target=$(e.target),that=this;if("mouseleave"!=e.type){if($target.closest(this.$el).size()>0||$target.closest(this.$anchor).size()>0)return window.clearTimeout(_private.timeout),void 0}else _private.timeout=window.setTimeout(function(){if(that.state==OPENED)that.close()},this.options.timeout)},intentOpen:function(e,popup,$anchor){var anchor=$anchor[0],x=e.pageX,y=e.pageY;if(_private.prevTimeout)$(document).off(".popup"),window.clearTimeout(_private.prevTimeout);_private.prevTimeout=window.setTimeout(function(){if(window.clearTimeout(_private.prevTimeout),$(document).off(".popup"),!popup.isOpen())popup.open($anchor)},popup.options["timeout.intent"]),$(document).on("mousemove.popup mouseleave.popup",function(e){if("mouseleave"==e.type||e.target!=anchor&&0===$(e.target).closest(anchor).size())$(document).off(".popup"),window.clearTimeout(_private.prevTimeout)})},changeFocus:function(e){if(this.$anchor){var item_selector=this.$anchor.attr(this.options["attribute.item"]),$items=this.$el.children(":visible");if(item_selector)$items=$items.filter(item_selector);if($items.length){if(index=$items.index($items.filter(":focus")),e.keyCode==UP_ARROW)index--;if(e.keyCode==DOWN_ARROW)index++;if(0>index||index>=$items.length)this.$anchor.focus();else if(index<$items.length)$items.eq(index).focus()}}}},Popup=function(el,settings){this.$el=$(el),this.$parent=this.$el.parent(),this.$anchor=null,this.emitter=LucidJS.emitter(this),this.customize(settings)};Popup.prototype.customize=function(settings){return this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-popup-"),settings),this},Popup.prototype.get=function(){return this.$el},Popup.prototype.open=function(anchor){if(this.state!=OPENED){var that=this,$anchor=$(anchor);if(!this.$anchor||this.$anchor[0]!=$anchor[0]){var position=$anchor.position();if(this.options=DataAttributes.parse($anchor,this.options,"data-popup-"),this.$anchor=$anchor,this.$anchor.parent().append(this.$el),this.$anchor.attr("aria-expanded","true"),that.options.resize)this.$el.width(this.$anchor.outerWidth());if(that.options.width)this.$el.css("width",that.options.width);this.emitter.trigger("opening",this.$anchor);var offset={x:parseInt(this.options["offset.x"],10),y:parseInt(this.options["offset.y"],10)};if(this.$el.css({position:this.options.position}),!this.options.direction||"sw"==this.options.direction)this.move(position.left+offset.x,position.top+$anchor.outerHeight()+offset.y);else if("se"==this.options.direction)this.move(position.left+$anchor.outerWidth()+offset.x-this.$el.outerWidth(),position.top+$anchor.outerHeight()+offset.y);else if("ne"==this.options.direction)this.move(position.left+$anchor.outerWidth()+offset.x-this.$el.outerWidth(),position.top-this.$el.outerHeight()-offset.y);else if("s"==this.options.direction)this.move(position.left+$anchor.outerWidth()/2+offset.x-this.$el.outerWidth()/2,position.top+$anchor.outerHeight()+offset.y);else if("n"==this.options.direction)this.move(position.left+$anchor.outerWidth()/2+offset.x-this.$el.outerWidth()/2,position.top-this.$el.outerHeight()+offset.y);else if("w"==this.options.direction)this.move(position.left+offset.x-this.$el.outerWidth(),position.top+offset.y);this.$el.show(),window.setTimeout(function(){if(_private.closeOlderPopups(),$anchor.addClass("popup-opened"),!$anchor.is(":focus"))$anchor.focus();if(that.emitter.trigger("opened",that.$anchor),that.state=OPENED,_private.prevPopup=that,that.options["bind.cancel"])that.$el.on(that.options["bind.cancel"]+".popup",_.bind(_private.monitorActions,that)),that.$anchor.on(that.options["bind.cancel"]+".popup",_.bind(_private.monitorActions,that)),that.$el.on(that.options["bind.uncancel"]+".popup",_.bind(_private.monitorActions,that)),that.$anchor.on(that.options["bind.uncancel"]+".popup",_.bind(_private.monitorActions,that));if($(document).on(that.options["bind.cancel.document"]+".popup",_.bind(_private.monitorActions,that)).on(that.options["bind.keydown"]+".popup",_.bind(_private.monitorKeys,that)),that.options["attribute.close"])that.$el.on(that.options["bind.close"]+".popup","["+that.options["attribute.close"]+"]",function(e){if("disabled"!=$(e.currentTarget).attr("disabled"))that.close()})},0)}return this}},Popup.prototype.move=function(x,y,z){return this.$el.css({left:x,top:y,"z-index":z||1e4}),this},Popup.prototype.close=function(){return $(document).off(".popup"),this.$anchor.attr("aria-expanded","false"),this.$anchor.removeClass("popup-opened"),this.emitter.trigger("closing",this.$anchor),this.$el.off(".popup").hide(),this.$anchor.off(".popup"),this.$parent.append(this.$el),this.emitter.trigger("closed",this.$anchor),this.$anchor=null,this.state=CLOSED,window.clearTimeout(this.timeout),_private.prevPopup=null,this},Popup.prototype.isOpen=function(){return this.$el.is(":visible")};var external=function(){return _private.getPopup.apply(null,arguments)||_private.makePopup.apply(this,arguments)};return external.start=function(view,options){function openPopup(pop,$anchor){if(!pop.isOpen())pop.open($anchor)}var $view=$(view);if(!$view.data("popups-initialized"))$view.data("popups-initialized",1),$view.on("click.popup mouseenter.popup keydown.popup","["+_private.defaults["attribute.open"]+"]",function(e){var $anchor=$(this),bind=$anchor.attr("data-popup-bind-open");if("disabled"!=$anchor.attr("disabled")){var pop=_private.getPopupForAnchor($anchor,options);if("keydown"==e.type&&_.contains([UP_ARROW,DOWN_ARROW,SPACE_BAR],e.keyCode))if(e.preventDefault(),e.stopPropagation(),e.keyCode==DOWN_ARROW||e.keyCode==SPACE_BAR){if(!pop.isOpen())openPopup(pop,$anchor);_private.changeFocus.call(pop,e)}else if(e.keyCode==UP_ARROW&&pop.isOpen())pop.close();if(e.type==bind||!bind&&"click"==e.type||_private.isTouch&&"click"==e.type)if("mouseover"==e.type||"mouseenter"==e.type)_private.intentOpen(e,pop,$anchor);else openPopup(pop,$anchor)}}),$($view.find("["+_private.defaults["attribute.open"]+"]")).each(function(index){var $elem=$(this);if("true"==$elem.attr("aria-expanded")){var pop=_private.getPopupForAnchor($elem,options);openPopup(pop,$elem),window.setTimeout(function(){pop.close($elem)},3e3)}})},external.stop=function(view){var $view=$(view);$view.data("popups-initialized",0),$view.off(".popup"),_private.closeOlderPopups()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/popups",["jquery","underscore","js/lib/lucid","js/lib/data.attributes"],function($,_,LucidJS,DataAttributes){return popup($,_,LucidJS,DataAttributes)});else wndw.Popup=popup(wndw.$,wndw._,wndw.LucidJS,wndw.DataAttributes)}(window),!function(wndw){function UserAgent(source){if(null==source)source=navigator.userAgent;this.source=source.replace(/^\s*/,"").replace(/\s*$/,""),this.browser_name=browser_name(this.source),this.browser_version=browser_version(this.source),this.os=os(this.source),this.platform=platform(this.source)}var Browsers,OS,Platform,Versions,browser_name,browser_version,os,platform;if(Versions={Firefox:/firefox\/([\d\w\.\-]+)/i,IE:/msie\s([\d\.]+[\d])/i,Chrome:/chrome\/([\d\w\.\-]+)/i,Safari:/version\/([\d\w\.\-]+)/i,Ps3:/([\d\w\.\-]+)\)\s*$/i,Psp:/([\d\w\.\-]+)\)?\s*$/i},Browsers={Konqueror:/konqueror/i,Chrome:/chrome/i,Safari:/safari/i,IE:/msie/i,Opera:/opera/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Firefox:/firefox/i},OS={WindowsVista:/windows nt 6\.0/i,Windows7:/windows nt 6\.\d+/i,Windows2003:/windows nt 5\.2/i,WindowsXP:/windows nt 5\.1/i,Windows2000:/windows nt 5\.0/i,OSX:/os x (\d+)[._](\d+)/i,Linux:/linux/i,Wii:/wii/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Ipad:/\(iPad.*os (\d+)[._](\d+)/i,Iphone:/\(iPhone.*os (\d+)[._](\d+)/i},Platform={Windows:/windows/i,Mac:/macintosh/i,Linux:/linux/i,Wii:/wii/i,Playstation:/playstation/i,Ipad:/ipad/i,Ipod:/ipod/i,Iphone:/iphone/i,Android:/android/i,Blackberry:/blackberry/i},browser_name=function(string){if(Browsers.Konqueror.test(string))return"Konqueror";else if(Browsers.Chrome.test(string))return"Chrome";else if(Browsers.Safari.test(string))return"Safari";else if(Browsers.IE.test(string))return"IE";else if(Browsers.Opera.test(string))return"Opera";else if(Browsers.PS3.test(string))return"PS3";else if(Browsers.PSP.test(string))return"PSP";else if(Browsers.Firefox.test(string))return"Firefox";else return"unknown"
},browser_version=function(string){var regex;switch(browser_name(string)){case"chrome":if(Versions.Chrome.test(string))return RegExp.$1;break;case"safari":if(Versions.Safari.test(string))return RegExp.$1;break;case"firefox":if(Versions.Firefox.test(string))return RegExp.$1;break;case"ie":if(Versions.IE.test(string))return RegExp.$1;break;case"ps3":if(Versions.Ps3.test(string))return RegExp.$1;break;case"psp":if(Versions.Psp.test(string))return RegExp.$1;break;default:if(regex=/#\{name\}[\/ ]([\d\w\.\-]+)/i,regex.test(string))return RegExp.$1}},os=function(string){if(OS.WindowsVista.test(string))return"Windows Vista";else if(OS.Windows7.test(string))return"Windows 7";else if(OS.Windows2003.test(string))return"Windows 2003";else if(OS.WindowsXP.test(string))return"Windows XP";else if(OS.Windows2000.test(string))return"Windows 2000";else if(OS.Linux.test(string))return"Linux";else if(OS.Wii.test(string))return"Wii";else if(OS.PS3.test(string))return"Playstation";else if(OS.PSP.test(string))return"Playstation";else if(OS.OSX.test(string))return string.match(OS.OSX)[0].replace("_",".");else if(OS.Ipad.test(string))return string.match(OS.Ipad)[0].replace("_",".").replace("(","");else if(OS.Iphone.test(string))return string.match(OS.Iphone)[0].replace("_",".").replace("(","");else return"unknown"},platform=function(string){if(Platform.Windows.test(string))return"Microsoft Windows";else if(Platform.Mac.test(string))return"Apple Mac";else if(Platform.Android.test(string))return"Android";else if(Platform.Blackberry.test(string))return"Blackberry";else if(Platform.Linux.test(string))return"Linux";else if(Platform.Wii.test(string))return"Wii";else if(Platform.Playstation.test(string))return"Playstation";else if(Platform.Ipad.test(string))return"iPad";else if(Platform.Ipod.test(string))return"iPod";else if(Platform.Iphone.test(string))return"iPhone";else return"unknown"},"function"==typeof define&&define.amd)define("js/lib/useragent",[],function(){return UserAgent});else window.UserAgent=UserAgent}(window),!function(wndw){function BrowserBanner($,UserAgent){function isSupportedBrowser(){var userAgent=new UserAgent;if("ie"==userAgent.browser_name.toLowerCase()&&userAgent.browser_version<9)return!1;if("firefox"==userAgent.browser_name.toLowerCase()&&userAgent.browser_version<12)return!1;if("safari"==userAgent.browser_name.toLowerCase()&&userAgent.browser_version<5)return!1;else return!0}function maybeShowBanner(){if(!isSupportedBrowser()){if($(".brbraitt-browser-banner").length>0)return;var $browserBanner=$('<div class="brbraitt-browser-banner">');$browserBanner.css({"text-align":"center","font-size":"16px",padding:"10px 0px",background:"#FFEEA9","margin-top":"-100px","border-bottom":"1px solid #CCC"}),$browserBanner.html('You are using an unsupported browser, so some features may not work. <br> Please upgrade to a <a href="http://www.brbraitt.org/browsers">modern browser</a>.'),$(document.body).prepend($browserBanner),$browserBanner.animate({"margin-top":"+=100px"},1e3)}}return $(document).ready(maybeShowBanner),{isSupportedBrowser:isSupportedBrowser}}if("function"==typeof define&&define.amd)define("js/lib/browser",["jquery","js/lib/useragent"],function($,UserAgent){return new BrowserBanner($,UserAgent)});else new BrowserBanner(wndw.$,wndw.UserAgent)}(window),!function(wndw){var Module=function($,_,cookie,LucidJS,Moment,DataAttributes){var _private={defaults:{"bind.close":"click","attribute.data":"data-readme","attribute.close":"data-readme-close","class":"readme",expires:null,"show.count":0,"show.until.closed":!1,"show.delay":1e3,"animate.open":null,"animate.close":null,"animate.duration":250,type:"banner"},open:!1,stack:[],getReadMe:function(el,options){var readme=$(el).data("readme.me");if(readme&&readme.constructor==ReadMe.prototype.constructor)if(options)return readme.customize(options);else return readme;else return null},makeReadMe:function(el,options){var $el=$(el),readme=_private.getReadMe($el);if(!readme)readme=new ReadMe($el,options),$el.data("readme.me",readme);return readme},getCount:function(){var times,cookieName=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"])return times=cookie.get(cookieName),times?parseInt(times,10):0;else return 0},increaseCount:function(){var cookieName=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"]){var times=_private.getCount.call(this)+1;return cookie.set(cookieName,times,{expires:36500}),times}return 0},canShow:function(){var count=_private.getCount.call(this),max=this.options["show.count"]?parseInt(this.options["show.count"],10):0,expires=this.options.expires,show=!0;if(expires&&Moment(expires).diff(Moment())<0)return this.emitter.trigger("expired"),!1;if(max&&count>=max)return this.emitter.trigger("aged"),!1;if(_private.open)return _private.stack.push(this),!1;else return _private.open=!0,!0}},ReadMe=function(el,options){var that=this;this.$el=$(el),this.emitter=LucidJS.emitter(this),this.customize(options),window.setTimeout(function(){that.open()},this.options["show.delay"]||0)};ReadMe.prototype.customize=function(settings){var that=this,height;if(this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-readme-"),settings),this.$el.addClass(this.options["class"]),"banner"==this.options.type)this.$el.css({visibility:"hidden"}).show(),height=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={"margin-top":0},this.options["animate.close"]={"margin-top":-height},this.options["animate.duration"]=250,this.on("opening",function(){that.$el.css({visibility:"visible","margin-top":-height}).show().prependTo($("body"))});else if("footer-sticky"==this.options.type)this.$el.css({visibility:"hidden"}).show(),height=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={bottom:0},this.options["animate.close"]={bottom:-height},this.options["animate.duration"]=250,this.on("opening",function(){that.$el.css({visibility:"visible",position:"absolute",left:0,right:0,bottom:-height}).show().appendTo($("body"))});return this},ReadMe.prototype.open=function(){var that=this;if(_private.canShow.call(this)){if(!this.options["show.until.closed"]&&this.options["show.count"])_private.increaseCount.call(this);if(this.emitter.trigger("opening"),_private.stack.push(this),this.$el.on(this.options["bind.close"]+".readme","["+this.options["attribute.close"]+"]",function(){if(that.options["show.until.closed"]&&that.options["show.count"])_private.increaseCount.call(that);that.close()}),this.$el.is("["+this.options["attribute.close"]+"]"))this.$el.on(this.options["bind.close"]+".readme",function(){if(that.options["show.until.closed"]&&that.options["show.count"])_private.increaseCount.call(that);that.close()});if(this.options["animate.open"])this.$el.css({"margin-top":-100}).prependTo($("body")).show(),this.$el.animate(this.options["animate.open"],{duration:this.options["animate.duration"],complete:function(){that.emitter.trigger("open")}});else this.$el.show(),this.emitter.trigger("open")}},ReadMe.prototype.close=function(){var that=this;if(this.trigger("closing"),_private.stack.shift(),this.options["animate.close"])this.$el.animate(this.options["animate.close"],{duration:this.options["animate.duration"],complete:function(){if(that.$el.off(".readme"),that.$el.hide().remove(),that.emitter.trigger("close"),_private.open=!1,_private.stack.length)_private.stack[0].open()}});else if(this.$el.off(".readme"),this.$el.hide().remove(),this.emitter.trigger("close"),_private.open=!1,_private.stack.length)_private.stack[0].open()};var external=function(el,options){return _private.getReadMe(el,options)||_private.makeReadMe(el,options)};return external};if("function"==typeof define&&define.amd)define("js/lib/readme",["jquery","underscore","js/lib/cookie","js/lib/lucid","js/lib/moment","js/lib/data.attributes"],function($,_,cookie,LucidJS,Moment,DataAttributes){return Module($,_,cookie,LucidJS,Moment,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)wndw.ReadMe=Module(wndw.$,wndw._,wndw.Cookie,wndw.LucidJS,wndw.moment,wndw.DataAttributes)}(window),define("pages/home/template/header",["underscore","backbone","js/core/brbraitt","pages/home/template/header.html","i18n!pages/home/template/nls/header","js/collections/universities","js/collections/categories","js/lib/cookie","js/lib/popups","js/lib/util","js/lib/language","jquery","js/lib/browser","js/lib/readme","js/lib/brbraitt.ab"],function(_,Backbone,brbraitt,template,_t,Universities,Categories,cookie,Popups,util,language,$,browser,ReadMe,AB){var header=Backbone.View.extend({name:"header",className:"brbraitt-header",attributes:{role:"menubar"},initialize:function(){var self=this;self.bind("view:appended",function(){if(brbraitt.user)if(brbraitt.user.personalizeAccountDropdown(),brbraitt.user.get("authenticated")&&/zh/i.test(language.getLanguageCode()))ReadMe(self.$("[data-readme]")[0])}),self.bind("view:closed",function(){})},events:{"click .brbraitt-header .brbraitt-header-link, .internal-home":"onHeaderLinkClick"},onHeaderLinkClick:function(e){var href=e.target&&e.target.getAttribute("href")||"";if(href)brbraitt.multitracker.push(["user.click.header-link",href])},render:function(){var self=this,showSigtrack=!1;if(brbraitt.user&&brbraitt.user.get("authenticated")){brbraitt.user.set("profileUrl","-1"==brbraitt.user.get("privacy")?"account/profile":"user/i/"+brbraitt.user.get("external_id")),brbraitt.user.set("headerName",util.truncateText(brbraitt.user.get("display_name"),15));var sigtrackObject=brbraitt.user.get("signature_track");if(sigtrackObject.first_name||sigtrackObject.last_name||sigtrackObject.has_vouchers)showSigtrack=!0}var showNormalPartners=!1,showStateSystems=!1;if(this.options.universityPartnerType)showNormalPartners=2!=this.options.universityPartnerType,showStateSystems=2==this.options.universityPartnerType;return self.$el.html(template({_t:_t,config:brbraitt.config,user:brbraitt.user,util:util,showSignatureTrack:showSigtrack,showNormalPartners:showNormalPartners,showSigtrack:showSigtrack,showStateSystems:showStateSystems,minimal:_.has(this.options,"minimal")?this.options.minimal:!1})),self}});return header}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,shortBanner=locals_.shortBanner,config=locals_.config,searchBanner=locals_.searchBanner,generic=locals_.generic,hideHowItWorks=locals_.hideHowItWorks,showSigtrackCta=locals_.showSigtrackCta,showVerifiedCta=locals_.showVerifiedCta;_t="undefined"!=typeof _t?_t:function(s){return s};var klass="brbraitt-front-search-banner-hero-container"+(shortBanner?" short":"");if(buf.push("<div"+jade.attrs({"class":[klass]},{"class":!0})+"><div"+jade.attrs({style:"background-image: url('"+config.url.assets+"pages/home/front/university-banners/"+searchBanner.shortname+".jpg')","class":["brbraitt-hero-banner"]},{style:!0})+'></div><div class="container brbraitt-front-search-banner-container"><div class="brbraitt-front-search-banner-main-group">'),klass="brbraitt-front-search-banner-tagline"+(shortBanner?" short":""),generic)buf.push("<h1"+jade.attrs({"class":[klass]},{"class":!0})+">"+jade.escape(null==(jade.interp=_t("Take the world's best courses, online, for free."))?"":jade.interp)+"</h1>");else buf.push("<h1"+jade.attrs({"class":[klass]},{"class":!0})+">"+jade.escape(null==(jade.interp=_t("Welcome to brbraitt!"))?"":jade.interp)+'</h1><h3 class="brbraitt-front-search-banner-byline">'+jade.escape(null==(jade.interp=_t("Take the world's best courses, online, for free."))?"":jade.interp)+"</h3>");if(buf.push('<div class="brbraitt-front-search-banner-input-group"><form class="brbraitt-front-search-banner-form"><label for="brbraitt-front-search-banner-input" style="display:none;">'+jade.escape(null==(jade.interp=_t("What would you like to learn about?"))?"":jade.interp)+'</label><div class="brbraitt-front-search-banner-input-container"><input'+jade.attrs({id:"brbraitt-front-search-banner-input",type:"search",placeholder:_t("What would you like to learn about?"),name:"search"},{type:!0,placeholder:!0,name:!0})+'/><button id="brbraitt-front-search-button" type="submit" class="icon-search brbraitt-front-search-button"><span class="hidden-label">'+jade.escape(null==(jade.interp=_t("Search"))?"":jade.interp)+'</span></button></div></form></div><div style="display: none" class="brbraitt-front-search-banner-hide2"><div style="display: none" class="brbraitt-front-search-banner-join"><span>'+(null==(jade.interp=_t("Join&nbsp;"))?"":jade.interp)+'</span><span class="brbraitt-front-search-banner-students-count"></span><span>'+(null==(jade.interp=_t("&nbsp;Courserians."))?"":jade.interp)+"</span><br/><span>"+(null==(jade.interp=_t("Learn from&nbsp;"))?"":jade.interp)+'</span><span class="brbraitt-front-search-banner-courses-count"></span><span>'+(null==(jade.interp=_t("&nbsp;courses, from our&nbsp;"))?"":jade.interp)+'</span><span class="brbraitt-front-search-banner-universities-count"></span><span>'+(null==(jade.interp=_t("&nbsp;partners."))?"":jade.interp)+"</span><br/>"),!hideHowItWorks)buf.push('<a href="/about/howitworks" class="internal-home">'+jade.escape(null==(jade.interp=_t("How it works Â»"))?"":jade.interp)+"</a>");if(showSigtrackCta)buf.push('<a href="/signature/">'+jade.escape(null==(jade.interp=_t("Learn about Signature Track Â»"))?"":jade.interp)+"</a>");if(showVerifiedCta)buf.push('<a href="/signature/">'+jade.escape(null==(jade.interp=_t("Learn about Verified Certificates Â»"))?"":jade.interp)+"</a>");return buf.push('</div></div></div></div><div class="brbraitt-front-unilink"><a'+jade.attrs({href:"/"+searchBanner.shortname,"class":["internal-home"]},{href:!0,"class":!0})+">"+jade.escape(null==(jade.interp=_t(searchBanner.name))?"":jade.interp)+" Â»</a></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/front/frontSearchBanner.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.front.frontSearchBanner"]=jadify(wndw.jade.helpers)}(window),define("pages/home/front/nls/frontSearchBanner",{root:!0,zh:!0}),define("pages/home/front/nls/root/frontSearchBanner",{"Take the world's best courses, online, for free.":"Take the world's best courses, online, for free.","Welcome to brbraitt!":"Welcome to brbraitt!","What would you like to learn about?":"What would you like to learn about?",Search:"Search","Join&nbsp;":"Join&nbsp;","&nbsp;Courserians.":"&nbsp;Courserians.","Learn from&nbsp;":"Learn from&nbsp;","&nbsp;courses, from our&nbsp;":"&nbsp;courses, from our&nbsp;","&nbsp;partners.":"&nbsp;partners.","How it works Â»":"How it works Â»","Learn about Signature Track Â»":"Learn about Signature Track Â»","Learn about Verified Certificates Â»":"Learn about Verified Certificates Â»"}),define("js/json/nls/universities",{root:!0,zh:!0}),define("js/json/nls/root/universities",{"Ludwig-Maximilians-UniversitÃ¤t MÃ¼nchen (LMU)":"Ludwig-Maximilians-UniversitÃ¤t MÃ¼nchen (LMU)","Brown University":"Brown University","Rice University":"Rice University","University of Florida":"University of Florida","Sapienza University of Rome":"Sapienza University of Rome","Wesleyan University":"Wesleyan University","The University of North Carolina at Chapel Hill":"The University of North Carolina at Chapel Hill","Ãcole normale supÃ©rieure":"Ãcole normale supÃ©rieure","University of California, Irvine":"University of California, Irvine","The University of British Columbia":"The University of British Columbia","University of Illinois at Urbana-Champaign":"University of Illinois at Urbana-Champaign","Princeton University":"Princeton University","University of Pittsburgh":"University of Pittsburgh","University of Michigan":"University of Michigan","University of Pennsylvania":"University of Pennsylvania","Ãcole Polytechnique":"Ãcole Polytechnique","University of Rochester":"University of Rochester","The University of Tokyo":"The University of Tokyo","HEC Paris":"HEC Paris","University of Kentucky":"University of Kentucky","The University of Edinburgh":"The University of Edinburgh","Tennessee Board of Regents":"Tennessee Board of Regents","Emory University":"Emory University","The Pennsylvania State University":"The Pennsylvania State University","Nanyang Technological University":"Nanyang Technological University","The World Bank":"The World Bank","Peking University":"Peking University","Eindhoven University of Technology":"Eindhoven University of Technology","Commonwealth Education Trust":"Commonwealth Education Trust","Universitat AutÃ²noma de Barcelona":"Universitat AutÃ²noma de Barcelona","Tel Aviv University":"Tel Aviv University","The Chinese University of Hong Kong":"The Chinese University of Hong Kong","Ãcole Polytechnique FÃ©dÃ©rale de Lausanne":"Ãcole Polytechnique FÃ©dÃ©rale de Lausanne","American Museum of Natural History":"American Museum of Natural History","National Geographic Society":"National Geographic Society","University of Tennessee System":"University of Tennessee System","University of Nebraska":"University of Nebraska","Vanderbilt University":"Vanderbilt University","Georgia Institute of Technology":"Georgia Institute of Technology","University of Minnesota":"University of Minnesota",Exploratorium:"Exploratorium","University of Manchester":"University of Manchester","Shanghai Jiao Tong University":"Shanghai Jiao Tong University","Case Western Reserve University":"Case Western Reserve University","Icahn School of Medicine at Mount Sinai":"Icahn School of Medicine at Mount Sinai","University of Colorado System":"University of Colorado System","University System of Georgia":"University System of Georgia","University of Lausanne":"University of Lausanne","Johns Hopkins University":"Johns Hopkins University","Saint Petersburg State University":"Saint Petersburg State University","Copenhagen Business School":"Copenhagen Business School","University of Melbourne":"University of Melbourne","Rutgers University":"Rutgers University","University of WisconsinâMadison":"University of WisconsinâMadison","Stanford University":"Stanford University","Higher School of Economics":"Higher School of Economics","University of Houston System":"University of Houston System","California Institute of Technology":"California Institute of Technology","Technische UniversitÃ¤t MÃ¼nchen (TUM)":"Technische UniversitÃ¤t MÃ¼nchen (TUM)","Ãcole Centrale Paris":"Ãcole Centrale Paris","University of California, San Francisco":"University of California, San Francisco","The Ohio State University":"The Ohio State University","TecnolÃ³gico de Monterrey":"TecnolÃ³gico de Monterrey","Columbia University":"Columbia University","The Hong Kong University of Science and Technology":"The Hong Kong University of Science and Technology","Curtis Institute of Music":"Curtis Institute of Music","University of California, Santa Cruz":"University of California, Santa Cruz","UniversitÃ  Bocconi":"UniversitÃ  Bocconi","The University of Chicago ":"The University of Chicago ","University of Virginia":"University of Virginia","Universiteit Leiden":"Universiteit Leiden","University of Geneva":"University of Geneva","West Virginia University":"West Virginia University","State University of New York":"State University of New York","Yale University":"Yale University","Technical University of Denmark (DTU)":"Technical University of Denmark (DTU)","National Taiwan University":"National Taiwan University","IE Business School":"IE Business School","Berklee College of Music":"Berklee College of Music","Universidad Nacional AutÃ³noma de MÃ©xico":"Universidad Nacional AutÃ³noma de MÃ©xico","University of Western Australia":"University of Western Australia","University of Washington":"University of Washington","The Museum of Modern Art":"The Museum of Modern Art","Korea Advanced Institute of Science and Technology":"Korea Advanced Institute of Science and Technology","University of Amsterdam":"University of Amsterdam","University of New South Wales":"University of New South Wales","Northwestern University":"Northwestern University","University of Toronto":"University of Toronto","University of Maryland, College Park":"University of Maryland, College Park","University of Zurich":"University of Zurich","University of Copenhagen":"University of Copenhagen","California Institute of the Arts":"California Institute of the Arts","New Teacher Center":"New Teacher Center","Moscow Institute of Physics and Technology":"Moscow Institute of Physics and Technology","University of Colorado Boulder":"University of Colorado Boulder","Match Teacher Residency":"Match Teacher Residency","National University of Singapore":"National University of Singapore","Duke University":"Duke University","Hebrew University of Jerusalem":"Hebrew University of Jerusalem","Relay Graduate School of Education":"Relay Graduate School of Education","Technion - Israel Institute of Technology":"Technion - Israel Institute of Technology","University of London International Programmes":"University of London International Programmes","University of New Mexico":"University of New Mexico","University of Alberta":"University of Alberta","University of California, San Diego ":"University of California, San Diego ","IESE Business School":"IESE Business School","KoÃ§ University":"KoÃ§ University"}),define("js/lib/backbone.api",["backbone","underscore","js/lib/api"],function(Backbone,_,API){var apiModel={sync:function(method,model,options){options=_.extend({},options);var that=this,action=[],id=this.urlId||this.idAttribute||"id",query="",url=options.url?options.url:_.isFunction(this.url)?this.url():this.url;if(options.query){var qs=[];for(var p in options.query)qs.push(encodeURIComponent(p)+"="+encodeURIComponent(options.query[p]));query+=-1==url.indexOf("?")?"?"+qs.join("&"):"&"+qs.join("&")}if(!this.api){var urlRoot=url||(_.isFunction(this.urlRoot)?this.urlRoot():this.urlRoot);this.api=API(urlRoot)}if("create"==method)return options.data=_.extend(this.toJSON(),options.data||{}),this.api.post(url+query,options);else if("update"==method)if(this.partialUpdate){if(options.data=_.extend(this.changedAttributes()||{},options.data||{}),options.force)if(_.isArray(options.force))_.each(options.force,function(force){options.data[force]=that.get(force)});else options.data[options.force]=this.get(options.force);return this.api.patch(url+"/"+this.get(id)+query,options)}else return options.data=_.extend(this.toJSON(),options.data||{}),this.api.put(url+"/"+this.get(id)+query,options);else if("delete"==method)return this.api["delete"](url+"/"+this.get(id)+query,options);else if("read"==method)if(this instanceof Backbone.Collection||void 0===this.get(id))return this.api.get(url+query,options);else return this.api.get(url+"/"+this.get(id)+query,options)},create:function(options,callback){var that=this;return this.save(null,options).done(function(data){if(callback)callback.call(that,null,data)}).fail(function(jqXHR,textStatus){if(callback)callback.call(that,textStatus)})},update:function(attributes,_options,callback){var that=this,options=_options||{};if(attributes&&!this.isNew())options.silent=void 0!==options.silent?options.silent:!0;return this.save(attributes,options).done(function(data){if(callback)callback.call(that,null,data)}).fail(function(jqXHR,textStatus){if(callback)callback.call(that,textStatus)})},read:function(options,callback){var that=this;return this.fetch(options).done(function(data){if(callback)callback.call(that,null,data)}).fail(function(jqXHR,textStatus){if(callback)callback.call(that,textStatus)})},"delete":function(options,callback){var that=this;return this.destroy(options).done(function(data){if(callback)callback.call(that,null,data)}).fail(function(jqXHR,textStatus){if(callback)callback.call(that,textStatus)})}};return apiModel}),define("js/models/frontdata",["jquery","underscore","backbone","js/core/brbraitt","js/lib/backbone.api","js/lib/cloudfront.api","js/collections/topics","pages/home/api"],function($,_,Backbone,brbraitt,BackboneApi,CloudfrontApi,Topics,homeApi){var FrontData=Backbone.Model.extend({url:"topic/listfront",api:CloudfrontApi(homeApi,brbraitt.config),parse:function(response){return response.upcoming=new Topics(Topics.parse(response.upcoming)),response.upcoming_sigtrack=new Topics(Topics.parse(response.upcoming_sigtrack)),response}});_.extend(FrontData.prototype,BackboneApi);var deferred;return FrontData.singletonRead=function(){if(deferred)return deferred;deferred=$.Deferred();var frontData=new FrontData;return frontData.read().done(function(rawData){deferred.resolve(frontData)}).fail(function(xhr,status,err){deferred.reject(xhr,status,err),brbraitt.router.trigger("error",500,location.href,{message:"error retrieving topics"})}),deferred},FrontData}),define("js/json/searchBanners",[],function(){return[{name:"Relay Graduate School of Education",shortname:"relay"},{name:"California Institute of the Arts",shortname:"calarts"},{name:"California Institute of Technology",shortname:"caltech"},{name:"Case Western University",shortname:"casewestern"},{name:"Curtis Institute of Music",shortname:"curtis"},{name:"Duke University",shortname:"duke"},{name:"Ãcole Polytechnique FÃ©dÃ©rale de Lausanne",shortname:"epfl"},{name:"Georgia Institute of Technology",shortname:"gatech"},{name:"Ludwig-Maximilians-UniversitÃ¤t MÃ¼nchen",shortname:"lmu"},{name:"Northwestern University",shortname:"northwestern"},{name:"Pennsylvania State University",shortname:"psu"},{name:"Princeton University",shortname:"princeton"},{name:"National University of Singapore",shortname:"nus"},{name:"TecnolÃ³gico de Monterrey",shortname:"tecdemonterrey"},{name:"The University of North Carolina at Chapel Hill",shortname:"unc"},{name:"Universiteit Leiden",shortname:"leiden"},{name:"University of California, Irvine",shortname:"uci"},{name:"University of California, Santa Cruz",shortname:"ucsc"},{name:"University of Colorado Boulder",shortname:"boulder"},{name:"University of Copenhagen",shortname:"ucph"},{name:"University of Geneva",shortname:"unige"},{name:"University of London International Programmes",shortname:"london"},{name:"University of Michigan",shortname:"umich"},{name:"University of Minnesota",shortname:"minnesota"},{name:"University of Pittsburgh",shortname:"pitt"},{name:"University of WisconsinâMadison",shortname:"wisconsin"},{name:"Vanderbilt University",shortname:"vanderbilt"},{name:"Wesleyan University",shortname:"wesleyan"},{name:"University of Pennsylvania",shortname:"penn"}]}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,searchString=locals_.searchString,suggestions=locals_.suggestions;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<li><ul><li class="active"><a'+jade.attrs({href:"courses?search="+searchString,"class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("See all results..."))?"":jade.interp)+"</a></li></ul></li>"),function(){var $$obj=suggestions;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var suggestionGroup=$$obj[$index];if(suggestionGroup.items.length>0){if(buf.push("<li>"),suggestionGroup.label)buf.push("<h5>"+jade.escape(null==(jade.interp=_t(suggestionGroup.label))?"":jade.interp)+"</h5>");buf.push("<ul>"),function(){var $$obj=suggestionGroup.items;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var suggestionItem=$$obj[$index];buf.push("<li><a"+jade.attrs({href:suggestionItem.url,tabindex:"-1","class":["brbraitt-autocomplete-match-"+suggestionItem.id,"internal-home"]},{href:!0,tabindex:!0})+">"+(null==(jade.interp=_t(suggestionItem.nameHilighted))?"":jade.interp)+"</a></li>")}else{var $$l=0;for(var $index in $$obj){$$l++;var suggestionItem=$$obj[$index];buf.push("<li><a"+jade.attrs({href:suggestionItem.url,tabindex:"-1","class":["brbraitt-autocomplete-match-"+suggestionItem.id,"internal-home"]},{href:!0,tabindex:!0})+">"+(null==(jade.interp=_t(suggestionItem.nameHilighted))?"":jade.interp)+"</a></li>")}}}.call(this),buf.push("</ul></li>")}}else{var $$l=0;for(var $index in $$obj){$$l++;var suggestionGroup=$$obj[$index];if(suggestionGroup.items.length>0){if(buf.push("<li>"),suggestionGroup.label)buf.push("<h5>"+jade.escape(null==(jade.interp=_t(suggestionGroup.label))?"":jade.interp)+"</h5>");buf.push("<ul>"),function(){var $$obj=suggestionGroup.items;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var suggestionItem=$$obj[$index];buf.push("<li><a"+jade.attrs({href:suggestionItem.url,tabindex:"-1","class":["brbraitt-autocomplete-match-"+suggestionItem.id,"internal-home"]},{href:!0,tabindex:!0})+">"+(null==(jade.interp=_t(suggestionItem.nameHilighted))?"":jade.interp)+"</a></li>")}else{var $$l=0;for(var $index in $$obj){$$l++;var suggestionItem=$$obj[$index];buf.push("<li><a"+jade.attrs({href:suggestionItem.url,tabindex:"-1","class":["brbraitt-autocomplete-match-"+suggestionItem.id,"internal-home"]},{href:!0,tabindex:!0})+">"+(null==(jade.interp=_t(suggestionItem.nameHilighted))?"":jade.interp)+"</a></li>")}}}.call(this),buf.push("</ul></li>")}}}}.call(this),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/front/frontAutocompleteEntries.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.front.frontAutocompleteEntries"]=jadify(wndw.jade.helpers)}(window),define("pages/home/front/nls/frontAutocompleteEntries",{root:!0,zh:!0}),define("pages/home/front/nls/root/frontAutocompleteEntries",{"See all results...":"See all results..."}),define("js/lib/lunr",[],function(){var lunr=function(config){var idx=new lunr.Index;if(idx.pipeline.add(lunr.stopWordFilter,lunr.stemmer),config)config.call(idx,idx);return idx};return lunr.version="0.3.0",lunr.tokenizer=function(str){if(Array.isArray(str))return str;for(var str=str.replace(/^\s+/,""),i=str.length-1;i>=0;i--)if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break}return str.split(/\s+/).map(function(token){return token.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase()})},lunr.Pipeline=function(){this._stack=[]},lunr.Pipeline.registeredFunctions={},lunr.Pipeline.registerFunction=function(fn,label){if(console&&console.warn&&label in this.registeredFunctions)console.warn("Overwriting existing registered function: "+label);fn.label=label,lunr.Pipeline.registeredFunctions[fn.label]=fn},lunr.Pipeline.warnIfFunctionNotRegistered=function(fn){var isRegistered=fn.label&&fn.label in this.registeredFunctions;if(!isRegistered&&console&&console.warn)console.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",fn)},lunr.Pipeline.load=function(serialised){var pipeline=new lunr.Pipeline;return serialised.forEach(function(fnName){var fn=lunr.Pipeline.registeredFunctions[fnName];if(fn)pipeline.add(fn);else throw new Error("Cannot load un-registered function: "+fnName)}),pipeline},lunr.Pipeline.prototype.add=function(){var fns=Array.prototype.slice.call(arguments);fns.forEach(function(fn){lunr.Pipeline.warnIfFunctionNotRegistered(fn),this._stack.push(fn)},this)},lunr.Pipeline.prototype.after=function(existingFn,newFn){lunr.Pipeline.warnIfFunctionNotRegistered(newFn);var pos=this._stack.indexOf(existingFn)+1;this._stack.splice(pos,0,newFn)},lunr.Pipeline.prototype.before=function(existingFn,newFn){lunr.Pipeline.warnIfFunctionNotRegistered(newFn);var pos=this._stack.indexOf(existingFn);this._stack.splice(pos,0,newFn)},lunr.Pipeline.prototype.remove=function(fn){var pos=this._stack.indexOf(fn);this._stack.splice(pos,1)},lunr.Pipeline.prototype.run=function(tokens){for(var out=[],tokenLength=tokens.length,stackLength=this._stack.length,i=0;tokenLength>i;i++){for(var token=tokens[i],j=0;stackLength>j&&(token=this._stack[j](token,i,tokens),void 0!==token);j++);if(void 0!==token)out.push(token)
}return out},lunr.Pipeline.prototype.toJSON=function(){return this._stack.map(function(fn){return lunr.Pipeline.warnIfFunctionNotRegistered(fn),fn.label})},lunr.Vector=function(elements){this.elements=elements;for(var i=0;i<elements.length;i++)if(!(i in this.elements))this.elements[i]=0},lunr.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var sumOfSquares=0,elems=this.elements,len=elems.length,el,i=0;len>i;i++)el=elems[i],sumOfSquares+=el*el;return this._magnitude=Math.sqrt(sumOfSquares)},lunr.Vector.prototype.dot=function(otherVector){for(var elem1=this.elements,elem2=otherVector.elements,length=elem1.length,dotProduct=0,i=0;length>i;i++)dotProduct+=elem1[i]*elem2[i];return dotProduct},lunr.Vector.prototype.similarity=function(otherVector){return this.dot(otherVector)/(this.magnitude()*otherVector.magnitude())},lunr.Vector.prototype.toArray=function(){return this.elements},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(serialisedData){var set=new this;return set.elements=serialisedData,set.length=serialisedData.length,set},lunr.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(element){if(!~this.indexOf(element))this.elements.splice(this.locationFor(element),0,element)},this),this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(fn,ctx){return this.elements.map(fn,ctx)},lunr.SortedSet.prototype.forEach=function(fn,ctx){return this.elements.forEach(fn,ctx)},lunr.SortedSet.prototype.indexOf=function(elem,start,end){var start=start||0,end=end||this.elements.length,sectionLength=end-start,pivot=start+Math.floor(sectionLength/2),pivotElem=this.elements[pivot];if(1>=sectionLength)if(pivotElem===elem)return pivot;else return-1;if(elem>pivotElem)return this.indexOf(elem,pivot,end);if(pivotElem>elem)return this.indexOf(elem,start,pivot);if(pivotElem===elem)return pivot;else return void 0},lunr.SortedSet.prototype.locationFor=function(elem,start,end){var start=start||0,end=end||this.elements.length,sectionLength=end-start,pivot=start+Math.floor(sectionLength/2),pivotElem=this.elements[pivot];if(1>=sectionLength){if(pivotElem>elem)return pivot;if(elem>pivotElem)return pivot+1}if(elem>pivotElem)return this.locationFor(elem,pivot,end);if(pivotElem>elem)return this.locationFor(elem,start,pivot);else return void 0},lunr.SortedSet.prototype.intersect=function(otherSet){for(var intersectSet=new lunr.SortedSet,i=0,j=0,a_len=this.length,b_len=otherSet.length,a=this.elements,b=otherSet.elements;!(i>a_len-1||j>b_len-1);)if(a[i]!==b[j])if(!(a[i]<b[j]))if(!(a[i]>b[j]));else j++;else i++;else intersectSet.add(a[i]),i++,j++;return intersectSet},lunr.SortedSet.prototype.clone=function(){var clone=new lunr.SortedSet;return clone.elements=this.toArray(),clone.length=clone.elements.length,clone},lunr.SortedSet.prototype.union=function(otherSet){var longSet,shortSet,unionSet;if(this.length>=otherSet.length)longSet=this,shortSet=otherSet;else longSet=otherSet,shortSet=this;return unionSet=longSet.clone(),unionSet.add.apply(unionSet,shortSet.toArray()),unionSet},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},lunr.Index=function(){this._fields=[],this._ref="id",this.pipeline=new lunr.Pipeline,this.documentStore=new lunr.Store,this.tokenStore=new lunr.TokenStore,this.corpusTokens=new lunr.SortedSet},lunr.Index.load=function(serialisedData){if(serialisedData.version!==lunr.version&&console&&console.warn)console.warn("version mismatch: current "+lunr.version+" importing "+serialisedData.version);var idx=new this;return idx._fields=serialisedData.fields,idx._ref=serialisedData.ref,idx.documentStore=lunr.Store.load(serialisedData.documentStore),idx.tokenStore=lunr.TokenStore.load(serialisedData.tokenStore),idx.corpusTokens=lunr.SortedSet.load(serialisedData.corpusTokens),idx.pipeline=lunr.Pipeline.load(serialisedData.pipeline),idx},lunr.Index.prototype.field=function(fieldName,opts){var opts=opts||{},field={name:fieldName,boost:opts.boost||1};return this._fields.push(field),this},lunr.Index.prototype.ref=function(refName){return this._ref=refName,this},lunr.Index.prototype.add=function(doc){var docTokens={},allDocumentTokens=new lunr.SortedSet,docRef=doc[this._ref];this._fields.forEach(function(field){var fieldTokens=this.pipeline.run(lunr.tokenizer(doc[field.name]));docTokens[field.name]=fieldTokens,lunr.SortedSet.prototype.add.apply(allDocumentTokens,fieldTokens)},this),this.documentStore.set(docRef,allDocumentTokens),lunr.SortedSet.prototype.add.apply(this.corpusTokens,allDocumentTokens.toArray());for(var i=0;i<allDocumentTokens.length;i++){var token=allDocumentTokens.elements[i],tf=this._fields.reduce(function(memo,field){var tokenCount=docTokens[field.name].filter(function(t){return t===token}).length,fieldLength=docTokens[field.name].length;return memo+tokenCount/fieldLength*field.boost},0);this.tokenStore.add(token,{ref:docRef,tf:tf})}},lunr.Index.prototype.remove=function(doc){var docRef=doc[this._ref],docTokens=this.documentStore.get(docRef);this.documentStore.remove(docRef),docTokens.forEach(function(token){this.tokenStore.remove(token,docRef)},this)},lunr.Index.prototype.update=function(doc){this.remove(doc),this.add(doc)},lunr.Index.prototype.idf=function(term){var documentFrequency=Object.keys(this.tokenStore.get(term)).length;if(0===documentFrequency)return 1;else return 1+Math.log(this.tokenStore.length/documentFrequency)},lunr.Index.prototype.search=function(query){var queryTokens=this.pipeline.run(lunr.tokenizer(query)),queryArr=new Array(this.corpusTokens.length),documentSets=[],fieldBoosts=this._fields.reduce(function(memo,f){return memo+f.boost},0),hasSomeToken=queryTokens.some(function(token){return this.tokenStore.has(token)},this);if(!hasSomeToken)return[];queryTokens.forEach(function(token,i,tokens){var tf=1/tokens.length*this._fields.length*fieldBoosts,self=this,set=this.tokenStore.expand(token).reduce(function(memo,key){var pos=self.corpusTokens.indexOf(key),idf=self.idf(key),exactMatchBoost=key===token?10:1,set=new lunr.SortedSet;if(pos>-1)queryArr[pos]=tf*idf*exactMatchBoost;return Object.keys(self.tokenStore.get(key)).forEach(function(ref){set.add(ref)}),memo.union(set)},new lunr.SortedSet);documentSets.push(set)},this);var documentSet=documentSets.reduce(function(memo,set){return memo.intersect(set)}),queryVector=new lunr.Vector(queryArr);return documentSet.map(function(ref){return{ref:ref,score:queryVector.similarity(this.documentVector(ref))}},this).sort(function(a,b){return b.score-a.score})},lunr.Index.prototype.documentVector=function(documentRef){for(var documentTokens=this.documentStore.get(documentRef),documentTokensLength=documentTokens.length,documentArr=new Array(this.corpusTokens.length),i=0;documentTokensLength>i;i++){var token=documentTokens.elements[i],tf=this.tokenStore.get(token)[documentRef].tf,idf=this.idf(token);documentArr[this.corpusTokens.indexOf(token)]=tf*idf}return new lunr.Vector(documentArr)},lunr.Index.prototype.toJSON=function(){return{version:lunr.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},lunr.Store=function(){this.store={},this.length=0},lunr.Store.load=function(serialisedData){var store=new this;return store.length=serialisedData.length,store.store=Object.keys(serialisedData.store).reduce(function(memo,key){return memo[key]=lunr.SortedSet.load(serialisedData.store[key]),memo},{}),store},lunr.Store.prototype.set=function(id,tokens){this.store[id]=tokens,this.length=Object.keys(this.store).length},lunr.Store.prototype.get=function(id){return this.store[id]},lunr.Store.prototype.has=function(id){return id in this.store},lunr.Store.prototype.remove=function(id){if(this.has(id))delete this.store[id],this.length--},lunr.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},lunr.stemmer=function(){var step2list={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},step3list={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},c="[^aeiou]",v="[aeiouy]",C=c+"[^aeiouy]*",V=v+"[aeiou]*",mgr0="^("+C+")?"+V+C,meq1="^("+C+")?"+V+C+"("+V+")?$",mgr1="^("+C+")?"+V+C+V+C,s_v="^("+C+")?"+v;return function(w){var stem,suffix,firstch,re,re2,re3,re4;if(w.length<3)return w;if(firstch=w.substr(0,1),"y"==firstch)w=firstch.toUpperCase()+w.substr(1);if(re=/^(.+?)(ss|i)es$/,re2=/^(.+?)([^s])s$/,re.test(w))w=w.replace(re,"$1$2");else if(re2.test(w))w=w.replace(re2,"$1$2");if(re=/^(.+?)eed$/,re2=/^(.+?)(ed|ing)$/,re.test(w)){var fp=re.exec(w);if(re=new RegExp(mgr0),re.test(fp[1]))re=/.$/,w=w.replace(re,"")}else if(re2.test(w)){var fp=re2.exec(w);if(stem=fp[1],re2=new RegExp(s_v),re2.test(stem))if(w=stem,re2=/(at|bl|iz)$/,re3=new RegExp("([^aeiouylsz])\\1$"),re4=new RegExp("^"+C+v+"[^aeiouwxy]$"),re2.test(w))w+="e";else if(re3.test(w))re=/.$/,w=w.replace(re,"");else if(re4.test(w))w+="e"}if(re=/^(.+?)y$/,re.test(w)){var fp=re.exec(w);if(stem=fp[1],re=new RegExp(s_v),re.test(stem))w=stem+"i"}if(re=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,re.test(w)){var fp=re.exec(w);if(stem=fp[1],suffix=fp[2],re=new RegExp(mgr0),re.test(stem))w=stem+step2list[suffix]}if(re=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,re.test(w)){var fp=re.exec(w);if(stem=fp[1],suffix=fp[2],re=new RegExp(mgr0),re.test(stem))w=stem+step3list[suffix]}if(re=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,re2=/^(.+?)(s|t)(ion)$/,re.test(w)){var fp=re.exec(w);if(stem=fp[1],re=new RegExp(mgr1),re.test(stem))w=stem}else if(re2.test(w)){var fp=re2.exec(w);if(stem=fp[1]+fp[2],re2=new RegExp(mgr1),re2.test(stem))w=stem}if(re=/^(.+?)e$/,re.test(w)){var fp=re.exec(w);if(stem=fp[1],re=new RegExp(mgr1),re2=new RegExp(meq1),re3=new RegExp("^"+C+v+"[^aeiouwxy]$"),re.test(stem)||re2.test(stem)&&!re3.test(stem))w=stem}if(re=/ll$/,re2=new RegExp(mgr1),re.test(w)&&re2.test(w))re=/.$/,w=w.replace(re,"");if("y"==firstch)w=firstch.toLowerCase()+w.substr(1);return w}}(),lunr.Pipeline.registerFunction(lunr.stemmer,"stemmer"),lunr.stopWordFilter=function(token){if(-1===lunr.stopWordFilter.stopWords.indexOf(token))return token;else return void 0},lunr.stopWordFilter.stopWords=new lunr.SortedSet,lunr.stopWordFilter.stopWords.length=119,lunr.stopWordFilter.stopWords.elements=["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"],lunr.Pipeline.registerFunction(lunr.stopWordFilter,"stopWordFilter"),lunr.TokenStore=function(){this.root={docs:{}},this.length=0},lunr.TokenStore.load=function(serialisedData){var store=new this;return store.root=serialisedData.root,store.length=serialisedData.length,store},lunr.TokenStore.prototype.add=function(token,doc,root){var root=root||this.root,key=token[0],rest=token.slice(1);if(!(key in root))root[key]={docs:{}};if(0===rest.length)return root[key].docs[doc.ref]=doc,this.length+=1,void 0;else return this.add(rest,doc,root[key])},lunr.TokenStore.prototype.has=function(token,root){var root=root||this.root,key=token[0],rest=token.slice(1);if(!(key in root))return!1;if(0===rest.length)return!0;else return this.has(rest,root[key])},lunr.TokenStore.prototype.getNode=function(token,root){var root=root||this.root,key=token[0],rest=token.slice(1);if(!(key in root))return{};if(0===rest.length)return root[key];else return this.getNode(rest,root[key])},lunr.TokenStore.prototype.get=function(token,root){return this.getNode(token,root).docs||{}},lunr.TokenStore.prototype.remove=function(token,ref,root){var root=root||this.root,key=token[0],rest=token.slice(1);if(key in root)if(0===rest.length)delete root[key].docs[ref];else return this.remove(rest,ref,root[key])},lunr.TokenStore.prototype.expand=function(token,memo){var root=this.getNode(token),docs=root.docs||{},memo=memo||[];if(Object.keys(docs).length)memo.push(token);return Object.keys(root).forEach(function(key){if("docs"!==key)memo.concat(this.expand(token+key,memo))},this),memo},lunr.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},lunr}),define("js/models/autocomplete",["jquery","backbone","underscore","js/lib/lunr","js/collections/topics","js/lib/util"],function($,Backbone,_,lunr,Topics,util){var itemTypes=[{id:"topic",label:"Courses",numDisplay:5},{id:"category",label:"Topics",numDisplay:3},{id:"instructor",label:"Instructors",numDisplay:3},{id:"university",label:"Universities",numDisplay:3}],additionalSearchData={"University of Pennsylvania":"Wharton Business School"},autocomplete=Backbone.Model.extend({_topicWeight:function(topic){var minWeight=.1,futureDecay=60,pastDecay=20;if(!topic.get("open_course"))return minWeight;var days=topic.get("open_course").getStartDiff(),absDay=Math.abs(days);if(days>=0)return(1-minWeight)*Math.exp(-absDay/futureDecay)+minWeight;if(0>days)return(1-minWeight)*Math.exp(-absDay/pastDecay)+minWeight;else return void 0},loadData:function(){var self=this;if(!this.get("deferredData")){var deferredData=Topics.singletonReadAll().pipe(function(topics,rawJson){var items=[],i,item;for(topics.each(function(topic){var unis=_.pluck(topic.get("universities"),"name"),additionalSearch=unis.concat(_.chain(unis).map(function(uni){return additionalSearchData[uni]}).compact().value());item={id:items.length,type:"topic",name:topic.get("name"),url:"course/"+topic.get("short_name"),additionalSearch:additionalSearch.join(" "),weight:self._topicWeight(topic)},items.push(item)}),i=0;i<rawJson.insts.length;i++){var inst=rawJson.insts[i];item={id:items.length,type:"instructor",name:util.concatName(inst),url:inst.short_name?"instructor/"+inst.short_name:"instructor/~"+inst.id,weight:1},items.push(item)}for(i=0;i<rawJson.cats.length;i++){var c=rawJson.cats[i];item={id:items.length,type:"category",name:c.name,url:"courses?cats="+c.short_name,weight:1},items.push(item)}for(i=0;i<rawJson.unis.length;i++){var u=rawJson.unis[i];if(u.display){var additionalSearch=[u.short_name];additionalSearch.push(additionalSearchData[u.name]),item={id:items.length,type:"university",name:u.name,additionalSearch:additionalSearch.join(" "),url:"/"+u.short_name,weight:1},items.push(item)}else;}_.each(items,function(item){item.nameLatinized=util.removeDiacritics(item.name),item.searchString=item.nameLatinized+" "+(item.additionalSearch||"")});var searchIndex=new lunr.Index;return searchIndex.field("searchString"),searchIndex.ref("id"),_.each(items,function(item){searchIndex.add(item)}),{items:items,searchIndex:searchIndex}});this.set("deferredData",deferredData)}},search:function(searchString){return this.loadData(),this.get("deferredData").pipe(function(deferredData){var items=deferredData.items,searchIndex=deferredData.searchIndex,results=[],matchIdxs=searchIndex.search(util.removeDiacritics(searchString)),matches=_.map(matchIdxs,function(matchIdx){return items[matchIdx.ref].score=matchIdx.score*items[matchIdx.ref].weight,items[matchIdx.ref]}),matchGroups=_.groupBy(matches,"type");results=results.concat(_.map(itemTypes,function(type){return matchGroups[type.id]=matchGroups[type.id]||[],matchGroups[type.id]=_.sortBy(matchGroups[type.id],function(match){return-match.score}),{label:type.label,items:_.first(matchGroups[type.id],type.numDisplay)}}));var searchTokens=lunr.tokenizer(util.removeDiacritics(searchString));return _.each(_.flatten(_.pluck(results,"items")),function(match){match.positions=[];for(var i=0;i<match.name.length;i++)match.positions.push(!1);_.each(searchTokens,function(token){for(var matchLength=token.length;matchLength>=1;matchLength--){for(var matchFound=!1,regexp=new RegExp("(^| )"+token.substr(0,matchLength),"gi");m=regexp.exec(match.nameLatinized);){for(var j=0;matchLength>j;j++)match.positions[m.index+j+(" "==m[1]?1:0)]=!0;matchFound=!0}if(matchFound)break}});for(var nameHilighted="",hilightSection=!1,k=0;k<match.name.length;k++){if(match.positions[k]&&!hilightSection)nameHilighted+="<strong>",hilightSection=!0;if(!match.positions[k]&&hilightSection)nameHilighted+="</strong>",hilightSection=!1;nameHilighted+=match.name[k]}if(hilightSection)nameHilighted+="</strong>";match.nameHilighted=nameHilighted}),results})}});return autocomplete}),define("pages/home/front/frontAutocomplete",["js/core/brbraitt","backbone","jquery","underscore","pages/home/front/frontAutocompleteEntries.html","i18n!pages/home/front/nls/frontAutocompleteEntries","js/models/autocomplete","js/lib/brbraitt.ab"],function(brbraitt,Backbone,$,_,entriesTemplate,entriesTemplate_t,autocompleteModel,AB){var menu=Backbone.View.extend({events:{"mouseover li>ul>li":"_mouseover","click li>ul>li":"_click"},tagName:"ul",className:"brbraitt-front-autocomplete-menu",render:function(suggestions,searchString){var self=this;this.$el.empty(),this.$el.append(entriesTemplate({_t:entriesTemplate_t,suggestions:suggestions,searchString:searchString}))},move:function(dir){var activeIdx=this.$("li>ul>li").index(this.$(".active"));this.$("li>ul>li").removeClass("active");var newActiveIdx=activeIdx+dir;if(-1==newActiveIdx)newActiveIdx=this.$("li>ul>li").length-1;if(newActiveIdx==this.$("li>ul>li").length)newActiveIdx=0;if(newActiveIdx>=0)this.$("li>ul>li").eq(newActiveIdx).addClass("active")},navigateActive:function(searchString){var activeIdx=this.$("li>ul>li").index(this.$(".active")),$active=this.$(".active");if(0===$active.length)return!1;var url=$active.find("a").attr("href");return this.trigger("navigateTo",url,activeIdx),brbraitt.router.navigate(url,{trigger:!0}),!0},_mouseover:function(e){this.$("li>ul>li").removeClass("active"),$(e.currentTarget).addClass("active")},_click:function(e){this.$("li>ul>li").removeClass("active"),$(e.currentTarget).addClass("active"),this.navigateActive()}}),autocomplete=Backbone.View.extend({events:{keydown:"_keydown",focus:"_focus",blur:"_blur"},initialize:function(){var self=this;this.menu=new menu,this.model=new autocompleteModel,this._searchDebounce=_.debounce(_.bind(this._search,this),20),this.lastSearch="",this._trackDebounce=_.debounce(_.bind(function(){if(this.lastSearch)brbraitt.multitracker.push(["user.brbraitt.front.autocomplete.input",this.lastSearch])},this),400),this.menu.on("navigateTo",function(url,activeIdx){brbraitt.multitracker.push(["user.brbraitt.front.autocomplete.navigate",url+"|"+self.$el.val()+"|"+activeIdx]),AB.session.getExperiment("homepage_course_count2").convert("search-result-click"),AB.session.getExperiment("homepage_browse_all_placement2").convert("search-result-click"),AB.session.getExperiment("homepage_banner_size2").convert("search-result-click"),AB.session.getExperiment("homepage_promos2").convert("search-result-click"),AB.session.getExperiment("homepage_sort_course_3").convert("search-result-click"),self._closeMenu()})},render:function(){this.$el.attr("autocomplete","off"),this.menu.$el.hide(),this.$el.after(this.menu.$el)},_closeMenu:function(){this.menu.$el.hide()},_suggest:function(suggestions,searchString){this.menu.render(suggestions,searchString),this.menu.$el.show()},_search:function(forceRedo){var self=this,searchString=this.$el.val();if(searchString!=this.lastSearch||forceRedo)if(this.lastSearch=searchString,this._trackDebounce(),searchString.length>=3)this.model.search(searchString).done(function(searchResults){self._suggest(searchResults,searchString)});else this._closeMenu()},_keydown:function(e){switch(e.which){case 13:return!this.menu.navigateActive();case 27:this._searchDebounce(!0);break;case 38:return this.menu.move(-1),!1;case 40:return this.menu.move(1),!1;default:this._searchDebounce()}},_blur:function(e){setTimeout(_.bind(this._closeMenu,this),400)},_focus:function(e){this._searchDebounce(!0)}});return autocomplete}),define("js/lib/placeholder",["jquery"],function($){var c="placeholder",hasNativeSupport=c in document.createElement("input")&&c in document.createElement("textarea");$.fn.placeholder=function(){if(this.length)return this.each(function(){function hideInput(el){el.css({position:"absolute",left:"-9999em",tabindex:-1})}function showInput(el){el.css({position:"",left:""}).removeAttr("tabindex")}function placeholderOnFocus(ev){if(!hasNativeSupport&&e.data("placeholder")){var el=ispassword?fakePassw.get(0):e.get(0);if(el.createTextRange){var range=el.createTextRange();range.moveStart("character",0),range.collapse(),range.select()}else if(el.setSelectionRange)el.setSelectionRange(0,0)}}function invisibleKeyCode(k){return k>-1&&48>k&&32!=k||k>90&&96>k||k>111&&186>k||k>192&&219>k||k>219&&220>k}function placeholderOnKeyDown(ev){if(e.hasClass(c)&&!invisibleKeyCode(ev.which)){if(!hasNativeSupport&&e.data("placeholder"))if(e.val(""),e.data("placeholder",!1),ispassword)hideInput(fakePassw),showInput(e),e.focus();e.removeClass(c)}}function placeholderOnKeyUp(ev){if(!hasNativeSupport&&""===e.attr("value")){if(e.data("placeholder",!0),ispassword)hideInput(e),showInput(fakePassw),fakePassw.focus();else e.addClass(c),e.val(d);if(e.get(0).createTextRange){var range=e.get(0).createTextRange();range.moveStart("character",0),range.collapse(),range.select()}else if(e.get(0).setSelectionRange)e.get(0).setSelectionRange(0,0)}}function placeholderOnBlur(ev){if(""===e.val())if(e.addClass(c),!hasNativeSupport)if(e.data("placeholder",!0),!ispassword)e.val(d);else showInput(fakePassw),hideInput(e)}var e=$(this),d=e.attr("placeholder"),ispassword="password"===e.attr("type"),fakePassw,inputCssClass,size;if(ispassword&&!hasNativeSupport)fakePassw=$("<input>").attr({type:"text",value:d,"class":e.attr("class"),style:e.attr("style")}),e.before(fakePassw),fakePassw.bind("keydown.placeholder",placeholderOnKeyDown),fakePassw.bind("focus.placeholder",placeholderOnFocus);else e.bind("keydown.placeholder",placeholderOnKeyDown);e.data("placeholder",!0),e.bind("blur.placeholder",placeholderOnBlur).trigger("blur.placeholder"),e.bind("focus.placeholder",placeholderOnFocus),e.bind("keyup.placeholder",placeholderOnKeyUp)});else return void 0};var $val;if(!hasNativeSupport)$val=$.fn.val,$.fn.val=function(value){if(!arguments.length){var input=$(this);return input.data("placeholder")&&input.attr("value")==input.attr("placeholder")?"":$val.call(this)}return $val.call(this,value)}}),define("pages/home/front/frontSearchBanner",["js/core/brbraitt","backbone","underscore","jquery","pages/home/front/frontSearchBanner.html","i18n!pages/home/front/nls/frontSearchBanner","i18n!js/json/nls/universities","js/models/frontdata","js/json/searchBanners","pages/home/front/frontAutocomplete","js/lib/placeholder","js/lib/util","js/lib/brbraitt.ab"],function(brbraitt,Backbone,_,$,template,_t,universities_t,FrontData,searchBanners,autocomplete,placeholder,util,AB){_t=_t.merge(universities_t);var frontSearchBanner=Backbone.View.extend({events:{"submit form.brbraitt-front-search-banner-form":"searchSubmit","click .brbraitt-front-search-banner-join a":"onLinkClick","click .brbraitt-front-unilink a":"onLinkClick"},onLinkClick:function(e){var href=$(e.currentTarget).attr("href");brbraitt.multitracker.push(["user.click.search-banner-link",href]),AB.session.getExperiment("homepage_banner_size2").convert("banner-link")},initialize:function(){var self=this;this.generic=!("signedInUser"in self.options&&self.options.signedInUser),this.bind("view:closing",function(){window.clearInterval(self.joinTimer)}),this.bind("view:appended",function(){self.$("input[placeholder]").placeholder(),self.$("#brbraitt-front-search-banner-input").focus()})},render:function(){var self=this,bannerIndex=Math.floor(Math.random()*searchBanners.length),searchBanner=searchBanners[bannerIndex],chosen=AB.session.getExperiment("homepage_banner_size2").getChosenVariant();if(self.$el.append(template({_t:_t,config:brbraitt.config,searchBanner:searchBanner,generic:self.generic,shortBanner:chosen.indexOf("short")>=0,hideHowItWorks:chosen.indexOf("no_howitworks")>=0||chosen.indexOf("signature_track")>=0||chosen.indexOf("verified_certificate")>=0,showSigtrackCta:chosen.indexOf("signature_track")>=0,showVerifiedCta:chosen.indexOf("verified_certificate")>=0})),new autocomplete({el:this.$("#brbraitt-front-search-banner-input")}).render(),self.generic)FrontData.singletonRead().done(function(frontData){self.$(".brbraitt-front-search-banner-courses-count").text(frontData.get("total_courses")),self.$(".brbraitt-front-search-banner-universities-count").text(frontData.get("total_universities")),self.$(".brbraitt-front-search-banner-hide2").show();var signupStats=frontData.get("signup_stats");self.startNum=signupStats.total,self.joinRate=signupStats.rate,self.startDate=new Date(1e3*signupStats.updated)}).always(function(){if(!self.startNum)self.startNum=1001956,self.joinRate=.1123,self.startDate=new Date(1344451016235);self.joinTimer=window.setInterval(_.bind(self.updateJoinNum,self),1e4),self.updateJoinNum()})},searchSubmit:function(e){e.preventDefault();var searchBannerInput=this.$("#brbraitt-front-search-banner-input");brbraitt.multitracker.push(["user.brbraitt.front.search",searchBannerInput.val()]),brbraitt.router.navigate(brbraitt.config.dir.home+"courses?search="+searchBannerInput.val(),{trigger:!0}),AB.session.getExperiment("homepage_course_count2").convert("search"),AB.session.getExperiment("homepage_browse_all_placement2").convert("search")},updateJoinNum:function(){var self=this,secondsSince=((new Date).getTime()-self.startDate.getTime())/1e3,numJoined=Math.ceil(secondsSince*self.joinRate),currentNum=self.startNum+numJoined;currentNum=currentNum.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1,"),this.$(".brbraitt-front-search-banner-join").show(),this.$(".brbraitt-front-search-banner-students-count").text(currentNum)}});return frontSearchBanner}),define("pages/home/template/body",["underscore","backbone"],function(_,Backbone){var body=Backbone.View.extend({name:"body",attributes:{role:"article"},className:"brbraitt-body"});return body}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,showPromos=locals_.showPromos,promos=locals_.promos,config=locals_.config;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="brbraitt-front-search-banner"></div><div class="container"><div class="brbraitt-front-sections"><div class="brbraitt-front-courses"></div>'),showPromos){buf.push('<div class="brbraitt-front-promos"><div class="row-fluid brbraitt-front-section-header"><span class="brbraitt-front-section-header-title">'+jade.escape(null==(jade.interp=_t("Recent News"))?"":jade.interp)+'</span><span class="brbraitt-front-section-header-link"><a href="http://blog.brbraitt.org">'+jade.escape(null==(jade.interp=_t("View blog Â»"))?"":jade.interp)+"</a></span></div>");for(var i=0;i<promos.length;i++)buf.push('<div class="brbraitt-front-promos-listing"><a'+jade.attrs({href:promos[i].url},{href:!0})+'> <div class="brbraitt-front-promos-listing-box brbraitt-promos-listing-box"><img'+jade.attrs({src:config.url.assets+"images/promos/"+promos[i].image},{src:!0})+"/></div><span>"+jade.escape(null==(jade.interp=_t(promos[i].title))?"":jade.interp)+"</span></a></div>");buf.push("</div>")}return buf.push('</div><div class="brbraitt-endpage"></div></div>'),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/front/frontBody.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.front.frontBody"]=jadify(wndw.jade.helpers)}(window),define("pages/home/front/nls/frontBody",{root:!0,zh:!0}),define("pages/home/front/nls/root/frontBody",{"Recent News":"Recent News","View blog Â»":"View blog Â»"}),define("js/json/promos",[],function(){return[{id:"story_0023_brbraittstore",title:"The brbraitt Store: supporting Education for Everyone",image:"story_0023_brbraittstore.jpg",url:"http://blog.brbraitt.org/post/52856244062/the-brbraitt-store-supporting-education-for-everyone"},{id:"story_0022_statesystems",title:"10 US State University Systems & Public Institutions Join brbraitt",image:"story_0022_statesystems.jpg",url:"http://blog.brbraitt.org/post/51696469860/10-us-state-university-systems-and-public-institutions"},{id:"story_0021_teacher-pd",title:"Professional Development: Lifelong Learning for Teachers",image:"story_0021_teacher-pd.jpg",url:"http://blog.brbraitt.org/post/49331574337/brbraitt-announces-professional-development-courses-to"},{id:"story_0019_new-courses",title:"29 New Schools, 92 New Courses, 5 Languages!",image:"story_0019_new-courses.png",url:"http://blog.brbraitt.org/post/43625628117/29-new-schools-92-new-courses-5-languages-4"}]}),define("pages/home/front/frontBody",["pages/home/template/body","js/core/brbraitt","js/lib/moment","js/lib/brbraitt.ab","underscore","backbone","jquery","pages/home/front/frontBody.html","i18n!pages/home/front/nls/frontBody","js/collections/topics","js/json/promos"],function(body,brbraitt,moment,AB,_,Backbone,$,template,template_t,Topics,promos){var frontBody=body.extend({initialize:function(){var self=this;document.title="brbraitt"},events:{"click .brbraitt-front-promos .brbraitt-front-promos-listing a":"onPromoClick","click .brbraitt-front-promos .brbraitt-front-section-header-link a":"onPromoClick"},onPromoClick:function(e){var href=$(e.currentTarget).attr("href");brbraitt.multitracker.push(["user.click.recent-news-link",href])},render:function(){var self=this,chosen=AB.session.getExperiment("homepage_promos2").getChosenVariant();return self.$el.append(template({_t:template_t,promos:promos,showPromos:"show"==chosen,config:brbraitt.config})),brbraitt.region.append(self.region,"pages/home/front/frontSearchBanner",{},function(region){self.$(".brbraitt-front-search-banner").append(region.view.el)}),brbraitt.region.append(self.region,"pages/home/front/frontCourse",{},function(region){self.$(".brbraitt-front-courses").append(region.view.el)}),self}});return frontBody}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,showBrowseTop=locals_.showBrowseTop,config=locals_.config,showBrowseBottom=locals_.showBrowseBottom;if(_t="undefined"!=typeof _t?_t:function(s){return s},showBrowseTop)buf.push('<a href="/courses" class="internal-home brbraitt-view-all-link brbraitt-to-catalog-link browse_all_top">'+jade.escape(null==(jade.interp=_t("View all courses"))?"":jade.interp)+"</a>");var klass="brbraitt-front-course-listing brbraitt-front-course-soon"+(showBrowseTop?" no-margin":"");if(buf.push("<div"+jade.attrs({"class":[klass]},{"class":!0})+"><span>"+(null==(jade.interp=_t("Loading&nbsp;&nbsp;"))?"":jade.interp)+"</span><img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})+"/></div>"),showBrowseBottom)buf.push('<a href="/courses" class="internal-home brbraitt-view-all-link brbraitt-to-catalog-link">'+jade.escape(null==(jade.interp=_t("View all courses"))?"":jade.interp)+"</a>");return buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/front/frontCourse.html",["js/lib/jade"],function(jade){return jadify(jade)
});else wndw.jade.templates["pages.home.front.frontCourse"]=jadify(wndw.jade.helpers)}(window),define("pages/home/front/nls/frontCourse",{root:!0,zh:!0}),define("pages/home/front/nls/root/frontCourse",{"View all courses":"View all courses","Loading&nbsp;&nbsp;":"Loading&nbsp;&nbsp;"}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,language=locals_.language,topic=locals_.topic,config=locals_.config,showNative=locals_.showNative,showSubtitle=locals_.showSubtitle;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push("<div"+jade.attrs({style:language?"height:254px;":"","class":["brbraitt-course-card"]},{style:!0})+'><div class="brbraitt-course-card-image"><a'+jade.attrs({href:topic.get("social_link"),"class":["internal-home","brbraitt-front-to-course-link"]},{href:!0})+"><img"+jade.attrs({src:topic.get("large_icon")},{src:!0})+'/></a></div><div class="brbraitt-course-card-details"><a'+jade.attrs({href:topic.get("social_link"),"class":["internal-home","brbraitt-front-to-course-link"]},{href:!0})+'><h3 class="brbraitt-course-card-name">'+jade.escape(null==(jade.interp=_t(topic.get("name")))?"":jade.interp)+'</h3></a><div style="line-height:17px;">'),function(){var $$obj=topic.getUniqueUniversities();if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var university=$$obj[$index];if(buf.push("<a"+jade.attrs({href:university.home_link||config.dir.home+university.short_name,"class":[university.home_link?"":"internal-home"]},{"class":!0,href:!0})+'><span class="brbraitt-course-card-uni">'),topic.getUniqueUniversities().length>1)buf.push(""+jade.escape(null==(jade.interp=_t(university.abbr_name||university.name))?"":jade.interp));else buf.push(""+jade.escape(null==(jade.interp=_t(university.name))?"":jade.interp));buf.push("</span></a>, ")}else{var $$l=0;for(var $index in $$obj){$$l++;var university=$$obj[$index];if(buf.push("<a"+jade.attrs({href:university.home_link||config.dir.home+university.short_name,"class":[university.home_link?"":"internal-home"]},{"class":!0,href:!0})+'><span class="brbraitt-course-card-uni">'),topic.getUniqueUniversities().length>1)buf.push(""+jade.escape(null==(jade.interp=_t(university.abbr_name||university.name))?"":jade.interp));else buf.push(""+jade.escape(null==(jade.interp=_t(university.name))?"":jade.interp));buf.push("</span></a>, ")}}}.call(this),buf.push('<span class="brbraitt-course-card-startdate">'),topic.get("open_course"))buf.push(""+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartDisplayShort()))?"":jade.interp));else buf.push(""+jade.escape(null==(jade.interp=_t("Date TBA"))?"":jade.interp));if(buf.push("</span>"),language){if(buf.push('<br/><span class="brbraitt-course-card-language">'),showNative)buf.push(""+jade.escape(null==(jade.interp=_t("Taught in #{language}",{language:language}))?"":jade.interp));if(showSubtitle)buf.push(""+jade.escape(null==(jade.interp=_t("#{language} subtitle available",{language:language}))?"":jade.interp));buf.push("</span>")}return buf.push("</div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/front/frontTopicIcon.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.front.frontTopicIcon"]=jadify(wndw.jade.helpers)}(window),define("pages/home/front/nls/frontTopicIcon",{root:!0,zh:!0}),define("pages/home/front/nls/root/frontTopicIcon",{"Date TBA":"Date TBA","Taught in #{language}":"Taught in #{language}","#{language} subtitle available":"#{language} subtitle available"}),define("js/json/nls/topics",{root:!0,zh:!0}),define("js/json/nls/root/topics",{"Violence: A Multidisciplinary Inquiry":"Violence: A Multidisciplinary Inquiry","The Holocaust":"The Holocaust","The Ancient Greeks":"The Ancient Greeks","Confronting The Big Questions: Highlights of Modern Astronomy":"Confronting The Big Questions: Highlights of Modern Astronomy","Globalization and You":"Globalization and You","Common Core in Action: Math Formative Assessment":"Common Core in Action: Math Formative Assessment","An Introduction to Corporate Finance":"An Introduction to Corporate Finance","ÐÐ°ÐºÑÐ¾ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ° (Macroeconomics)":"ÐÐ°ÐºÑÐ¾ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ° (Macroeconomics)","Social and Economic Networks:  Models and Analysis":"Social and Economic Networks:  Models and Analysis","English Common Law: Structure and Principles":"English Common Law: Structure and Principles","Introduction to Recommender Systems":"Introduction to Recommender Systems","Introduction to Sustainability":"Introduction to Sustainability","Blended Learning:  Personalizing Education for Students":"Blended Learning:  Personalizing Education for Students","Fundamentals of Audio and Music Engineering: Part 1 Musical Sound & Electronics":"Fundamentals of Audio and Music Engineering: Part 1 Musical Sound & Electronics","Science, Technology, and Society in China III: The Present & Policy Implications":"Science, Technology, and Society in China III: The Present & Policy Implications","Mathematical Methods for Quantitative Finance":"Mathematical Methods for Quantitative Finance","Computational Methods for Data Analysis":"Computational Methods for Data Analysis","Archaeology's Dirty Little Secrets":"Archaeology's Dirty Little Secrets","Music's Big Bang: How American Roots Music Gave Birth to Rock 'n' Roll":"Music's Big Bang: How American Roots Music Gave Birth to Rock 'n' Roll","Evaluation financiÃ¨re de l'entreprise":"Evaluation financiÃ¨re de l'entreprise","Global Health: An Interdisciplinary Overview":"Global Health: An Interdisciplinary Overview","Exploring Quantum Physics":"Exploring Quantum Physics","ÐÐ²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð±Ð¸Ð¾Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸ÐºÑ: Ð±Ð¸Ð¾Ð¸Ð½ÑÐ¾ÑÐ½Ð°ÑÐ¸ÐºÐ° Ð² Ð±Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¸ Ð¼ÐµÐ´Ð¸ÑÐ¸Ð½Ðµ":"ÐÐ²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð±Ð¸Ð¾Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸ÐºÑ: Ð±Ð¸Ð¾Ð¸Ð½ÑÐ¾ÑÐ½Ð°ÑÐ¸ÐºÐ° Ð² Ð±Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¸ Ð¼ÐµÐ´Ð¸ÑÐ¸Ð½Ðµ","Big Data in Education":"Big Data in Education","Age of Jefferson":"Age of Jefferson","L'art des structures 1 : CÃ¢bles et arcs":"L'art des structures 1 : CÃ¢bles et arcs","Engaging Students through Cooperative Learning":"Engaging Students through Cooperative Learning","The Future of Humankind":"The Future of Humankind","Introduction to Philosophy":"Introduction to Philosophy","Energy, the Environment, and Our Future":"Energy, the Environment, and Our Future","La visione del mondo della RelativitÃ  e della Meccanica Quantistica":"La visione del mondo della RelativitÃ  e della Meccanica Quantistica","Startup Engineering":"Startup Engineering","Coding the Matrix: Linear Algebra through Computer Science Applications":"Coding the Matrix: Linear Algebra through Computer Science Applications","Introductory Physics I with Laboratory":"Introductory Physics I with Laboratory","Pattern-Oriented Software Architectures for Concurrent and Networked Mobile Devices and Clouds":"Pattern-Oriented Software Architectures for Concurrent and Networked Mobile Devices and Clouds","Instructional Methods in Health Professions Education":"Instructional Methods in Health Professions Education","Leading Strategic Innovation in Organizations":"Leading Strategic Innovation in Organizations","Building an Information Risk Management Toolkit":"Building an Information Risk Management Toolkit","Modern European Mysticism and Psychological Thought":"Modern European Mysticism and Psychological Thought","äººç¾¤ä¸ç½ç» People & Networks":"äººç¾¤ä¸ç½ç» People & Networks","Unpredictable? Randomness, Chance and Free Will":"Unpredictable? Randomness, Chance and Free Will","Planet Earth":"Planet Earth","Human Evolution: Past and Future":"Human Evolution: Past and Future","Foundations of Teaching for Learning 5: Planning for Teaching and Learning":"Foundations of Teaching for Learning 5: Planning for Teaching and Learning","Synapses, Neurons and Brains ":"Synapses, Neurons and Brains ","Greek and Roman Mythology":"Greek and Roman Mythology","EinfÃ¼hrung in Computer Vision":"EinfÃ¼hrung in Computer Vision","æ³ä¸ç¤¾ä¼ Law and Society":"æ³ä¸ç¤¾ä¼ Law and Society","Principles of Obesity Economics":"Principles of Obesity Economics","Computational Investing, Part I":"Computational Investing, Part I",'"Pay Attention!!" ADHD Through the Lifespan':'"Pay Attention!!" ADHD Through the Lifespan',"Health for All Through Primary Health Care":"Health for All Through Primary Health Care","Applications in Engineering Mechanics":"Applications in Engineering Mechanics","Financing and Investing in Infrastructure":"Financing and Investing in Infrastructure","Integrating Engineering Into Your Science Classroom":"Integrating Engineering Into Your Science Classroom","Preparation for Introductory Biology: DNA to Organisms":"Preparation for Introductory Biology: DNA to Organisms","Foundations of Teaching for Learning 8: Developing Relationships":"Foundations of Teaching for Learning 8: Developing Relationships","Effective Classroom Interactions: Supporting Young Childrenâs Development":"Effective Classroom Interactions: Supporting Young Childrenâs Development","VLSI CAD:  Logic to Layout":"VLSI CAD:  Logic to Layout","Ãok DeÄiÅkenli Fonksiyonlarda TÃ¼rev ve Entegral":"Ãok DeÄiÅkenli Fonksiyonlarda TÃ¼rev ve Entegral","Fundamentals of Rehearsing Music Ensembles":"Fundamentals of Rehearsing Music Ensembles","Science, Technology, and Society in China I: Basic Concepts":"Science, Technology, and Society in China I: Basic Concepts","Globalization of Business Enterprise":"Globalization of Business Enterprise","Algorithms, Part II":"Algorithms, Part II","Statistical Reasoning for Public Health: Estimation, Inference, & Interpretation":"Statistical Reasoning for Public Health: Estimation, Inference, & Interpretation","Buddhism and Modern Psychology ":"Buddhism and Modern Psychology ","New Models of Business in Society":"New Models of Business in Society","Introduction to Pharmacy":"Introduction to Pharmacy","Financial Markets":"Financial Markets","Principles of Public Health":"Principles of Public Health","Chemistry: Concept Development and Application":"Chemistry: Concept Development and Application","21st Century American Foreign Policy":"21st Century American Foreign Policy","Child Nutrition and Cooking 2.0":"Child Nutrition and Cooking 2.0",Gamification:"Gamification","Introduction to the Clinical Psychology of Children and Young People":"Introduction to the Clinical Psychology of Children and Young People","Statistical Mechanics: Algorithms and Computations":"Statistical Mechanics: Algorithms and Computations","DurabilitÃ© : Ã©tat des lieux planÃ©taire, scÃ©narios envisageables":"DurabilitÃ© : Ã©tat des lieux planÃ©taire, scÃ©narios envisageables","Introduction to Neuroeconomics: how the brain makes decisions":"Introduction to Neuroeconomics: how the brain makes decisions","Physics 1 for Physical Science Majors":"Physics 1 for Physical Science Majors","Image and video processing: From Mars to Hollywood with a stop at the hospital":"Image and video processing: From Mars to Hollywood with a stop at the hospital","Inspiring Leadership through Emotional Intelligence":"Inspiring Leadership through Emotional Intelligence","Conditions of War and Peace":"Conditions of War and Peace","Women and the Civil Rights Movement":"Women and the Civil Rights Movement","Tinkering Fundamentals: Integrating Making Activities into Your STEM Classroom":"Tinkering Fundamentals: Integrating Making Activities into Your STEM Classroom","Emerging Trends & Technologies in the Virtual K-12 Classroom":"Emerging Trends & Technologies in the Virtual K-12 Classroom","Nanotechnology and Nanosensors":"Nanotechnology and Nanosensors","Caries Management by Risk Assessment (CAMBRA)":"Caries Management by Risk Assessment (CAMBRA)","Sustainability of Food Systems: A Global Life Cycle Perspective":"Sustainability of Food Systems: A Global Life Cycle Perspective","Crafting an Effective Writer: Tools of the Trade":"Crafting an Effective Writer: Tools of the Trade","Content Strategy for Professionals: Engaging Audiences for Your Organization":"Content Strategy for Professionals: Engaging Audiences for Your Organization","HistologÃ­a bÃ¡sica: los cuatro tejidos fundamentales ":"HistologÃ­a bÃ¡sica: los cuatro tejidos fundamentales ","å·¥ç¨åå­¸":"å·¥ç¨åå­¸","An Introduction to Financial Accounting":"An Introduction to Financial Accounting","Introduction to Psychology":"Introduction to Psychology","An Introduction to Population Health":"An Introduction to Population Health","Computational Neuroscience":"Computational Neuroscience","Guinea Pigs, Heroes & Desperate Patients: The History & Ethics of Human Research":"Guinea Pigs, Heroes & Desperate Patients: The History & Ethics of Human Research","Scientific Computing":"Scientific Computing","Subsistence Marketplaces":"Subsistence Marketplaces","MOS Transistors":"MOS Transistors","Disaster Preparedness":"Disaster Preparedness","Probabilistic Graphical Models":"Probabilistic Graphical Models","Inquiry Science Learning: Perspectives and Practices 2 - Techniques for Success":"Inquiry Science Learning: Perspectives and Practices 2 - Techniques for Success","ä¸­å»è¯ä¸ä¸­åä¼ ç»æå Traditional Chinese Medicine and Chinese Culture":"ä¸­å»è¯ä¸ä¸­åä¼ ç»æå Traditional Chinese Medicine and Chinese Culture","General Game Playing":"General Game Playing","Drug Discovery, Development & Commercialization ":"Drug Discovery, Development & Commercialization ","Foundations of Teaching for Learning 6: Introduction to Student Assessment":"Foundations of Teaching for Learning 6: Introduction to Student Assessment","Linear and Integer Programming":"Linear and Integer Programming","Coaching Teachers: Promoting Changes that Stick ":"Coaching Teachers: Promoting Changes that Stick ","The Power of Microeconomics: Economic Principles in the Real World":"The Power of Microeconomics: Economic Principles in the Real World","Global Warming: The Science of Climate Change":"Global Warming: The Science of Climate Change","Linear and Discrete Optimization":"Linear and Discrete Optimization","Animal Behaviour and Welfare":"Animal Behaviour and Welfare","Foundations of Virtual Instruction":"Foundations of Virtual Instruction","Comic Books and Graphic Novels":"Comic Books and Graphic Novels","Healthcare Innovation and Entrepreneurship":"Healthcare Innovation and Entrepreneurship","The Brain and Space":"The Brain and Space","Data Analysis":"Data Analysis","æ©å¨å­¸ç¿åºç³ (Machine Learning Foundations)":"æ©å¨å­¸ç¿åºç³ (Machine Learning Foundations)","Economics of Money and Banking, Part One":"Economics of Money and Banking, Part One","Introduction Ã  la programmation orientÃ©e objet (en Java)":"Introduction Ã  la programmation orientÃ©e objet (en Java)","Citizenship and U.S. Immigration":"Citizenship and U.S. Immigration","Mechanics: Motion, Forces, Energy and Gravity, from Particles to Planets":"Mechanics: Motion, Forces, Energy and Gravity, from Particles to Planets","Useful Genetics Part 2":"Useful Genetics Part 2","Useful Genetics Part 1":"Useful Genetics Part 1","Functional Programming Principles in Scala":"Functional Programming Principles in Scala","The Modern and the Postmodern":"The Modern and the Postmodern","An Introduction to Operations Management":"An Introduction to Operations Management","Antimicrobial Stewardship: Optimization of Antibiotic Practices":"Antimicrobial Stewardship: Optimization of Antibiotic Practices","æ©ç (Probability)":"æ©ç (Probability)","A New History for a New China, 1700-2000: New Data and New Methods, Part 1":"A New History for a New China, 1700-2000: New Data and New Methods, Part 1","Calculus One":"Calculus One","Community Change in Public Health":"Community Change in Public Health","The Diversity of Exoplanets":"The Diversity of Exoplanets","Comprendre les MicrocontrÃ´leurs":"Comprendre les MicrocontrÃ´leurs","Soul Beliefs: Causes and Consequences":"Soul Beliefs: Causes and Consequences","Social Network Analysis":"Social Network Analysis","Pregnancy and Childbirth: A Global Perspective":"Pregnancy and Childbirth: A Global Perspective","Introduction to International Criminal Law":"Introduction to International Criminal Law","Surviving Disruptive Technologies":"Surviving Disruptive Technologies","Machine Learning":"Machine Learning","FLOW Education: Facilitating Learning through Outdoor Watershed Education":"FLOW Education: Facilitating Learning through Outdoor Watershed Education","Canine Theriogenology for Dog Enthusiasts":"Canine Theriogenology for Dog Enthusiasts","Listening to World Music":"Listening to World Music","Emergence of Life":"Emergence of Life","Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ° ÑÑÑÐ´Ð° (Labor economics)":"Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ° ÑÑÑÐ´Ð° (Labor economics)","Whatâs Your Big Idea?":"Whatâs Your Big Idea?","Philosophy and the Sciences":"Philosophy and the Sciences","Introductory Organic Chemistry - Part 2":"Introductory Organic Chemistry - Part 2","Accountable TalkÂ®: Conversation that Works":"Accountable TalkÂ®: Conversation that Works","Analytic Combinatorics":"Analytic Combinatorics","Social Entrepreneurship":"Social Entrepreneurship","Property and Liability: An Introduction to Law and Economics":"Property and Liability: An Introduction to Law and Economics","Maps and the Geospatial Revolution":"Maps and the Geospatial Revolution","Creativity, Innovation, and Change":"Creativity, Innovation, and Change","The Kennedy Half Century":"The Kennedy Half Century","Leadership in 21st Century Organizations":"Leadership in 21st Century Organizations","Foundations of Teaching for Learning 1: Introduction":"Foundations of Teaching for Learning 1: Introduction","Introduction to Programming for Musicians and Digital Artists":"Introduction to Programming for Musicians and Digital Artists","Foundations of Teaching for Learning 3: Learners and Learning":"Foundations of Teaching for Learning 3: Learners and Learning","History of the Slave South":"History of the Slave South","History of Rock, Part One":"History of Rock, Part One","Pre-Calculus":"Pre-Calculus","History and Future of (Mostly) Higher Education":"History and Future of (Mostly) Higher Education","Constitutional Struggles in the Muslim World":"Constitutional Struggles in the Muslim World","Experimental Genome Science":"Experimental Genome Science","The Addicted Brain":"The Addicted Brain","Malicious Software and its Underground Economy: Two Sides to Every Story":"Malicious Software and its Underground Economy: Two Sides to Every Story","Sports and Society":"Sports and Society","Model Thinking":"Model Thinking","Network Analysis in Systems Biology":"Network Analysis in Systems Biology","Fundamentals of Music Theory":"Fundamentals of Music Theory","Information Theory":"Information Theory","Diabetes - a Global Challenge":"Diabetes - a Global Challenge","Asset Pricing":"Asset Pricing","An Introduction to the U.S. Food System: Perspectives from Public Health":"An Introduction to the U.S. Food System: Perspectives from Public Health","The Language of Hollywood: Storytelling, Sound, and Color":"The Language of Hollywood: Storytelling, Sound, and Color","International Organizational Behavior and Leadership":"International Organizational Behavior and Leadership","Think Again: How to Reason and Argue":"Think Again: How to Reason and Argue","The Bible's Prehistory, Purpose, and Political Future":"The Bible's Prehistory, Purpose, and Political Future","AlÃ©atoire : une Introduction aux ProbabilitÃ©s ":"AlÃ©atoire : une Introduction aux ProbabilitÃ©s ","Fundamentals of Global Energy Business":"Fundamentals of Global Energy Business","The Science of Safety in Healthcare":"The Science of Safety in Healthcare","Grow to Greatness: Smart Growth for Private Businesses, Part I":"Grow to Greatness: Smart Growth for Private Businesses, Part I",Automata:"Automata","The Power of Markets":"The Power of Markets","Natural Language Processing":"Natural Language Processing","ÐÑÐ½Ð¾Ð²Ñ ÐºÐ¾ÑÐ¿Ð¾ÑÐ°ÑÐ¸Ð²Ð½ÑÑ ÑÐ¸Ð½Ð°Ð½ÑÐ¾Ð² (Fundamentals of Corporate Finance)":"ÐÑÐ½Ð¾Ð²Ñ ÐºÐ¾ÑÐ¿Ð¾ÑÐ°ÑÐ¸Ð²Ð½ÑÑ ÑÐ¸Ð½Ð°Ð½ÑÐ¾Ð² (Fundamentals of Corporate Finance)","Vaccine Trials: Methods and Best Practices":"Vaccine Trials: Methods and Best Practices","Aboriginal Worldviews and Education":"Aboriginal Worldviews and Education","Introduction to Psychology as a Science":"Introduction to Psychology as a Science","Unethical Decision Making in Organizations":"Unethical Decision Making in Organizations","Foundations of Teaching for Learning 4: Curriculum":"Foundations of Teaching for Learning 4: Curriculum","Human-Computer Interaction":"Human-Computer Interaction","Going Out on a Limb: The Anatomy of the Upper Limb":"Going Out on a Limb: The Anatomy of the Upper Limb","èºæ¯å²":"èºæ¯å²","Dino 101: Dinosaur Paleobiology":"Dino 101: Dinosaur Paleobiology","Introduction to Public Speaking":"Introduction to Public Speaking","Epidemiology: The Basic Science of Public Health":"Epidemiology: The Basic Science of Public Health","Ø§ÙØªÙØ§ÙØ© ÙØ§ÙÙØ³ØªØ´Ø¹Ø±Ø§Øª Ø§ÙÙØ§ÙÙÙØ©":"Ø§ÙØªÙØ§ÙØ© ÙØ§ÙÙØ³ØªØ´Ø¹Ø±Ø§Øª Ø§ÙÙØ§ÙÙÙØ©","Understanding and Improving the US Healthcare System":"Understanding and Improving the US Healthcare System","Everything is the Same: Modeling Engineered Systems":"Everything is the Same: Modeling Engineered Systems","åºç¤åå­¸ I (Introduction to Optics I)":"åºç¤åå­¸ I (Introduction to Optics I)","The Role of the Renminbi in the International Monetary System ":"The Role of the Renminbi in the International Monetary System ","Evolution: A Course for Educators":"Evolution: A Course for Educators","On Strategy : What Managers Can Learn from Great Philosophers":"On Strategy : What Managers Can Learn from Great Philosophers","Rationing and Allocating Scarce Medical Resources":"Rationing and Allocating Scarce Medical Resources","Understanding Europe:  Why It Matters and What It Can Offer You":"Understanding Europe:  Why It Matters and What It Can Offer You","Computer Security":"Computer Security","Algorithms: Design and Analysis, Part 1":"Algorithms: Design and Analysis, Part 1","Cryptography I":"Cryptography I","Algorithms: Design and Analysis, Part 2":"Algorithms: Design and Analysis, Part 2","The Camera Never Lies":"The Camera Never Lies","Bioinformatics: Introduction and Methods çç©ä¿¡æ¯å­¦: å¯¼è®ºä¸æ¹æ³":"Bioinformatics: Introduction and Methods çç©ä¿¡æ¯å­¦: å¯¼è®ºä¸æ¹æ³","The Fall and Rise of Jerusalem":"The Fall and Rise of Jerusalem","ÐÑÑÐ¾ÑÐ¸Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÑÐµÑÐºÐ¾Ð¹ Ð¼ÑÑÐ»Ð¸ (History of Economic Thought)":"ÐÑÑÐ¾ÑÐ¸Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÑÐµÑÐºÐ¾Ð¹ Ð¼ÑÑÐ»Ð¸ (History of Economic Thought)","The Fiction of Relationship":"The Fiction of Relationship","Measuring Causal Effects in the Social Sciences":"Measuring Causal Effects in the Social Sciences","Foundations of Business Strategy":"Foundations of Business Strategy","Financial Engineering and Risk Management Part I":"Financial Engineering and Risk Management Part I","Analysis of a Complex Kind":"Analysis of a Complex Kind","Exploring Beethovenâs Piano Sonatas":"Exploring Beethovenâs Piano Sonatas","Energy 101":"Energy 101","Neural Networks for Machine Learning":"Neural Networks for Machine Learning","The Music of the Beatles":"The Music of the Beatles","Children Acquiring Literacy Naturally":"Children Acquiring Literacy Naturally",AIDS:"AIDS","What a Plant Knows (and other things you didnât know about plants)":"What a Plant Knows (and other things you didnât know about plants)","E-learning and Digital Cultures":"E-learning and Digital Cultures","Mathematical Biostatistics Boot Camp 2":"Mathematical Biostatistics Boot Camp 2","Mathematical Biostatistics Boot Camp 1":"Mathematical Biostatistics Boot Camp 1","Designing and Executing Information Security Strategies":"Designing and Executing Information Security Strategies","Introduction to Data Science":"Introduction to Data Science","Conceptos y Herramientas para la FÃ­sica Universitaria":"Conceptos y Herramientas para la FÃ­sica Universitaria","Introduction to Tissue Engineering":"Introduction to Tissue Engineering","Introduction to Astronomy":"Introduction to Astronomy",Warhol:"Warhol","SÃ¸ren Kierkegaard - Subjectivity, Irony and the Crisis of Modernity":"SÃ¸ren Kierkegaard - Subjectivity, Irony and the Crisis of Modernity","Understanding Russians: Contexts of Intercultural Communication":"Understanding Russians: Contexts of Intercultural Communication","Exercise Physiology: Understanding the Athlete Within":"Exercise Physiology: Understanding the Athlete Within","The Brain-Targeted TeachingÂ® Model for 21st Century Schools":"The Brain-Targeted TeachingÂ® Model for 21st Century Schools","Interprofessional Healthcare Informatics":"Interprofessional Healthcare Informatics","Health Informatics in the Cloud":"Health Informatics in the Cloud","Buddhist Meditation and the Modern World":"Buddhist Meditation and the Modern World","Core Concepts in Data Analysis":"Core Concepts in Data Analysis","Turn Down the Heat: Why a 4Â°C Warmer World Must be Avoided":"Turn Down the Heat: Why a 4Â°C Warmer World Must be Avoided","Introduction to Music Production":"Introduction to Music Production","Principles of Macroeconomics":"Principles of Macroeconomics","Introduction to Computing è®¡ç®æ¦è®ºA":"Introduction to Computing è®¡ç®æ¦è®ºA","æ°å­¦ä¹æ The Journey of Mathematics":"æ°å­¦ä¹æ The Journey of Mathematics","æ°æ®ç»æä¸ç®æ³  Data Structures and Algorithms":"æ°æ®ç»æä¸ç®æ³  Data Structures and Algorithms","Learn to Program: Crafting Quality Code":"Learn to Program: Crafting Quality Code","Climate Literacy: Navigating Climate Change Conversations":"Climate Literacy: Navigating Climate Change Conversations","Cryptography II":"Cryptography II","Medical Neuroscience":"Medical Neuroscience","Modern & Contemporary American Poetry":"Modern & Contemporary American Poetry","Imagining Other Earths":"Imagining Other Earths","Les problÃ¨mes mÃ©taphysiques Ã  lâÃ©preuve de la politique, 1943-1968":"Les problÃ¨mes mÃ©taphysiques Ã  lâÃ©preuve de la politique, 1943-1968","Surviving Your Rookie Year of Teaching: 3 Key Ideas & High Leverage Techniques":"Surviving Your Rookie Year of Teaching: 3 Key Ideas & High Leverage Techniques","Introduction to Environmental Law and Policy":"Introduction to Environmental Law and Policy","Common Core in Action: Literacy Across Content Areas":"Common Core in Action: Literacy Across Content Areas","Case-Based Introduction to Biostatistics":"Case-Based Introduction to Biostatistics","Analyzing the Universe":"Analyzing the Universe","The Law of the European Union: An Introduction":"The Law of the European Union: An Introduction","Bioinformatic Methods I":"Bioinformatic Methods I","Fundamentals of Electrical Engineering":"Fundamentals of Electrical Engineering","Using The Next Generation Science Standards for Studentsâ Deeper Understanding ":"Using The Next Generation Science Standards for Studentsâ Deeper Understanding ","Computer Science 101":"Computer Science 101","An Introduction to Marketing":"An Introduction to Marketing","Introduction Ã  la programmation orientÃ©e objet (en C++)":"Introduction Ã  la programmation orientÃ©e objet (en C++)","Data Analysis and Statistical Inference ":"Data Analysis and Statistical Inference ","Global Sustainable Energy: Past, Present and Future":"Global Sustainable Energy: Past, Present and Future","Recovering the Humankind Past and Saving the Universal Heritage":"Recovering the Humankind Past and Saving the Universal Heritage","Volcanic Eruptions: a material science.":"Volcanic Eruptions: a material science.","Principles of Reactive Programming":"Principles of Reactive Programming","Ð­Ð»ÐµÐºÑÑÐ¸ÑÐµÑÑÐ²Ð¾ Ð¸ Ð¼Ð°Ð³Ð½ÐµÑÐ¸Ð·Ð¼ (Electricity and Magnetism)":"Ð­Ð»ÐµÐºÑÑÐ¸ÑÐµÑÑÐ²Ð¾ Ð¸ Ð¼Ð°Ð³Ð½ÐµÑÐ¸Ð·Ð¼ (Electricity and Magnetism)","Introduction to Communication Science":"Introduction to Communication Science","Practical Ethics":"Practical Ethics","Training and Learning Programs for Volunteer Community Health Workers":"Training and Learning Programs for Volunteer Community Health Workers",TechniCity:"TechniCity","Design: Creation of Artifacts in Society":"Design: Creation of Artifacts in Society","Physique gÃ©nÃ©rale - mÃ©canique":"Physique gÃ©nÃ©rale - mÃ©canique","Understanding Terrorism and the Terrorist Threat":"Understanding Terrorism and the Terrorist Threat","Understanding Einstein: The Special Theory of Relativity":"Understanding Einstein: The Special Theory of Relativity","Understanding economic policymaking":"Understanding economic policymaking","Introduction to Sociology":"Introduction to Sociology","Inquiry Science Learning: Perspectives & Practices 4 - Student-Centered Inquiry":"Inquiry Science Learning: Perspectives & Practices 4 - Student-Centered Inquiry","Creative, Serious and Playful Science of Android Apps":"Creative, Serious and Playful Science of Android Apps","Climate Change in Four Dimensions":"Climate Change in Four Dimensions","Scandinavian Film and Television":"Scandinavian Film and Television","Foundations of Teaching for Learning 7: Being a Professional":"Foundations of Teaching for Learning 7: Being a Professional","Introductory Human Physiology":"Introductory Human Physiology",Neuroethics:"Neuroethics","Learning to Teach Online":"Learning to Teach Online","The Emergence of the Modern Middle East":"The Emergence of the Modern Middle East","Internet History, Technology, and Security":"Internet History, Technology, and Security","Artificial Intelligence Planning":"Artificial Intelligence Planning","On the Hunt for Feedback: Self-Directed Teacher Improvement":"On the Hunt for Feedback: Self-Directed Teacher Improvement","Developing Innovative Ideas for New Companies: The First Step in Entrepreneurship":"Developing Innovative Ideas for New Companies: The First Step in Entrepreneurship","Social Psychology":"Social Psychology","Science from Superheroes to Global Warming":"Science from Superheroes to Global Warming","Foundations of Teaching for Learning 2: Being a Teacher":"Foundations of Teaching for Learning 2: Being a Teacher","MatemÃ¡ticas y movimiento":"MatemÃ¡ticas y movimiento","Introductory Organic Chemistry - Part 1":"Introductory Organic Chemistry - Part 1","AstroTech: The Science and Technology behind Astronomical Discovery":"AstroTech: The Science and Technology behind Astronomical Discovery","ç²å­ä¸çæ¢ç§ Exploring Particle World":"ç²å­ä¸çæ¢ç§ Exploring Particle World","Informatik fÃ¼r Ãkonomen":"Informatik fÃ¼r Ãkonomen","Linear Circuits":"Linear Circuits","InnovaciÃ³n educativa con recursos abiertos":"InnovaciÃ³n educativa con recursos abiertos","Constitutional Law":"Constitutional Law","Principles of Microeconomics":"Principles of Microeconomics","Initiation Ã  la programmation (en Java)":"Initiation Ã  la programmation (en Java)","Early Renaissance Architecture in Italy: from Alberti to Bramante":"Early Renaissance Architecture in Italy: from Alberti to Bramante","Computer Architecture":"Computer Architecture","Latin American Culture":"Latin American Culture","Our Earth: Its Climate, History, and Processes":"Our Earth: Its Climate, History, and Processes","Introduction to Systems Engineering":"Introduction to Systems Engineering","The Art and Archaeology of Ancient Nubia":"The Art and Archaeology of Ancient Nubia","Calculus: Single Variable":"Calculus: Single Variable","Networks Illustrated: Principles without Calculus":"Networks Illustrated: Principles without Calculus","Practicing Tolerance in a Religious Society: The Church and the Jews in Italy":"Practicing Tolerance in a Religious Society: The Church and the Jews in Italy","Structure Standing Still: The Statics of Everyday Objects":"Structure Standing Still: The Statics of Everyday Objects","The Beauty of Kunqu Opera | å´æ²ä¹ç¾":"The Beauty of Kunqu Opera | å´æ²ä¹ç¾","Art and Inquiry: Museum Teaching Strategies For Your Classroom ":"Art and Inquiry: Museum Teaching Strategies For Your Classroom ","International Organizations Management":"International Organizations Management","An Introduction to Functional Analysis":"An Introduction to Functional Analysis","Introduction to Guitar":"Introduction to Guitar","Ser mÃ¡s creativos":"Ser mÃ¡s creativos","Paradoxes of War":"Paradoxes of War","Initiation Ã  la programmation (en C++)":"Initiation Ã  la programmation (en C++)","TecnologÃ­as de informaciÃ³n y comunicaciÃ³n en la educaciÃ³n":"TecnologÃ­as de informaciÃ³n y comunicaciÃ³n en la educaciÃ³n","Reason and Persuasion: Thinking Through Three Dialogues By Plato":"Reason and Persuasion: Thinking Through Three Dialogues By Plato","Live!:  A History of Art for Artists, Animators and Gamers":"Live!:  A History of Art for Artists, Animators and Gamers","Introduction to Thermodynamics: Transferring Energy from Here to There":"Introduction to Thermodynamics: Transferring Energy from Here to There","Understanding Media by Understanding Google":"Understanding Media by Understanding Google","Conception et mise en Åuvre d'algorithmes.":"Conception et mise en Åuvre d'algorithmes.","Introduction to Digital Sound Design":"Introduction to Digital Sound Design","Control of Mobile Robots":"Control of Mobile Robots","Computational Photography":"Computational Photography","Heterogeneous Parallel Programming":"Heterogeneous Parallel Programming","Information Security and Risk Management in Context":"Information Security and Risk Management in Context","First-Year Composition 2.0":"First-Year Composition 2.0","Introduction to Genetics and Evolution":"Introduction to Genetics and Evolution","A History of the World since 1300":"A History of the World since 1300","Video Games and Learning":"Video Games and Learning","A Brief History of Humankind":"A Brief History of Humankind","Survey of Music Technology":"Survey of Music Technology","Clinical Terminology for International and U.S. Students":"Clinical Terminology for International and U.S. Students","The Hardware/Software Interface":"The Hardware/Software Interface",Vaccines:"Vaccines","Games without Chance: Combinatorial Game Theory ":"Games without Chance: Combinatorial Game Theory ","Creative Programming for Digital Media & Mobile Apps":"Creative Programming for Digital Media & Mobile Apps","Plagues, Witches, and War: The Worlds of Historical Fiction":"Plagues, Witches, and War: The Worlds of Historical Fiction","C++ For C Programmers":"C++ For C Programmers",Songwriting:"Songwriting","Networks: Friends, Money, and Bytes":"Networks: Friends, Money, and Bytes","Genetics and Society: A Course for Educators":"Genetics and Society: A Course for Educators","Terrorism and Counterterrorism: Comparing Theory and Practice":"Terrorism and Counterterrorism: Comparing Theory and Practice","Microeconomics Principles":"Microeconomics Principles","Generating the Wealth of Nations":"Generating the Wealth of Nations","Design and Interpretation of Clinical Trials":"Design and Interpretation of Clinical Trials","Statistics: Making Sense of Data":"Statistics: Making Sense of Data","Digital Signal Processing":"Digital Signal Processing","Science, Technology, and Society in China II: History of S&T in Chinese Society":"Science, Technology, and Society in China II: History of S&T in Chinese Society","Beauty, Form & Function: An Exploration of Symmetry":"Beauty, Form & Function: An Exploration of Symmetry","Genes and the Human Condition (From Behavior to Biotechnology)":"Genes and the Human Condition (From Behavior to Biotechnology)","Introduction to Systematic Program Design - Part 1":"Introduction to Systematic Program Design - Part 1","Introduction Ã  la thÃ©orie de Galois":"Introduction Ã  la thÃ©orie de Galois","Introduction to Art: Concepts & Techniques":"Introduction to Art: Concepts & Techniques","Democratic Development":"Democratic Development","Grow to Greatness: Smart Growth for Private Businesses, Part II":"Grow to Greatness: Smart Growth for Private Businesses, Part II","Global Tuberculosis (TB) Clinical Management and Research":"Global Tuberculosis (TB) Clinical Management and Research","Intermediate Algebra":"Intermediate Algebra","Care of Elders with Alzheimer's Disease and other Major Neurocognitive Disorders":"Care of Elders with Alzheimer's Disease and other Major Neurocognitive Disorders","Jazz Improvisation":"Jazz Improvisation","Analysis of Algorithms":"Analysis of Algorithms","Villes africaines: une introduction Ã  la planification urbaine":"Villes africaines: une introduction Ã  la planification urbaine","Clinical Problem Solving":"Clinical Problem Solving","History of Rock, Part Two":"History of Rock, Part Two","Basic Behavioral Neurology":"Basic Behavioral Neurology","Passion Driven Statistics":"Passion Driven Statistics","Economics of Money and Banking, Part Two":"Economics of Money and Banking, Part Two","Latin American Migration":"Latin American Migration","Online Games: Literature, New Media, and Narrative":"Online Games: Literature, New Media, and Narrative","Fundamentals of Online Education: Planning and Application":"Fundamentals of Online Education: Planning and Application","Origins - Formation of the Universe, Solar System, Earth and Life":"Origins - Formation of the Universe, Solar System, Earth and Life","Cardiac Arrest, Hypothermia, and Resuscitation Science":"Cardiac Arrest, Hypothermia, and Resuscitation Science","Economic Issues, Food & You":"Economic Issues, Food & You","Programmed cell death":"Programmed cell death","Nutrition and Physical Activity for Health":"Nutrition and Physical Activity for Health","Write Like Mozart: An Introduction to Classical Music Composition":"Write Like Mozart: An Introduction to Classical Music Composition","Organizational Analysis":"Organizational Analysis","Writing II: Rhetorical Composing":"Writing II: Rhetorical Composing","Game Theory":"Game Theory","Climate Change":"Climate Change","Sports and Building Aerodynamics":"Sports and Building Aerodynamics","Data Management for Clinical Research":"Data Management for Clinical Research","Competitive Strategy":"Competitive Strategy","Introduction to Systems Biology":"Introduction to Systems Biology","Major Depression in the Population: A Public Health Approach":"Major Depression in the Population: A Public Health Approach","Continuidad y desarrollo de la empresa familiar":"Continuidad y desarrollo de la empresa familiar","Financial Engineering and Risk Management Part II":"Financial Engineering and Risk Management Part II","An Introduction to Consumer Neuroscience & Neuromarketing ":"An Introduction to Consumer Neuroscience & Neuromarketing ","Programming Languages":"Programming Languages","Dynamical Modeling Methods for Systems Biology":"Dynamical Modeling Methods for Systems Biology","Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²ÑÐµ ÑÑÐ½ÐºÐ¸ Ð¸ Ð¸Ð½ÑÑÐ¸ÑÑÑÑ (Financial Markets and Institutions)":"Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²ÑÐµ ÑÑÐ½ÐºÐ¸ Ð¸ Ð¸Ð½ÑÑÐ¸ÑÑÑÑ (Financial Markets and Institutions)","Bioelectricity: A Quantitative Approach":"Bioelectricity: A Quantitative Approach","Epigenetic Control of Gene Expression":"Epigenetic Control of Gene Expression","Intermediate Organic Chemistry - Part 1":"Intermediate Organic Chemistry - Part 1","Markets with Frictions":"Markets with Frictions","Intermediate Organic Chemistry - Part 2":"Intermediate Organic Chemistry - Part 2","An Introduction to Global Health":"An Introduction to Global Health","General Chemistry å¤§å­¦åå­¦":"General Chemistry å¤§å­¦åå­¦","Creating Site-Specific Dance and Performance Works":"Creating Site-Specific Dance and Performance Works","The Modern World: Global History since 1760":"The Modern World: Global History since 1760","Statistical Analysis of fMRI Data":"Statistical Analysis of fMRI Data","Introduction to Engineering Mechanics":"Introduction to Engineering Mechanics","Practical tips to improve Asian American participation in cancer clinical trials":"Practical tips to improve Asian American participation in cancer clinical trials","Analytical Chemistry / Instrumental Analysis":"Analytical Chemistry / Instrumental Analysis","Managing Fashion and Luxury Companies":"Managing Fashion and Luxury Companies","Student Thinking at the Core":"Student Thinking at the Core","A Beginner's Guide to Irrational Behavior":"A Beginner's Guide to Irrational Behavior","Saving Lives Millions at a Time: Global Disease Control Policies & Programs":"Saving Lives Millions at a Time: Global Disease Control Policies & Programs","Ð¢ÐµÐ¾ÑÐ¸Ñ Ð¾ÑÑÐ°ÑÐ»ÐµÐ²ÑÑ ÑÑÐ½ÐºÐ¾Ð² (Industrial Organization)":"Ð¢ÐµÐ¾ÑÐ¸Ñ Ð¾ÑÑÐ°ÑÐ»ÐµÐ²ÑÑ ÑÑÐ½ÐºÐ¾Ð² (Industrial Organization)","Inquiry Science Learning: Perspectives and Practices 1 - Science Leadership":"Inquiry Science Learning: Perspectives and Practices 1 - Science Leadership","Desarrollo rÃ¡pido de productos innovadores para mercados emergentes":"Desarrollo rÃ¡pido de productos innovadores para mercados emergentes","Fundamentals of Pharmacology":"Fundamentals of Pharmacology","Computational Molecular Evolution":"Computational Molecular Evolution","Virology I: How Viruses Work":"Virology I: How Viruses Work","How to Change the World":"How to Change the World","Bioinformatics Algorithms (Part 1) ":"Bioinformatics Algorithms (Part 1) ","Fantasy and Science Fiction: The Human Mind, Our Modern World":"Fantasy and Science Fiction: The Human Mind, Our Modern World","Drugs and the Brain":"Drugs and the Brain","Statistical Molecular Thermodynamics":"Statistical Molecular Thermodynamics","Securing Digital Democracy":"Securing Digital Democracy","Calculus Two: Sequences and Series":"Calculus Two: Sequences and Series","Pensamiento CientÃ­fico":"Pensamiento CientÃ­fico","Health Policy and the Affordable Care Act":"Health Policy and the Affordable Care Act","Global Health and Humanitarianism":"Global Health and Humanitarianism","Software Defined Networking":"Software Defined Networking","Teaching Character                and Creating Positive Classrooms ":"Teaching Character                and Creating Positive Classrooms ","Design Thinking for Business Innovation":"Design Thinking for Business Innovation","Analyse NumÃ©rique pour IngÃ©nieurs":"Analyse NumÃ©rique pour IngÃ©nieurs","English Composition I: Achieving Expertise":"English Composition I: Achieving Expertise","Human Trafficking":"Human Trafficking",Compilers:"Compilers","Writing in the Sciences":"Writing in the Sciences","Public Economics":"Public Economics","Moralities of Everyday Life":"Moralities of Everyday Life","Introduction to Mathematical Thinking":"Introduction to Mathematical Thinking","Critical Perspectives on Management":"Critical Perspectives on Management","Fundamentals of Electrical Engineering Laboratory":"Fundamentals of Electrical Engineering Laboratory","The Social Context of Mental Health and Illness":"The Social Context of Mental Health and Illness","Introduction to Computational Finance and Financial Econometrics":"Introduction to Computational Finance and Financial Econometrics","Chemistry: Concept Development and Application Part II":"Chemistry: Concept Development and Application Part II","Globalizing Higher Education and Research for the âKnowledge Economyâ":"Globalizing Higher Education and Research for the âKnowledge Economyâ","Fundamentals of Digital Image and Video Processing":"Fundamentals of Digital Image and Video Processing","From the Big Bang to Dark Energy":"From the Big Bang to Dark Energy","Social Epidemiology":"Social Epidemiology","Fundamentals of Human Nutrition":"Fundamentals of Human Nutrition","Making Better Group Decisions: Voting, Judgement Aggregation and Fair Division":"Making Better Group Decisions: Voting, Judgement Aggregation and Fair Division","First Year Teaching (Elementary Grades) - Success from the Start":"First Year Teaching (Elementary Grades) - Success from the Start","Nanotechnology: The Basics":"Nanotechnology: The Basics","Introduction to Databases":"Introduction to Databases","The Power of Macroeconomics: Economic Principles in the Real World":"The Power of Macroeconomics: Economic Principles in the Real World","Nutrition for Health Promotion and Disease Prevention":"Nutrition for Health Promotion and Disease Prevention","Metadata: Organizing and Discovering Information":"Metadata: Organizing and Discovering Information","Contraception: Choices, Culture and Consequences":"Contraception: Choices, Culture and Consequences","EgiptologÃ­a (Egyptology)":"EgiptologÃ­a (Egyptology)","Calvin - Histoire et rÃ©ception d'une RÃ©forme":"Calvin - Histoire et rÃ©ception d'une RÃ©forme","High Performance Scientific Computing":"High Performance Scientific Computing","9/11 and Its Aftermath -- Part I":"9/11 and Its Aftermath -- Part I","A Look at Nuclear Science and Technology":"A Look at Nuclear Science and Technology","Diabetes: Diagnosis, Treatment, and Opportunities":"Diabetes: Diagnosis, Treatment, and Opportunities","Epidemics - the Dynamics of Infectious Diseases":"Epidemics - the Dynamics of Infectious Diseases","Nutrition, Health, and Lifestyle: Issues and Insights":"Nutrition, Health, and Lifestyle: Issues and Insights","Equine Nutrition":"Equine Nutrition","Discrete Optimization":"Discrete Optimization","Computer Networks":"Computer Networks","Accounting:  The Language of Business":"Accounting:  The Language of Business","Sustainable Food Production Through Livestock Health Management":"Sustainable Food Production Through Livestock Health Management","Structural Equation Model and its Applications | ç»ææ¹ç¨æ¨¡ååå¶åºç¨":"Structural Equation Model and its Applications | ç»ææ¹ç¨æ¨¡ååå¶åºç¨","Web Intelligence and Big Data":"Web Intelligence and Big Data","ÐÑÐ½Ð¾Ð²Ñ Ð¼Ð¸ÐºÑÐ¾ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ¸ (Microeconomics Principles)":"ÐÑÐ½Ð¾Ð²Ñ Ð¼Ð¸ÐºÑÐ¾ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ¸ (Microeconomics Principles)","Introduction to Finance":"Introduction to Finance","The Science of Gastronomy":"The Science of Gastronomy","Discrete Inference and Learning in Artificial Vision":"Discrete Inference and Learning in Artificial Vision","The Dynamic Earth: A Course for Educators":"The Dynamic Earth: A Course for Educators","The New Nordic Diet - from Gastronomy to Health ":"The New Nordic Diet - from Gastronomy to Health ","Growing Old Around the Globe":"Growing Old Around the Globe","Astrobiology and the Search for Extraterrestrial Life":"Astrobiology and the Search for Extraterrestrial Life","Roman Architecture":"Roman Architecture","Introduction to Power Electronics":"Introduction to Power Electronics","Introduction to Classical Music":"Introduction to Classical Music","Computing for Data Analysis":"Computing for Data Analysis","Galaxies and Cosmology":"Galaxies and Cosmology","Designing Cities":"Designing Cities","Principles of Economics for Scientists":"Principles of Economics for Scientists","Responding to 9/11":"Responding to 9/11","Statistics One":"Statistics One","Law and the Entrepreneur ":"Law and the Entrepreneur ","How Green Is That Product? An Introduction to Life Cycle Environmental Assessment":"How Green Is That Product? An Introduction to Life Cycle Environmental Assessment","Approche pluridisciplinaire du dopage":"Approche pluridisciplinaire du dopage","Initiation Ã  la thÃ©orie des distributions":"Initiation Ã  la thÃ©orie des distributions","Water Supply and Sanitation Policy in Developing Countries":"Water Supply and Sanitation Policy in Developing Countries","From the Repertoire: Western Music History through Performance":"From the Repertoire: Western Music History through Performance","Inquiry Science Learning: Perspectives and Practices 3 - Science Content Survey":"Inquiry Science Learning: Perspectives and Practices 3 - Science Content Survey","Beginning Game Programming with C#":"Beginning Game Programming with C#","Networked Life":"Networked Life","ÐÐ¾Ð´ÐµÐ»Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð±Ð¸Ð¾Ð»Ð¾Ð³Ð¸ÑÐµÑÐºÐ¸Ñ Ð¼Ð¾Ð»ÐµÐºÑÐ» Ð½Ð° GPU (Biomolecular modeling on GPU)":"ÐÐ¾Ð´ÐµÐ»Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð±Ð¸Ð¾Ð»Ð¾Ð³Ð¸ÑÐµÑÐºÐ¸Ñ Ð¼Ð¾Ð»ÐµÐºÑÐ» Ð½Ð° GPU (Biomolecular modeling on GPU)","ÐÐ¾ÐºÑÐ¼ÐµÐ½ÑÑ Ð¸ Ð¿ÑÐµÐ·ÐµÐ½ÑÐ°ÑÐ¸Ð¸ Ð² LaTeX (Introduction to LaTeX)":"ÐÐ¾ÐºÑÐ¼ÐµÐ½ÑÑ Ð¸ Ð¿ÑÐµÐ·ÐµÐ½ÑÐ°ÑÐ¸Ð¸ Ð² LaTeX (Introduction to LaTeX)","Introduction to Logic":"Introduction to Logic","The Global Business of Sports":"The Global Business of Sports","Introduction to Mathematical Philosophy":"Introduction to Mathematical Philosophy","Introduction to Chemistry":"Introduction to Chemistry","Introduction to Computational Arts":"Introduction to Computational Arts","Critical Thinking in Global Challenges":"Critical Thinking in Global Challenges","Learn to Program: The Fundamentals":"Learn to Program: The Fundamentals","El ABC del emprendimiento esbelto ":"El ABC del emprendimiento esbelto ","Why We Need Psychology":"Why We Need Psychology","Sustainable Agricultural Land Management":"Sustainable Agricultural Land Management","Introduction to Forensic Science":"Introduction to Forensic Science","Active Learning with Art":"Active Learning with Art","First Year Teaching (Secondary Grades) - Success from the Start":"First Year Teaching (Secondary Grades) - Success from the Start","Animal Behaviour":"Animal Behaviour","An Introduction to Interactive Programming in Python":"An Introduction to Interactive Programming in Python","ä¸­åå¤ä»£æ­·å²èäººç©ï¼ï¼ç§¦å§ç":"ä¸­åå¤ä»£æ­·å²èäººç©ï¼ï¼ç§¦å§ç","Generation Rx: The Science Behind Prescription Drug Abuse":"Generation Rx: The Science Behind Prescription Drug Abuse","Programming Handheld Systems with Android":"Programming Handheld Systems with Android","Algorithms, Part I":"Algorithms, Part I","Classics of Chinese Humanities: Guided Readings | ä¸­åäººæç¶å¸å°è®":"Classics of Chinese Humanities: Guided Readings | ä¸­åäººæç¶å¸å°è®"}),define("js/json/nls/languages",{root:!0,zh:!0}),define("js/json/nls/root/languages",{Estonian:"Estonian",Telugu:"Telugu",Kyrgyz:"Kyrgyz",Ukrainian:"Ukrainian",Cornish:"Cornish",Bulgarian:"Bulgarian",Tigrinya:"Tigrinya",Yoruba:"Yoruba",Bambara:"Bambara",Fula:"Fula",Abkhaz:"Abkhaz",Fijian:"Fijian",Bengali:"Bengali",Samoan:"Samoan",Tsonga:"Tsonga",Nuosu:"Nuosu",Tamil:"Tamil",Haitian:"Haitian",Kalaallisut:"Kalaallisut","GuaranÃ­":"GuaranÃ­",Oriya:"Oriya",Nepali:"Nepali",Finnish:"Finnish",Manx:"Manx",Sundanese:"Sundanese",Albanian:"Albanian",Walloon:"Walloon",Tagalog:"Tagalog",Serbian:"Serbian",Malayalam:"Malayalam",Aragonese:"Aragonese",Italian:"Italian",Navajo:"Navajo",Chamorro:"Chamorro",Bislama:"Bislama",Kongo:"Kongo",Galician:"Galician",Czech:"Czech",Tajik:"Tajik",Yiddish:"Yiddish",Urdu:"Urdu",Polish:"Polish",Occitan:"Occitan",Xhosa:"Xhosa",Hindi:"Hindi",Swedish:"Swedish","MÄori":"MÄori",Marathi:"Marathi",Ewe:"Ewe",Uighur:"Uighur",Sanskrit:"Sanskrit",Azerbaijani:"Azerbaijani",Faroese:"Faroese",Nauru:"Nauru",Cree:"Cree",Danish:"Danish",Indonesian:"Indonesian",Latin:"Latin",Zulu:"Zulu","Norwegian Nynorsk":"Norwegian Nynorsk",Georgian:"Georgian",Norwegian:"Norwegian",Ganda:"Ganda",Chichewa:"Chichewa",Komi:"Komi",Slovak:"Slovak",Thai:"Thai",Afrikaans:"Afrikaans",Tibetan:"Tibetan",Turkmen:"Turkmen",Tonga:"Tonga",Slovene:"Slovene",Kikuyu:"Kikuyu",Avaric:"Avaric",Uzbek:"Uzbek",Divehi:"Divehi",Herero:"Herero",Greek:"Greek",Burmese:"Burmese",Latvian:"Latvian",English:"English",Lingala:"Lingala","North Ndebele":"North Ndebele",Chinese:"Chinese",Gaelic:"Gaelic",Inuktitut:"Inuktitut",Tatar:"Tatar",Spanish:"Spanish",Arabic:"Arabic",Venda:"Venda",Breton:"Breton",Swahili:"Swahili",Marshallese:"Marshallese",Icelandic:"Icelandic",Turkish:"Turkish",Twi:"Twi",Pashto:"Pashto",Inupiaq:"Inupiaq",Gujarati:"Gujarati","Norwegian BokmÃ¥l":"Norwegian BokmÃ¥l",French:"French",Sindhi:"Sindhi",Korean:"Korean",Malagasy:"Malagasy",Khmer:"Khmer",Chuvash:"Chuvash",Hungarian:"Hungarian",Catalan:"Catalan",Wolof:"Wolof",Igbo:"Igbo",Lithuanian:"Lithuanian",Malay:"Malay",Luxembourgish:"Luxembourgish",Armenian:"Armenian",Russian:"Russian",Croatian:"Croatian",Kazakh:"Kazakh","Portuguese (Brazilian)":"Portuguese (Brazilian)",Kirundi:"Kirundi",Kashmiri:"Kashmiri","Hiri Motu":"Hiri Motu","VolapÃ¼k":"VolapÃ¼k",Amharic:"Amharic",Romansh:"Romansh",Panjabi:"Panjabi","PÄli":"PÄli",Javanese:"Javanese",Afar:"Afar",Quechua:"Quechua",Hausa:"Hausa",Irish:"Irish","Southern Sotho":"Southern Sotho",German:"German",Belarusian:"Belarusian",Kannada:"Kannada",Macedonian:"Macedonian",Persian:"Persian",Mongolian:"Mongolian",Dzongkha:"Dzongkha",Basque:"Basque",Aymara:"Aymara",Sinhala:"Sinhala",Interlingua:"Interlingua","Old Church Slavonic":"Old Church Slavonic",Vietnamese:"Vietnamese",Romanian:"Romanian",Shona:"Shona",Somali:"Somali",Sardinian:"Sardinian","Western Frisian":"Western Frisian",Corsican:"Corsican",Swati:"Swati",Chechen:"Chechen",Dutch:"Dutch","Northern Sami":"Northern Sami",Kwanyama:"Kwanyama",Bosnian:"Bosnian",Akan:"Akan",Lao:"Lao",Limburgish:"Limburgish",Bihari:"Bihari",Welsh:"Welsh",Tahitian:"Tahitian",Maltese:"Maltese",Assamese:"Assamese",Ojibwe:"Ojibwe",Kurdish:"Kurdish",Kanuri:"Kanuri",Bashkir:"Bashkir","Luba-Katanga":"Luba-Katanga",Hebrew:"Hebrew",Tswana:"Tswana",Ido:"Ido",Sango:"Sango",Oromo:"Oromo",Portuguese:"Portuguese","South Ndebele":"South Ndebele",Ndonga:"Ndonga",Japanese:"Japanese",Kinyarwanda:"Kinyarwanda",Interlingue:"Interlingue",Avestan:"Avestan",Zhuang:"Zhuang",Esperanto:"Esperanto",Ossetian:"Ossetian"}),define("pages/home/front/frontCourse",["underscore","jquery","backbone","js/core/brbraitt","js/collections/topics","js/models/frontdata","pages/home/front/frontCourse.html","i18n!pages/home/front/nls/frontCourse","pages/home/front/frontTopicIcon.html","i18n!pages/home/front/nls/frontTopicIcon","i18n!js/json/nls/universities","i18n!js/json/nls/topics","i18n!js/json/nls/languages","js/lib/util","js/lib/cookie","js/lib/language","js/lib/brbraitt.ab"],function(_,$,Backbone,brbraitt,Topics,FrontData,template,template_t,topicIconTemplate,topicIconTemplate_t,universities_t,topics_t,languages_t,util,cookie,language,AB){topicIconTemplate_t=topicIconTemplate_t.merge(universities_t,topics_t,languages_t);
var getValue=function(e){var $target=$(e.currentTarget),link=$target.attr("href"),index=$target.parents(".brbraitt-course-card").index();return index>=0?{link:link,index:index}:link},shuffle=function(arr){return _.shuffle(arr)},fourWeeksAgo=Date.now()-24192e5,byStartDate=function(arr){return _.chain(arr).filter(function(topic){return topic.get("open_course")&&topic.get("open_course").getStartTime()>=fourWeeksAgo}).sortBy(function(topic){return topic.get("open_course").getStartTime()}).value()},langCode=language.shortenLanguageCode(language.getLanguageCode()),byLanguage=function(arr){return _.sortBy(byStartDate(arr),function(topic,i){var langs=topic.get("language")+","+topic.get("subtitle_languages_csv");return langs.indexOf(langCode)>=0?-arr.length+i:i})},frontCourse=Backbone.View.extend({events:{"click .brbraitt-front-to-catalog-link, .brbraitt-to-catalog-link":"onCatalogLinkClick","click .brbraitt-front-course-soon .brbraitt-front-to-course-link":"onStartingSoonCourseLinkClick"},onCatalogLinkClick:function(e){var $target=$(e.currentTarget);if($target.hasClass("browse-all"))brbraitt.multitracker.push(["user.click.browse-all-link",getValue(e)]);else brbraitt.multitracker.push(["user.click.catalog-link",getValue(e)]);AB.session.getExperiment("homepage_course_count2").convert("catalog-click"),AB.session.getExperiment("homepage_browse_all_placement2").convert("catalog-click"),AB.session.getExperiment("homepage_banner_size2").convert("catalog-click"),AB.session.getExperiment("homepage_promos2").convert("catalog-click"),AB.session.getExperiment("homepage_sort_course_3").convert("catalog-click")},onStartingSoonCourseLinkClick:function(e){AB.session.getExperiment("homepage_course_count2").convert("course-click"),AB.session.getExperiment("homepage_browse_all_placement2").convert("course-click"),AB.session.getExperiment("homepage_banner_size2").convert("course-click"),AB.session.getExperiment("homepage_promos2").convert("course-click"),AB.session.getExperiment("homepage_sort_course_3").convert("course-click"),brbraitt.multitracker.push(["user.click.starting-soon-course-link",getValue(e)])},render:function(){var self=this,browseAllPlacement=AB.session.getExperiment("homepage_browse_all_placement2").getChosenVariant();this.$el.html(template({_t:template_t,config:brbraitt.config,showBrowseTop:"top_only"==browseAllPlacement||"top_and_bottom"==browseAllPlacement,showBrowseBottom:"bottom_only"==browseAllPlacement||"top_and_bottom"==browseAllPlacement}));var countToDisplay=AB.session.getExperiment("homepage_course_count2").getChosenVariant(),order=AB.session.getExperiment("homepage_sort_course_3").getChosenVariant(),$renderTemplate=function(topic){return $(topicIconTemplate({_t:topicIconTemplate_t,topic:topic,config:brbraitt.config,language:"language_with_info"==order&&language.languageCodeToName(langCode),showNative:(topic.get("language")||"").indexOf(langCode)>=0,showSubtitle:(topic.get("subtitle_languages_csv")||"").indexOf(langCode)>=0})).get(0)},orderFunc;switch(order){case"random":orderFunc=shuffle;break;case"start_date":orderFunc=byStartDate;break;case"language":orderFunc=byLanguage;break;case"language_with_info":orderFunc=byLanguage;break;case"recently_viewed":orderFunc=_.identity}var onLoad=function(topics){topics=_.first(orderFunc(topics),countToDisplay),self.$(".brbraitt-front-course-soon").empty().append(topics.map($renderTemplate)),self.$(".brbraitt-course-card-name").each(function(i,el){util.truncateElemText($(el))})};if("recently_viewed"==order)Topics.singletonReadAll().done(function(topics){var recentlyViewed=(cookie.get("recently_viewed")||"").split(",");recentlyViewed=_.map(recentlyViewed,function(shortName){return topics.get(shortName)}),topics=_.union(_.compact(recentlyViewed),shuffle(topics.toArray())),onLoad(topics)});else if("language"==order||"language_with_info"==order)Topics.singletonReadAll().done(function(topics){onLoad(topics.toArray())});else FrontData.singletonRead().done(function(frontData){onLoad(frontData.get("upcoming").toArray())});return this}});return frontCourse}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,status=locals_.status,message=locals_.message;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div class="brbraitt-full-canvas"><div class="row"><div class="span12"><div class="heading-banner">'),status)buf.push('<h1 style="font-size:46px;">'+jade.escape(null==(jade.interp=_t("HTTP #{status}",{status:status}))?"":jade.interp)+"</h1><h3>"+jade.escape(null==(jade.interp=_t("...oops!"))?"":jade.interp)+"</h3>");else buf.push("<h3>"+jade.escape(null==(jade.interp=_t("...oops!"))?"":jade.interp)+"</h3>");if(buf.push('</div><div style="font-size:18px;line-height:30px; margin-top:20px;">'),message)buf.push("<p>"+jade.escape(null==(jade.interp=_t(message))?"":jade.interp)+"</p>");else buf.push("<p>"+jade.escape(null==(jade.interp=_t("Sorry, but we ran into an error trying to process your request!"))?"":jade.interp)+" \n"+jade.escape(null==(jade.interp=_t("We'll notify the nearest brbraitt Caribou to look into it."))?"":jade.interp)+"\n"+jade.escape(null==(jade.interp=_t("If you'd like to give us more information about the error,"))?"":jade.interp)+"\n"+(null==(jade.interp=_t('please <a href="http://help.brbraitt.org/customer/portal/emails/new">contact us</a>.'))?"":jade.interp)+"</p><p>"+(null==(jade.interp=_t('You can also visit our <a href="http://help.brbraitt.org">help site</a> for answers'))?"":jade.interp)+"\n"+jade.escape(null==(jade.interp=_t("to common questions."))?"":jade.interp)+"</p>");return buf.push("</div></div></div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/error/errorBody.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.error.errorBody"]=jadify(wndw.jade.helpers)}(window),define("pages/error/nls/errorBody",{root:!0,zh:!0}),define("pages/error/nls/root/errorBody",{"HTTP #{status}":"HTTP #{status}","...oops!":"...oops!","Sorry, but we ran into an error trying to process your request!":"Sorry, but we ran into an error trying to process your request!","We'll notify the nearest brbraitt Caribou to look into it.":"We'll notify the nearest brbraitt Caribou to look into it.","If you'd like to give us more information about the error,":"If you'd like to give us more information about the error,",'please <a href="http://help.brbraitt.org/customer/portal/emails/new">contact us</a>.':'please <a href="http://help.brbraitt.org/customer/portal/emails/new">contact us</a>.','You can also visit our <a href="http://help.brbraitt.org">help site</a> for answers':'You can also visit our <a href="http://help.brbraitt.org">help site</a> for answers',"to common questions.":"to common questions."}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,page=locals_.page;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div class="brbraitt-full-canvas"><div class="row-fluid"><div class="span12"><h1>'+jade.escape(null==(jade.interp=_t("ooops... HTTP 404"))?"":jade.interp)+'</h1></div></div><div class="brbraitt-full-page-divider">              </div><div class="row-fluid"><div class="span12"><p> \n'+jade.escape(null==(jade.interp=_t("Looks like you found a page that does not exist or the URL was mistyped by accident."))?"":jade.interp)+"</p>"),-1!=page.indexOf("?"))buf.push("<p><span>"+(null==(jade.interp=_t("May we suggest trying the following URL:&nbsp;"))?"":jade.interp)+"</span><a"+jade.attrs({href:page.substring(0,page.indexOf("?"))},{href:!0})+">"+jade.escape(null==(jade.interp=_t(page.substring(0,page.indexOf("?"))))?"":jade.interp)+"</a></p>");return buf.push("<p>"+(null==(jade.interp=_t('If you feel this was an error, please visit our <a href="http://help.brbraitt.org">help site</a> to contact us.'))?"":jade.interp)+"</p></div></div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/error/error404.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.error.error404"]=jadify(wndw.jade.helpers)}(window),define("pages/error/nls/error404",{root:!0,zh:!0}),define("pages/error/nls/root/error404",{"ooops... HTTP 404":"ooops... HTTP 404","Looks like you found a page that does not exist or the URL was mistyped by accident.":"Looks like you found a page that does not exist or the URL was mistyped by accident.","May we suggest trying the following URL:&nbsp;":"May we suggest trying the following URL:&nbsp;",'If you feel this was an error, please visit our <a href="http://help.brbraitt.org">help site</a> to contact us.':'If you feel this was an error, please visit our <a href="http://help.brbraitt.org">help site</a> to contact us.'}),define("pages/error/errorBody",["pages/home/template/body","js/core/brbraitt","pages/error/errorBody.html","i18n!pages/error/nls/errorBody","pages/error/error404.html","i18n!pages/error/nls/error404"],function(body,brbraitt,template,_t,template404,_t404){var error=body.extend({render:function(){if(brbraitt.multitracker.push(["page.error",{status:this.options.status,url:location.href}]),404==this.options.status)this.$el.append(template404({_t:_t404,page:location.href}));else this.$el.append(template({_t:_t,status:this.options.status,message:this.options.message}));return this}});return error}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,user=locals_.user;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div class="brbraitt-full-canvas"><div class="row"><div class="span12"><div class="heading-banner"><h1>'+jade.escape(null==(jade.interp=_t("Account Settings"))?"":jade.interp)+'</h1></div></div></div><div class="brbraitt-settings"><div style="position:relative" class="row"><div style="font-size:smaller; top:5px; right: 5px; position: absolute" class="brbraitt-signature-track-settings-link hide"><a href="settings/signature">'+(null==(jade.interp=_t("Looking for your Signature Track settings? &raquo;"))?"":jade.interp)+'</a></div><div class="span6"><div style="width: 445px;"><div style="width: 200px; float: right; margin-top 10px; font-size: 12px; line-height: 1.4em; color: #468847; margin-bottom: 10px;">'+jade.escape(null==(jade.interp=_t("This name will appear on your course statements."))?"":jade.interp)+'</div><form id="brbraitt-settings-name-change-form" style="margin-top:10px;" action="user/change_name" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="brbraitt-settings-name">'+jade.escape(null==(jade.interp=_t("Full Name"))?"":jade.interp)+'</label><div class="controls"><input'+jade.attrs({id:"brbraitt-settings-name",name:"full_name",type:"text",value:user.get("full_name"),style:"margin-bottom:0px;"},{name:!0,type:!0,value:!0,style:!0})+'/></div></div><button type="submit" data-default-message="Change Name" data-inflight-message="Saving..." data-success-message="Saved!" disabled="disabled" class="btn brbraitt-settings-name-change">'+jade.escape(null==(jade.interp=_t("Change Name"))?"":jade.interp)+'</button></form></div></div></div><div class="row"><div class="span12"><form id="brbraitt-settings-timezone-change-form" style="margin-top:10px;" action="user/change_timezone" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="brbraitt-settings-timezone-change">'+jade.escape(null==(jade.interp=_t("Timezone"))?"":jade.interp)+'</label><div class="controls"><select name="timezone" id="brbraitt-settings-timezone-change">'),_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<optgroup label="Africa"><option value="Africa/Abidjan">'+jade.escape(null==(jade.interp=_t("Abidjan (+0000)"))?"":jade.interp)+'</option><option value="Africa/Accra">'+jade.escape(null==(jade.interp=_t("Accra (+0000)"))?"":jade.interp)+'</option><option value="Africa/Addis_Ababa">'+jade.escape(null==(jade.interp=_t("Addis Ababa (+0300)"))?"":jade.interp)+'</option><option value="Africa/Algiers">'+jade.escape(null==(jade.interp=_t("Algiers (+0100)"))?"":jade.interp)+'</option><option value="Africa/Asmara">'+jade.escape(null==(jade.interp=_t("Asmara (+0300)"))?"":jade.interp)+'</option><option value="Africa/Bamako">'+jade.escape(null==(jade.interp=_t("Bamako (+0000)"))?"":jade.interp)+'</option><option value="Africa/Bangui">'+jade.escape(null==(jade.interp=_t("Bangui (+0100)"))?"":jade.interp)+'</option><option value="Africa/Banjul">'+jade.escape(null==(jade.interp=_t("Banjul (+0000)"))?"":jade.interp)+'</option><option value="Africa/Bissau">'+jade.escape(null==(jade.interp=_t("Bissau (+0000)"))?"":jade.interp)+'</option><option value="Africa/Blantyre">'+jade.escape(null==(jade.interp=_t("Blantyre (+0200)"))?"":jade.interp)+'</option><option value="Africa/Brazzaville">'+jade.escape(null==(jade.interp=_t("Brazzaville (+0100)"))?"":jade.interp)+'</option><option value="Africa/Bujumbura">'+jade.escape(null==(jade.interp=_t("Bujumbura (+0200)"))?"":jade.interp)+'</option><option value="Africa/Cairo">'+jade.escape(null==(jade.interp=_t("Cairo (+0200)"))?"":jade.interp)+'</option><option value="Africa/Casablanca">'+jade.escape(null==(jade.interp=_t("Casablanca (+0000)"))?"":jade.interp)+'</option><option value="Africa/Ceuta">'+jade.escape(null==(jade.interp=_t("Ceuta (+0200)"))?"":jade.interp)+'</option><option value="Africa/Conakry">'+jade.escape(null==(jade.interp=_t("Conakry (+0000)"))?"":jade.interp)+'</option><option value="Africa/Dakar">'+jade.escape(null==(jade.interp=_t("Dakar (+0000)"))?"":jade.interp)+'</option><option value="Africa/Dar_es_Salaam">'+jade.escape(null==(jade.interp=_t("Dar es Salaam (+0300)"))?"":jade.interp)+'</option><option value="Africa/Djibouti">'+jade.escape(null==(jade.interp=_t("Djibouti (+0300)"))?"":jade.interp)+'</option><option value="Africa/Douala">'+jade.escape(null==(jade.interp=_t("Douala (+0100)"))?"":jade.interp)+'</option><option value="Africa/El_Aaiun">'+jade.escape(null==(jade.interp=_t("El Aaiun (+0000)"))?"":jade.interp)+'</option><option value="Africa/Freetown">'+jade.escape(null==(jade.interp=_t("Freetown (+0000)"))?"":jade.interp)+'</option><option value="Africa/Gaborone">'+jade.escape(null==(jade.interp=_t("Gaborone (+0200)"))?"":jade.interp)+'</option><option value="Africa/Harare">'+jade.escape(null==(jade.interp=_t("Harare (+0200)"))?"":jade.interp)+'</option><option value="Africa/Johannesburg">'+jade.escape(null==(jade.interp=_t("Johannesburg (+0200)"))?"":jade.interp)+'</option><option value="Africa/Juba">'+jade.escape(null==(jade.interp=_t("Juba (+0300)"))?"":jade.interp)+'</option><option value="Africa/Kampala">'+jade.escape(null==(jade.interp=_t("Kampala (+0300)"))?"":jade.interp)+'</option><option value="Africa/Khartoum">'+jade.escape(null==(jade.interp=_t("Khartoum (+0300)"))?"":jade.interp)+'</option><option value="Africa/Kigali">'+jade.escape(null==(jade.interp=_t("Kigali (+0200)"))?"":jade.interp)+'</option><option value="Africa/Kinshasa">'+jade.escape(null==(jade.interp=_t("Kinshasa (+0100)"))?"":jade.interp)+'</option><option value="Africa/Lagos">'+jade.escape(null==(jade.interp=_t("Lagos (+0100)"))?"":jade.interp)+'</option><option value="Africa/Libreville">'+jade.escape(null==(jade.interp=_t("Libreville (+0100)"))?"":jade.interp)+'</option><option value="Africa/Lome">'+jade.escape(null==(jade.interp=_t("Lome (+0000)"))?"":jade.interp)+'</option><option value="Africa/Luanda">'+jade.escape(null==(jade.interp=_t("Luanda (+0100)"))?"":jade.interp)+'</option><option value="Africa/Lubumbashi">'+jade.escape(null==(jade.interp=_t("Lubumbashi (+0200)"))?"":jade.interp)+'</option><option value="Africa/Lusaka">'+jade.escape(null==(jade.interp=_t("Lusaka (+0200)"))?"":jade.interp)+'</option><option value="Africa/Malabo">'+jade.escape(null==(jade.interp=_t("Malabo (+0100)"))?"":jade.interp)+'</option><option value="Africa/Maputo">'+jade.escape(null==(jade.interp=_t("Maputo (+0200)"))?"":jade.interp)+'</option><option value="Africa/Maseru">'+jade.escape(null==(jade.interp=_t("Maseru (+0200)"))?"":jade.interp)+'</option><option value="Africa/Mbabane">'+jade.escape(null==(jade.interp=_t("Mbabane (+0200)"))?"":jade.interp)+'</option><option value="Africa/Mogadishu">'+jade.escape(null==(jade.interp=_t("Mogadishu (+0300)"))?"":jade.interp)+'</option><option value="Africa/Monrovia">'+jade.escape(null==(jade.interp=_t("Monrovia (+0000)"))?"":jade.interp)+'</option><option value="Africa/Nairobi">'+jade.escape(null==(jade.interp=_t("Nairobi (+0300)"))?"":jade.interp)+'</option><option value="Africa/Ndjamena">'+jade.escape(null==(jade.interp=_t("Ndjamena (+0100)"))?"":jade.interp)+'</option><option value="Africa/Niamey">'+jade.escape(null==(jade.interp=_t("Niamey (+0100)"))?"":jade.interp)+'</option><option value="Africa/Nouakchott">'+jade.escape(null==(jade.interp=_t("Nouakchott (+0000)"))?"":jade.interp)+'</option><option value="Africa/Ouagadougou">'+jade.escape(null==(jade.interp=_t("Ouagadougou (+0000)"))?"":jade.interp)+'</option><option value="Africa/Porto-Novo">'+jade.escape(null==(jade.interp=_t("Porto-Novo (+0100)"))?"":jade.interp)+'</option><option value="Africa/Sao_Tome">'+jade.escape(null==(jade.interp=_t("Sao Tome (+0000)"))?"":jade.interp)+'</option><option value="Africa/Tripoli">'+jade.escape(null==(jade.interp=_t("Tripoli (+0200)"))?"":jade.interp)+'</option><option value="Africa/Tunis">'+jade.escape(null==(jade.interp=_t("Tunis (+0100)"))?"":jade.interp)+'</option><option value="Africa/Windhoek">'+jade.escape(null==(jade.interp=_t("Windhoek (+0100)"))?"":jade.interp)+'</option></optgroup><optgroup label="America"><option value="America/Adak">'+jade.escape(null==(jade.interp=_t("Adak (-0900)"))?"":jade.interp)+'</option><option value="America/Anchorage">'+jade.escape(null==(jade.interp=_t("Anchorage (-0800)"))?"":jade.interp)+'</option><option value="America/Anguilla">'+jade.escape(null==(jade.interp=_t("Anguilla (-0400)"))?"":jade.interp)+'</option><option value="America/Antigua">'+jade.escape(null==(jade.interp=_t("Antigua (-0400)"))?"":jade.interp)+'</option><option value="America/Araguaina">'+jade.escape(null==(jade.interp=_t("Araguaina (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Buenos_Aires">'+jade.escape(null==(jade.interp=_t("Buenos Aires (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Catamarca">'+jade.escape(null==(jade.interp=_t("Catamarca (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Cordoba">'+jade.escape(null==(jade.interp=_t("Cordoba (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Jujuy">'+jade.escape(null==(jade.interp=_t("Jujuy (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/La_Rioja">'+jade.escape(null==(jade.interp=_t("La Rioja (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Mendoza">'+jade.escape(null==(jade.interp=_t("Mendoza (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Rio_Gallegos">'+jade.escape(null==(jade.interp=_t("Rio Gallegos (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Salta">'+jade.escape(null==(jade.interp=_t("Salta (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/San_Juan">'+jade.escape(null==(jade.interp=_t("San Juan (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/San_Luis">'+jade.escape(null==(jade.interp=_t("San Luis (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Tucuman">'+jade.escape(null==(jade.interp=_t("Tucuman (-0300)"))?"":jade.interp)+'</option><option value="America/Argentina/Ushuaia">'+jade.escape(null==(jade.interp=_t("Ushuaia (-0300)"))?"":jade.interp)+'</option><option value="America/Aruba">'+jade.escape(null==(jade.interp=_t("Aruba (-0400)"))?"":jade.interp)+'</option><option value="America/Asuncion">'+jade.escape(null==(jade.interp=_t("Asuncion (-0400)"))?"":jade.interp)+'</option><option value="America/Atikokan">'+jade.escape(null==(jade.interp=_t("Atikokan (-0500)"))?"":jade.interp)+'</option><option value="America/Bahia">'+jade.escape(null==(jade.interp=_t("Bahia (-0300)"))?"":jade.interp)+'</option><option value="America/Bahia_Banderas">'+jade.escape(null==(jade.interp=_t("Bahia Banderas (-0500)"))?"":jade.interp)+'</option><option value="America/Barbados">'+jade.escape(null==(jade.interp=_t("Barbados (-0400)"))?"":jade.interp)+'</option><option value="America/Belem">'+jade.escape(null==(jade.interp=_t("Belem (-0300)"))?"":jade.interp)+'</option><option value="America/Belize">'+jade.escape(null==(jade.interp=_t("Belize (-0600)"))?"":jade.interp)+'</option><option value="America/Blanc-Sablon">'+jade.escape(null==(jade.interp=_t("Blanc-Sablon (-0400)"))?"":jade.interp)+'</option><option value="America/Boa_Vista">'+jade.escape(null==(jade.interp=_t("Boa Vista (-0400)"))?"":jade.interp)+'</option><option value="America/Bogota">'+jade.escape(null==(jade.interp=_t("Bogota (-0500)"))?"":jade.interp)+'</option><option value="America/Boise">'+jade.escape(null==(jade.interp=_t("Boise (-0600)"))?"":jade.interp)+'</option><option value="America/Cambridge_Bay">'+jade.escape(null==(jade.interp=_t("Cambridge Bay (-0600)"))?"":jade.interp)+'</option><option value="America/Campo_Grande">'+jade.escape(null==(jade.interp=_t("Campo Grande (-0400)"))?"":jade.interp)+'</option><option value="America/Cancun">'+jade.escape(null==(jade.interp=_t("Cancun (-0500)"))?"":jade.interp)+'</option><option value="America/Caracas">'+jade.escape(null==(jade.interp=_t("Caracas (-0430)"))?"":jade.interp)+'</option><option value="America/Cayenne">'+jade.escape(null==(jade.interp=_t("Cayenne (-0300)"))?"":jade.interp)+'</option><option value="America/Cayman">'+jade.escape(null==(jade.interp=_t("Cayman (-0500)"))?"":jade.interp)+'</option><option value="America/Chicago">'+jade.escape(null==(jade.interp=_t("Chicago (-0500)"))?"":jade.interp)+'</option><option value="America/Chihuahua">'+jade.escape(null==(jade.interp=_t("Chihuahua (-0600)"))?"":jade.interp)+'</option><option value="America/Costa_Rica">'+jade.escape(null==(jade.interp=_t("Costa Rica (-0600)"))?"":jade.interp)+'</option><option value="America/Creston">'+jade.escape(null==(jade.interp=_t("Creston (-0700)"))?"":jade.interp)+'</option><option value="America/Cuiaba">'+jade.escape(null==(jade.interp=_t("Cuiaba (-0400)"))?"":jade.interp)+'</option><option value="America/Curacao">'+jade.escape(null==(jade.interp=_t("Curacao (-0400)"))?"":jade.interp)+'</option><option value="America/Danmarkshavn">'+jade.escape(null==(jade.interp=_t("Danmarkshavn (+0000)"))?"":jade.interp)+'</option><option value="America/Dawson">'+jade.escape(null==(jade.interp=_t("Dawson (-0700)"))?"":jade.interp)+'</option><option value="America/Dawson_Creek">'+jade.escape(null==(jade.interp=_t("Dawson Creek (-0700)"))?"":jade.interp)+'</option><option value="America/Denver">'+jade.escape(null==(jade.interp=_t("Denver (-0600)"))?"":jade.interp)+'</option><option value="America/Detroit">'+jade.escape(null==(jade.interp=_t("Detroit (-0400)"))?"":jade.interp)+'</option><option value="America/Dominica">'+jade.escape(null==(jade.interp=_t("Dominica (-0400)"))?"":jade.interp)+'</option><option value="America/Edmonton">'+jade.escape(null==(jade.interp=_t("Edmonton (-0600)"))?"":jade.interp)+'</option><option value="America/Eirunepe">'+jade.escape(null==(jade.interp=_t("Eirunepe (-0400)"))?"":jade.interp)+'</option><option value="America/El_Salvador">'+jade.escape(null==(jade.interp=_t("El Salvador (-0600)"))?"":jade.interp)+'</option><option value="America/Fortaleza">'+jade.escape(null==(jade.interp=_t("Fortaleza (-0300)"))?"":jade.interp)+'</option><option value="America/Glace_Bay">'+jade.escape(null==(jade.interp=_t("Glace Bay (-0300)"))?"":jade.interp)+'</option><option value="America/Godthab">'+jade.escape(null==(jade.interp=_t("Godthab (-0200)"))?"":jade.interp)+'</option><option value="America/Goose_Bay">'+jade.escape(null==(jade.interp=_t("Goose Bay (-0300)"))?"":jade.interp)+'</option><option value="America/Grand_Turk">'+jade.escape(null==(jade.interp=_t("Grand Turk (-0400)"))?"":jade.interp)+'</option><option value="America/Grenada">'+jade.escape(null==(jade.interp=_t("Grenada (-0400)"))?"":jade.interp)+'</option><option value="America/Guadeloupe">'+jade.escape(null==(jade.interp=_t("Guadeloupe (-0400)"))?"":jade.interp)+'</option><option value="America/Guatemala">'+jade.escape(null==(jade.interp=_t("Guatemala (-0600)"))?"":jade.interp)+'</option><option value="America/Guayaquil">'+jade.escape(null==(jade.interp=_t("Guayaquil (-0500)"))?"":jade.interp)+'</option><option value="America/Guyana">'+jade.escape(null==(jade.interp=_t("Guyana (-0400)"))?"":jade.interp)+'</option><option value="America/Halifax">'+jade.escape(null==(jade.interp=_t("Halifax (-0300)"))?"":jade.interp)+'</option><option value="America/Havana">'+jade.escape(null==(jade.interp=_t("Havana (-0400)"))?"":jade.interp)+'</option><option value="America/Hermosillo">'+jade.escape(null==(jade.interp=_t("Hermosillo (-0700)"))?"":jade.interp)+'</option><option value="America/Indiana/Indianapolis">'+jade.escape(null==(jade.interp=_t("Indianapolis (-0400)"))?"":jade.interp)+'</option><option value="America/Indiana/Knox">'+jade.escape(null==(jade.interp=_t("Knox (-0500)"))?"":jade.interp)+'</option><option value="America/Indiana/Marengo">'+jade.escape(null==(jade.interp=_t("Marengo (-0400)"))?"":jade.interp)+'</option><option value="America/Indiana/Petersburg">'+jade.escape(null==(jade.interp=_t("Petersburg (-0400)"))?"":jade.interp)+'</option><option value="America/Indiana/Tell_City">'+jade.escape(null==(jade.interp=_t("Tell City (-0500)"))?"":jade.interp)+'</option><option value="America/Indiana/Vevay">'+jade.escape(null==(jade.interp=_t("Vevay (-0400)"))?"":jade.interp)+'</option><option value="America/Indiana/Vincennes">'+jade.escape(null==(jade.interp=_t("Vincennes (-0400)"))?"":jade.interp)+'</option><option value="America/Indiana/Winamac">'+jade.escape(null==(jade.interp=_t("Winamac (-0400)"))?"":jade.interp)+'</option><option value="America/Inuvik">'+jade.escape(null==(jade.interp=_t("Inuvik (-0600)"))?"":jade.interp)+'</option><option value="America/Iqaluit">'+jade.escape(null==(jade.interp=_t("Iqaluit (-0400)"))?"":jade.interp)+'</option><option value="America/Jamaica">'+jade.escape(null==(jade.interp=_t("Jamaica (-0500)"))?"":jade.interp)+'</option><option value="America/Juneau">'+jade.escape(null==(jade.interp=_t("Juneau (-0800)"))?"":jade.interp)+'</option><option value="America/Kentucky/Louisville">'+jade.escape(null==(jade.interp=_t("Louisville (-0400)"))?"":jade.interp)+'</option><option value="America/Kentucky/Monticello">'+jade.escape(null==(jade.interp=_t("Monticello (-0400)"))?"":jade.interp)+'</option><option value="America/Kralendijk">'+jade.escape(null==(jade.interp=_t("Kralendijk (-0400)"))?"":jade.interp)+'</option><option value="America/La_Paz">'+jade.escape(null==(jade.interp=_t("La Paz (-0400)"))?"":jade.interp)+'</option><option value="America/Lima">'+jade.escape(null==(jade.interp=_t("Lima (-0500)"))?"":jade.interp)+'</option><option selected="selected" value="America/Los_Angeles">'+jade.escape(null==(jade.interp=_t("Los Angeles (-0700)"))?"":jade.interp)+'</option><option value="America/Lower_Princes">'+jade.escape(null==(jade.interp=_t("Lower Princes (-0400)"))?"":jade.interp)+'</option><option value="America/Maceio">'+jade.escape(null==(jade.interp=_t("Maceio (-0300)"))?"":jade.interp)+'</option><option value="America/Managua">'+jade.escape(null==(jade.interp=_t("Managua (-0600)"))?"":jade.interp)+'</option><option value="America/Manaus">'+jade.escape(null==(jade.interp=_t("Manaus (-0400)"))?"":jade.interp)+'</option><option value="America/Marigot">'+jade.escape(null==(jade.interp=_t("Marigot (-0400)"))?"":jade.interp)+'</option><option value="America/Martinique">'+jade.escape(null==(jade.interp=_t("Martinique (-0400)"))?"":jade.interp)+'</option><option value="America/Matamoros">'+jade.escape(null==(jade.interp=_t("Matamoros (-0500)"))?"":jade.interp)+'</option><option value="America/Mazatlan">'+jade.escape(null==(jade.interp=_t("Mazatlan (-0600)"))?"":jade.interp)+'</option><option value="America/Menominee">'+jade.escape(null==(jade.interp=_t("Menominee (-0500)"))?"":jade.interp)+'</option><option value="America/Merida">'+jade.escape(null==(jade.interp=_t("Merida (-0500)"))?"":jade.interp)+'</option><option value="America/Metlakatla">'+jade.escape(null==(jade.interp=_t("Metlakatla (-0800)"))?"":jade.interp)+'</option><option value="America/Mexico_City">'+jade.escape(null==(jade.interp=_t("Mexico City (-0500)"))?"":jade.interp)+'</option><option value="America/Miquelon">'+jade.escape(null==(jade.interp=_t("Miquelon (-0200)"))?"":jade.interp)+'</option><option value="America/Moncton">'+jade.escape(null==(jade.interp=_t("Moncton (-0300)"))?"":jade.interp)+'</option><option value="America/Monterrey">'+jade.escape(null==(jade.interp=_t("Monterrey (-0500)"))?"":jade.interp)+'</option><option value="America/Montevideo">'+jade.escape(null==(jade.interp=_t("Montevideo (-0300)"))?"":jade.interp)+'</option><option value="America/Montreal">'+jade.escape(null==(jade.interp=_t("Montreal (-0400)"))?"":jade.interp)+'</option><option value="America/Montserrat">'+jade.escape(null==(jade.interp=_t("Montserrat (-0400)"))?"":jade.interp)+'</option><option value="America/Nassau">'+jade.escape(null==(jade.interp=_t("Nassau (-0400)"))?"":jade.interp)+'</option><option value="America/New_York">'+jade.escape(null==(jade.interp=_t("New York (-0400)"))?"":jade.interp)+'</option><option value="America/Nipigon">'+jade.escape(null==(jade.interp=_t("Nipigon (-0400)"))?"":jade.interp)+'</option><option value="America/Nome">'+jade.escape(null==(jade.interp=_t("Nome (-0800)"))?"":jade.interp)+'</option><option value="America/Noronha">'+jade.escape(null==(jade.interp=_t("Noronha (-0200)"))?"":jade.interp)+'</option><option value="America/North_Dakota/Beulah">'+jade.escape(null==(jade.interp=_t("Beulah (-0500)"))?"":jade.interp)+'</option><option value="America/North_Dakota/Center">'+jade.escape(null==(jade.interp=_t("Center (-0500)"))?"":jade.interp)+'</option><option value="America/North_Dakota/New_Salem">'+jade.escape(null==(jade.interp=_t("New Salem (-0500)"))?"":jade.interp)+'</option><option value="America/Ojinaga">'+jade.escape(null==(jade.interp=_t("Ojinaga (-0600)"))?"":jade.interp)+'</option><option value="America/Panama">'+jade.escape(null==(jade.interp=_t("Panama (-0500)"))?"":jade.interp)+'</option><option value="America/Pangnirtung">'+jade.escape(null==(jade.interp=_t("Pangnirtung (-0400)"))?"":jade.interp)+'</option><option value="America/Paramaribo">'+jade.escape(null==(jade.interp=_t("Paramaribo (-0300)"))?"":jade.interp)+'</option><option value="America/Phoenix">'+jade.escape(null==(jade.interp=_t("Phoenix (-0700)"))?"":jade.interp)+'</option><option value="America/Port-au-Prince">'+jade.escape(null==(jade.interp=_t("Port-au-Prince (-0500)"))?"":jade.interp)+'</option><option value="America/Port_of_Spain">'+jade.escape(null==(jade.interp=_t("Port of Spain (-0400)"))?"":jade.interp)+'</option><option value="America/Porto_Velho">'+jade.escape(null==(jade.interp=_t("Porto Velho (-0400)"))?"":jade.interp)+'</option><option value="America/Puerto_Rico">'+jade.escape(null==(jade.interp=_t("Puerto Rico (-0400)"))?"":jade.interp)+'</option><option value="America/Rainy_River">'+jade.escape(null==(jade.interp=_t("Rainy River (-0500)"))?"":jade.interp)+'</option><option value="America/Rankin_Inlet">'+jade.escape(null==(jade.interp=_t("Rankin Inlet (-0500)"))?"":jade.interp)+'</option><option value="America/Recife">'+jade.escape(null==(jade.interp=_t("Recife (-0300)"))?"":jade.interp)+'</option><option value="America/Regina">'+jade.escape(null==(jade.interp=_t("Regina (-0600)"))?"":jade.interp)+'</option><option value="America/Resolute">'+jade.escape(null==(jade.interp=_t("Resolute (-0500)"))?"":jade.interp)+'</option><option value="America/Rio_Branco">'+jade.escape(null==(jade.interp=_t("Rio Branco (-0400)"))?"":jade.interp)+'</option><option value="America/Santa_Isabel">'+jade.escape(null==(jade.interp=_t("Santa Isabel (-0700)"))?"":jade.interp)+'</option><option value="America/Santarem">'+jade.escape(null==(jade.interp=_t("Santarem (-0300)"))?"":jade.interp)+'</option><option value="America/Santiago">'+jade.escape(null==(jade.interp=_t("Santiago (-0400)"))?"":jade.interp)+'</option><option value="America/Santo_Domingo">'+jade.escape(null==(jade.interp=_t("Santo Domingo (-0400)"))?"":jade.interp)+'</option><option value="America/Sao_Paulo">'+jade.escape(null==(jade.interp=_t("Sao Paulo (-0300)"))?"":jade.interp)+'</option><option value="America/Scoresbysund">'+jade.escape(null==(jade.interp=_t("Scoresbysund (+0000)"))?"":jade.interp)+'</option><option value="America/Shiprock">'+jade.escape(null==(jade.interp=_t("Shiprock (-0600)"))?"":jade.interp)+'</option><option value="America/Sitka">'+jade.escape(null==(jade.interp=_t("Sitka (-0800)"))?"":jade.interp)+'</option><option value="America/St_Barthelemy">'+jade.escape(null==(jade.interp=_t("St Barthelemy (-0400)"))?"":jade.interp)+'</option><option value="America/St_Johns">'+jade.escape(null==(jade.interp=_t("St Johns (-0230)"))?"":jade.interp)+'</option><option value="America/St_Kitts">'+jade.escape(null==(jade.interp=_t("St Kitts (-0400)"))?"":jade.interp)+'</option><option value="America/St_Lucia">'+jade.escape(null==(jade.interp=_t("St Lucia (-0400)"))?"":jade.interp)+'</option><option value="America/St_Thomas">'+jade.escape(null==(jade.interp=_t("St Thomas (-0400)"))?"":jade.interp)+'</option><option value="America/St_Vincent">'+jade.escape(null==(jade.interp=_t("St Vincent (-0400)"))?"":jade.interp)+'</option><option value="America/Swift_Current">'+jade.escape(null==(jade.interp=_t("Swift Current (-0600)"))?"":jade.interp)+'</option><option value="America/Tegucigalpa">'+jade.escape(null==(jade.interp=_t("Tegucigalpa (-0600)"))?"":jade.interp)+'</option><option value="America/Thule">'+jade.escape(null==(jade.interp=_t("Thule (-0300)"))?"":jade.interp)+'</option><option value="America/Thunder_Bay">'+jade.escape(null==(jade.interp=_t("Thunder Bay (-0400)"))?"":jade.interp)+'</option><option value="America/Tijuana">'+jade.escape(null==(jade.interp=_t("Tijuana (-0700)"))?"":jade.interp)+'</option><option value="America/Toronto">'+jade.escape(null==(jade.interp=_t("Toronto (-0400)"))?"":jade.interp)+'</option><option value="America/Tortola">'+jade.escape(null==(jade.interp=_t("Tortola (-0400)"))?"":jade.interp)+'</option><option value="America/Vancouver">'+jade.escape(null==(jade.interp=_t("Vancouver (-0700)"))?"":jade.interp)+'</option><option value="America/Whitehorse">'+jade.escape(null==(jade.interp=_t("Whitehorse (-0700)"))?"":jade.interp)+'</option><option value="America/Winnipeg">'+jade.escape(null==(jade.interp=_t("Winnipeg (-0500)"))?"":jade.interp)+'</option><option value="America/Yakutat">'+jade.escape(null==(jade.interp=_t("Yakutat (-0800)"))?"":jade.interp)+'</option><option value="America/Yellowknife">'+jade.escape(null==(jade.interp=_t("Yellowknife (-0600)"))?"":jade.interp)+'</option></optgroup><optgroup label="Antarctica"><option value="Antarctica/Casey">'+jade.escape(null==(jade.interp=_t("Casey (+0800)"))?"":jade.interp)+'</option><option value="Antarctica/Davis">'+jade.escape(null==(jade.interp=_t("Davis (+0700)"))?"":jade.interp)+'</option><option value="Antarctica/DumontDUrville">'+jade.escape(null==(jade.interp=_t("DumontDUrville (+1000)"))?"":jade.interp)+'</option><option value="Antarctica/Macquarie">'+jade.escape(null==(jade.interp=_t("Macquarie (+1100)"))?"":jade.interp)+'</option><option value="Antarctica/Mawson">'+jade.escape(null==(jade.interp=_t("Mawson (+0500)"))?"":jade.interp)+'</option><option value="Antarctica/McMurdo">'+jade.escape(null==(jade.interp=_t("McMurdo (+1200)"))?"":jade.interp)+'</option><option value="Antarctica/Palmer">'+jade.escape(null==(jade.interp=_t("Palmer (-0400)"))?"":jade.interp)+'</option><option value="Antarctica/Rothera">'+jade.escape(null==(jade.interp=_t("Rothera (-0300)"))?"":jade.interp)+'</option><option value="Antarctica/South_Pole">'+jade.escape(null==(jade.interp=_t("South Pole (+1200)"))?"":jade.interp)+'</option><option value="Antarctica/Syowa">'+jade.escape(null==(jade.interp=_t("Syowa (+0300)"))?"":jade.interp)+'</option><option value="Antarctica/Vostok">'+jade.escape(null==(jade.interp=_t("Vostok (+0600)"))?"":jade.interp)+'</option></optgroup><optgroup label="Arctic"><option value="Arctic/Longyearbyen">'+jade.escape(null==(jade.interp=_t("Longyearbyen (+0200)"))?"":jade.interp)+'</option></optgroup><optgroup label="Asia"><option value="Asia/Aden">'+jade.escape(null==(jade.interp=_t("Aden (+0300)"))?"":jade.interp)+'</option><option value="Asia/Almaty">'+jade.escape(null==(jade.interp=_t("Almaty (+0600)"))?"":jade.interp)+'</option><option value="Asia/Amman">'+jade.escape(null==(jade.interp=_t("Amman (+0300)"))?"":jade.interp)+'</option><option value="Asia/Anadyr">'+jade.escape(null==(jade.interp=_t("Anadyr (+1200)"))?"":jade.interp)+'</option><option value="Asia/Aqtau">'+jade.escape(null==(jade.interp=_t("Aqtau (+0500)"))?"":jade.interp)+'</option><option value="Asia/Aqtobe">'+jade.escape(null==(jade.interp=_t("Aqtobe (+0500)"))?"":jade.interp)+'</option><option value="Asia/Ashgabat">'+jade.escape(null==(jade.interp=_t("Ashgabat (+0500)"))?"":jade.interp)+'</option><option value="Asia/Baghdad">'+jade.escape(null==(jade.interp=_t("Baghdad (+0300)"))?"":jade.interp)+'</option><option value="Asia/Bahrain">'+jade.escape(null==(jade.interp=_t("Bahrain (+0300)"))?"":jade.interp)+'</option><option value="Asia/Baku">'+jade.escape(null==(jade.interp=_t("Baku (+0500)"))?"":jade.interp)+'</option><option value="Asia/Bangkok">'+jade.escape(null==(jade.interp=_t("Bangkok (+0700)"))?"":jade.interp)+'</option><option value="Asia/Beirut">'+jade.escape(null==(jade.interp=_t("Beirut (+0300)"))?"":jade.interp)+'</option><option value="Asia/Bishkek">'+jade.escape(null==(jade.interp=_t("Bishkek (+0600)"))?"":jade.interp)+'</option><option value="Asia/Brunei">'+jade.escape(null==(jade.interp=_t("Brunei (+0800)"))?"":jade.interp)+'</option><option value="Asia/Choibalsan">'+jade.escape(null==(jade.interp=_t("Choibalsan (+0800)"))?"":jade.interp)+'</option><option value="Asia/Chongqing">'+jade.escape(null==(jade.interp=_t("Chongqing (+0800)"))?"":jade.interp)+'</option><option value="Asia/Colombo">'+jade.escape(null==(jade.interp=_t("Colombo (+0530)"))?"":jade.interp)+'</option><option value="Asia/Damascus">'+jade.escape(null==(jade.interp=_t("Damascus (+0300)"))?"":jade.interp)+'</option><option value="Asia/Dhaka">'+jade.escape(null==(jade.interp=_t("Dhaka (+0600)"))?"":jade.interp)+'</option><option value="Asia/Dili">'+jade.escape(null==(jade.interp=_t("Dili (+0900)"))?"":jade.interp)+'</option><option value="Asia/Dubai">'+jade.escape(null==(jade.interp=_t("Dubai (+0400)"))?"":jade.interp)+'</option><option value="Asia/Dushanbe">'+jade.escape(null==(jade.interp=_t("Dushanbe (+0500)"))?"":jade.interp)+'</option><option value="Asia/Gaza">'+jade.escape(null==(jade.interp=_t("Gaza (+0200)"))?"":jade.interp)+'</option><option value="Asia/Harbin">'+jade.escape(null==(jade.interp=_t("Harbin (+0800)"))?"":jade.interp)+'</option><option value="Asia/Hebron">'+jade.escape(null==(jade.interp=_t("Hebron (+0200)"))?"":jade.interp)+'</option><option value="Asia/Ho_Chi_Minh">'+jade.escape(null==(jade.interp=_t("Ho Chi Minh (+0700)"))?"":jade.interp)+'</option><option value="Asia/Hong_Kong">'+jade.escape(null==(jade.interp=_t("Hong Kong (+0800)"))?"":jade.interp)+'</option><option value="Asia/Hovd">'+jade.escape(null==(jade.interp=_t("Hovd (+0700)"))?"":jade.interp)+'</option><option value="Asia/Irkutsk">'+jade.escape(null==(jade.interp=_t("Irkutsk (+0900)"))?"":jade.interp)+'</option><option value="Asia/Jakarta">'+jade.escape(null==(jade.interp=_t("Jakarta (+0700)"))?"":jade.interp)+'</option><option value="Asia/Jayapura">'+jade.escape(null==(jade.interp=_t("Jayapura (+0900)"))?"":jade.interp)+'</option><option value="Asia/Jerusalem">'+jade.escape(null==(jade.interp=_t("Jerusalem (+0300)"))?"":jade.interp)+'</option><option value="Asia/Kabul">'+jade.escape(null==(jade.interp=_t("Kabul (+0430)"))?"":jade.interp)+'</option><option value="Asia/Kamchatka">'+jade.escape(null==(jade.interp=_t("Kamchatka (+1200)"))?"":jade.interp)+'</option><option value="Asia/Karachi">'+jade.escape(null==(jade.interp=_t("Karachi (+0500)"))?"":jade.interp)+'</option><option value="Asia/Kashgar">'+jade.escape(null==(jade.interp=_t("Kashgar (+0800)"))?"":jade.interp)+'</option><option value="Asia/Kathmandu">'+jade.escape(null==(jade.interp=_t("Kathmandu (+0545)"))?"":jade.interp)+'</option><option value="Asia/Kolkata">'+jade.escape(null==(jade.interp=_t("Kolkata (+0530)"))?"":jade.interp)+'</option><option value="Asia/Krasnoyarsk">'+jade.escape(null==(jade.interp=_t("Krasnoyarsk (+0800)"))?"":jade.interp)+'</option><option value="Asia/Kuala_Lumpur">'+jade.escape(null==(jade.interp=_t("Kuala Lumpur (+0800)"))?"":jade.interp)+'</option><option value="Asia/Kuching">'+jade.escape(null==(jade.interp=_t("Kuching (+0800)"))?"":jade.interp)+'</option><option value="Asia/Kuwait">'+jade.escape(null==(jade.interp=_t("Kuwait (+0300)"))?"":jade.interp)+'</option><option value="Asia/Macau">'+jade.escape(null==(jade.interp=_t("Macau (+0800)"))?"":jade.interp)+'</option><option value="Asia/Magadan">'+jade.escape(null==(jade.interp=_t("Magadan (+1200)"))?"":jade.interp)+'</option><option value="Asia/Makassar">'+jade.escape(null==(jade.interp=_t("Makassar (+0800)"))?"":jade.interp)+'</option><option value="Asia/Manila">'+jade.escape(null==(jade.interp=_t("Manila (+0800)"))?"":jade.interp)+'</option><option value="Asia/Muscat">'+jade.escape(null==(jade.interp=_t("Muscat (+0400)"))?"":jade.interp)+'</option><option value="Asia/Nicosia">'+jade.escape(null==(jade.interp=_t("Nicosia (+0300)"))?"":jade.interp)+'</option><option value="Asia/Novokuznetsk">'+jade.escape(null==(jade.interp=_t("Novokuznetsk (+0700)"))?"":jade.interp)+'</option><option value="Asia/Novosibirsk">'+jade.escape(null==(jade.interp=_t("Novosibirsk (+0700)"))?"":jade.interp)+'</option><option value="Asia/Omsk">'+jade.escape(null==(jade.interp=_t("Omsk (+0700)"))?"":jade.interp)+'</option><option value="Asia/Oral">'+jade.escape(null==(jade.interp=_t("Oral (+0500)"))?"":jade.interp)+'</option><option value="Asia/Phnom_Penh">'+jade.escape(null==(jade.interp=_t("Phnom Penh (+0700)"))?"":jade.interp)+'</option><option value="Asia/Pontianak">'+jade.escape(null==(jade.interp=_t("Pontianak (+0700)"))?"":jade.interp)+'</option><option value="Asia/Pyongyang">'+jade.escape(null==(jade.interp=_t("Pyongyang (+0900)"))?"":jade.interp)+'</option><option value="Asia/Qatar">'+jade.escape(null==(jade.interp=_t("Qatar (+0300)"))?"":jade.interp)+'</option><option value="Asia/Qyzylorda">'+jade.escape(null==(jade.interp=_t("Qyzylorda (+0600)"))?"":jade.interp)+'</option><option value="Asia/Rangoon">'+jade.escape(null==(jade.interp=_t("Rangoon (+0630)"))?"":jade.interp)+'</option><option value="Asia/Riyadh">'+jade.escape(null==(jade.interp=_t("Riyadh (+0300)"))?"":jade.interp)+'</option><option value="Asia/Sakhalin">'+jade.escape(null==(jade.interp=_t("Sakhalin (+1100)"))?"":jade.interp)+'</option><option value="Asia/Samarkand">'+jade.escape(null==(jade.interp=_t("Samarkand (+0500)"))?"":jade.interp)+'</option><option value="Asia/Seoul">'+jade.escape(null==(jade.interp=_t("Seoul (+0900)"))?"":jade.interp)+'</option><option value="Asia/Shanghai">'+jade.escape(null==(jade.interp=_t("Shanghai (+0800)"))?"":jade.interp)+'</option><option value="Asia/Singapore">'+jade.escape(null==(jade.interp=_t("Singapore (+0800)"))?"":jade.interp)+'</option><option value="Asia/Taipei">'+jade.escape(null==(jade.interp=_t("Taipei (+0800)"))?"":jade.interp)+'</option><option value="Asia/Tashkent">'+jade.escape(null==(jade.interp=_t("Tashkent (+0500)"))?"":jade.interp)+'</option><option value="Asia/Tbilisi">'+jade.escape(null==(jade.interp=_t("Tbilisi (+0400)"))?"":jade.interp)+'</option><option value="Asia/Tehran">'+jade.escape(null==(jade.interp=_t("Tehran (+0430)"))?"":jade.interp)+'</option><option value="Asia/Thimphu">'+jade.escape(null==(jade.interp=_t("Thimphu (+0600)"))?"":jade.interp)+'</option><option value="Asia/Tokyo">'+jade.escape(null==(jade.interp=_t("Tokyo (+0900)"))?"":jade.interp)+'</option><option value="Asia/Ulaanbaatar">'+jade.escape(null==(jade.interp=_t("Ulaanbaatar (+0800)"))?"":jade.interp)+'</option><option value="Asia/Urumqi">'+jade.escape(null==(jade.interp=_t("Urumqi (+0800)"))?"":jade.interp)+'</option><option value="Asia/Vientiane">'+jade.escape(null==(jade.interp=_t("Vientiane (+0700)"))?"":jade.interp)+'</option><option value="Asia/Vladivostok">'+jade.escape(null==(jade.interp=_t("Vladivostok (+1100)"))?"":jade.interp)+'</option><option value="Asia/Yakutsk">'+jade.escape(null==(jade.interp=_t("Yakutsk (+1000)"))?"":jade.interp)+'</option><option value="Asia/Yekaterinburg">'+jade.escape(null==(jade.interp=_t("Yekaterinburg (+0600)"))?"":jade.interp)+'</option><option value="Asia/Yerevan">'+jade.escape(null==(jade.interp=_t("Yerevan (+0400)"))?"":jade.interp)+'</option></optgroup><optgroup label="Atlantic"><option value="Atlantic/Azores">'+jade.escape(null==(jade.interp=_t("Azores (+0000)"))?"":jade.interp)+'</option><option value="Atlantic/Bermuda">'+jade.escape(null==(jade.interp=_t("Bermuda (-0300)"))?"":jade.interp)+'</option><option value="Atlantic/Canary">'+jade.escape(null==(jade.interp=_t("Canary (+0100)"))?"":jade.interp)+'</option><option value="Atlantic/Cape_Verde">'+jade.escape(null==(jade.interp=_t("Cape Verde (-0100)"))?"":jade.interp)+'</option><option value="Atlantic/Faroe">'+jade.escape(null==(jade.interp=_t("Faroe (+0100)"))?"":jade.interp)+'</option><option value="Atlantic/Madeira">'+jade.escape(null==(jade.interp=_t("Madeira (+0100)"))?"":jade.interp)+'</option><option value="Atlantic/Reykjavik">'+jade.escape(null==(jade.interp=_t("Reykjavik (+0000)"))?"":jade.interp)+'</option><option value="Atlantic/South_Georgia">'+jade.escape(null==(jade.interp=_t("South Georgia (-0200)"))?"":jade.interp)+'</option><option value="Atlantic/St_Helena">'+jade.escape(null==(jade.interp=_t("St Helena (+0000)"))?"":jade.interp)+'</option><option value="Atlantic/Stanley">'+jade.escape(null==(jade.interp=_t("Stanley (-0300)"))?"":jade.interp)+'</option></optgroup><optgroup label="Australia"><option value="Australia/Adelaide">'+jade.escape(null==(jade.interp=_t("Adelaide (+0930)"))?"":jade.interp)+'</option><option value="Australia/Brisbane">'+jade.escape(null==(jade.interp=_t("Brisbane (+1000)"))?"":jade.interp)+'</option><option value="Australia/Broken_Hill">'+jade.escape(null==(jade.interp=_t("Broken Hill (+0930)"))?"":jade.interp)+'</option><option value="Australia/Currie">'+jade.escape(null==(jade.interp=_t("Currie (+1000)"))?"":jade.interp)+'</option><option value="Australia/Darwin">'+jade.escape(null==(jade.interp=_t("Darwin (+0930)"))?"":jade.interp)+'</option><option value="Australia/Eucla">'+jade.escape(null==(jade.interp=_t("Eucla (+0845)"))?"":jade.interp)+'</option><option value="Australia/Hobart">'+jade.escape(null==(jade.interp=_t("Hobart (+1000)"))?"":jade.interp)+'</option><option value="Australia/Lindeman">'+jade.escape(null==(jade.interp=_t("Lindeman (+1000)"))?"":jade.interp)+'</option><option value="Australia/Lord_Howe">'+jade.escape(null==(jade.interp=_t("Lord Howe (+1030)"))?"":jade.interp)+'</option><option value="Australia/Melbourne">'+jade.escape(null==(jade.interp=_t("Melbourne (+1000)"))?"":jade.interp)+'</option><option value="Australia/Perth">'+jade.escape(null==(jade.interp=_t("Perth (+0800)"))?"":jade.interp)+'</option><option value="Australia/Sydney">'+jade.escape(null==(jade.interp=_t("Sydney (+1000)"))?"":jade.interp)+'</option></optgroup><optgroup label="Europe"><option value="Europe/Amsterdam">'+jade.escape(null==(jade.interp=_t("Amsterdam (+0200)"))?"":jade.interp)+'</option><option value="Europe/Andorra">'+jade.escape(null==(jade.interp=_t("Andorra (+0200)"))?"":jade.interp)+'</option><option value="Europe/Athens">'+jade.escape(null==(jade.interp=_t("Athens (+0300)"))?"":jade.interp)+'</option><option value="Europe/Belgrade">'+jade.escape(null==(jade.interp=_t("Belgrade (+0200)"))?"":jade.interp)+'</option><option value="Europe/Berlin">'+jade.escape(null==(jade.interp=_t("Berlin (+0200)"))?"":jade.interp)+'</option><option value="Europe/Bratislava">'+jade.escape(null==(jade.interp=_t("Bratislava (+0200)"))?"":jade.interp)+'</option><option value="Europe/Brussels">'+jade.escape(null==(jade.interp=_t("Brussels (+0200)"))?"":jade.interp)+'</option><option value="Europe/Bucharest">'+jade.escape(null==(jade.interp=_t("Bucharest (+0300)"))?"":jade.interp)+'</option><option value="Europe/Budapest">'+jade.escape(null==(jade.interp=_t("Budapest (+0200)"))?"":jade.interp)+'</option><option value="Europe/Chisinau">'+jade.escape(null==(jade.interp=_t("Chisinau (+0300)"))?"":jade.interp)+'</option><option value="Europe/Copenhagen">'+jade.escape(null==(jade.interp=_t("Copenhagen (+0200)"))?"":jade.interp)+'</option><option value="Europe/Dublin">'+jade.escape(null==(jade.interp=_t("Dublin (+0100)"))?"":jade.interp)+'</option><option value="Europe/Gibraltar">'+jade.escape(null==(jade.interp=_t("Gibraltar (+0200)"))?"":jade.interp)+'</option><option value="Europe/Guernsey">'+jade.escape(null==(jade.interp=_t("Guernsey (+0100)"))?"":jade.interp)+'</option><option value="Europe/Helsinki">'+jade.escape(null==(jade.interp=_t("Helsinki (+0300)"))?"":jade.interp)+'</option><option value="Europe/Isle_of_Man">'+jade.escape(null==(jade.interp=_t("Isle of Man (+0100)"))?"":jade.interp)+'</option><option value="Europe/Istanbul">'+jade.escape(null==(jade.interp=_t("Istanbul (+0300)"))?"":jade.interp)+'</option><option value="Europe/Jersey">'+jade.escape(null==(jade.interp=_t("Jersey (+0100)"))?"":jade.interp)+'</option><option value="Europe/Kaliningrad">'+jade.escape(null==(jade.interp=_t("Kaliningrad (+0300)"))?"":jade.interp)+'</option><option value="Europe/Kiev">'+jade.escape(null==(jade.interp=_t("Kiev (+0300)"))?"":jade.interp)+'</option><option value="Europe/Lisbon">'+jade.escape(null==(jade.interp=_t("Lisbon (+0100)"))?"":jade.interp)+'</option><option value="Europe/Ljubljana">'+jade.escape(null==(jade.interp=_t("Ljubljana (+0200)"))?"":jade.interp)+'</option><option value="Europe/London">'+jade.escape(null==(jade.interp=_t("London (+0100)"))?"":jade.interp)+'</option><option value="Europe/Luxembourg">'+jade.escape(null==(jade.interp=_t("Luxembourg (+0200)"))?"":jade.interp)+'</option><option value="Europe/Madrid">'+jade.escape(null==(jade.interp=_t("Madrid (+0200)"))?"":jade.interp)+'</option><option value="Europe/Malta">'+jade.escape(null==(jade.interp=_t("Malta (+0200)"))?"":jade.interp)+'</option><option value="Europe/Mariehamn">'+jade.escape(null==(jade.interp=_t("Mariehamn (+0300)"))?"":jade.interp)+'</option><option value="Europe/Minsk">'+jade.escape(null==(jade.interp=_t("Minsk (+0300)"))?"":jade.interp)+'</option><option value="Europe/Monaco">'+jade.escape(null==(jade.interp=_t("Monaco (+0200)"))?"":jade.interp)+'</option><option value="Europe/Moscow">'+jade.escape(null==(jade.interp=_t("Moscow (+0400)"))?"":jade.interp)+'</option><option value="Europe/Oslo">'+jade.escape(null==(jade.interp=_t("Oslo (+0200)"))?"":jade.interp)+'</option><option value="Europe/Paris">'+jade.escape(null==(jade.interp=_t("Paris (+0200)"))?"":jade.interp)+'</option><option value="Europe/Podgorica">'+jade.escape(null==(jade.interp=_t("Podgorica (+0200)"))?"":jade.interp)+'</option><option value="Europe/Prague">'+jade.escape(null==(jade.interp=_t("Prague (+0200)"))?"":jade.interp)+'</option><option value="Europe/Riga">'+jade.escape(null==(jade.interp=_t("Riga (+0300)"))?"":jade.interp)+'</option><option value="Europe/Rome">'+jade.escape(null==(jade.interp=_t("Rome (+0200)"))?"":jade.interp)+'</option><option value="Europe/Samara">'+jade.escape(null==(jade.interp=_t("Samara (+0400)"))?"":jade.interp)+'</option><option value="Europe/San_Marino">'+jade.escape(null==(jade.interp=_t("San Marino (+0200)"))?"":jade.interp)+'</option><option value="Europe/Sarajevo">'+jade.escape(null==(jade.interp=_t("Sarajevo (+0200)"))?"":jade.interp)+'</option><option value="Europe/Simferopol">'+jade.escape(null==(jade.interp=_t("Simferopol (+0300)"))?"":jade.interp)+'</option><option value="Europe/Skopje">'+jade.escape(null==(jade.interp=_t("Skopje (+0200)"))?"":jade.interp)+'</option><option value="Europe/Sofia">'+jade.escape(null==(jade.interp=_t("Sofia (+0300)"))?"":jade.interp)+'</option><option value="Europe/Stockholm">'+jade.escape(null==(jade.interp=_t("Stockholm (+0200)"))?"":jade.interp)+'</option><option value="Europe/Tallinn">'+jade.escape(null==(jade.interp=_t("Tallinn (+0300)"))?"":jade.interp)+'</option><option value="Europe/Tirane">'+jade.escape(null==(jade.interp=_t("Tirane (+0200)"))?"":jade.interp)+'</option><option value="Europe/Uzhgorod">'+jade.escape(null==(jade.interp=_t("Uzhgorod (+0300)"))?"":jade.interp)+'</option><option value="Europe/Vaduz">'+jade.escape(null==(jade.interp=_t("Vaduz (+0200)"))?"":jade.interp)+'</option><option value="Europe/Vatican">'+jade.escape(null==(jade.interp=_t("Vatican (+0200)"))?"":jade.interp)+'</option><option value="Europe/Vienna">'+jade.escape(null==(jade.interp=_t("Vienna (+0200)"))?"":jade.interp)+'</option><option value="Europe/Vilnius">'+jade.escape(null==(jade.interp=_t("Vilnius (+0300)"))?"":jade.interp)+'</option><option value="Europe/Volgograd">'+jade.escape(null==(jade.interp=_t("Volgograd (+0400)"))?"":jade.interp)+'</option><option value="Europe/Warsaw">'+jade.escape(null==(jade.interp=_t("Warsaw (+0200)"))?"":jade.interp)+'</option><option value="Europe/Zagreb">'+jade.escape(null==(jade.interp=_t("Zagreb (+0200)"))?"":jade.interp)+'</option><option value="Europe/Zaporozhye">'+jade.escape(null==(jade.interp=_t("Zaporozhye (+0300)"))?"":jade.interp)+'</option><option value="Europe/Zurich">'+jade.escape(null==(jade.interp=_t("Zurich (+0200)"))?"":jade.interp)+'</option></optgroup><optgroup label="Indian"><option value="Indian/Antananarivo">'+jade.escape(null==(jade.interp=_t("Antananarivo (+0300)"))?"":jade.interp)+'</option><option value="Indian/Chagos">'+jade.escape(null==(jade.interp=_t("Chagos (+0600)"))?"":jade.interp)+'</option><option value="Indian/Christmas">'+jade.escape(null==(jade.interp=_t("Christmas (+0700)"))?"":jade.interp)+'</option><option value="Indian/Cocos">'+jade.escape(null==(jade.interp=_t("Cocos (+0630)"))?"":jade.interp)+'</option><option value="Indian/Comoro">'+jade.escape(null==(jade.interp=_t("Comoro (+0300)"))?"":jade.interp)+'</option><option value="Indian/Kerguelen">'+jade.escape(null==(jade.interp=_t("Kerguelen (+0500)"))?"":jade.interp)+'</option><option value="Indian/Mahe">'+jade.escape(null==(jade.interp=_t("Mahe (+0400)"))?"":jade.interp)+'</option><option value="Indian/Maldives">'+jade.escape(null==(jade.interp=_t("Maldives (+0500)"))?"":jade.interp)+'</option><option value="Indian/Mauritius">'+jade.escape(null==(jade.interp=_t("Mauritius (+0400)"))?"":jade.interp)+'</option><option value="Indian/Mayotte">'+jade.escape(null==(jade.interp=_t("Mayotte (+0300)"))?"":jade.interp)+'</option><option value="Indian/Reunion">'+jade.escape(null==(jade.interp=_t("Reunion (+0400)"))?"":jade.interp)+'</option></optgroup><optgroup label="Pacific"><option value="Pacific/Apia">'+jade.escape(null==(jade.interp=_t("Apia (+1300)"))?"":jade.interp)+'</option><option value="Pacific/Auckland">'+jade.escape(null==(jade.interp=_t("Auckland (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Chatham">'+jade.escape(null==(jade.interp=_t("Chatham (+1245)"))?"":jade.interp)+'</option><option value="Pacific/Chuuk">'+jade.escape(null==(jade.interp=_t("Chuuk (+1000)"))?"":jade.interp)+'</option><option value="Pacific/Easter">'+jade.escape(null==(jade.interp=_t("Easter (-0600)"))?"":jade.interp)+'</option><option value="Pacific/Efate">'+jade.escape(null==(jade.interp=_t("Efate (+1100)"))?"":jade.interp)+'</option><option value="Pacific/Enderbury">'+jade.escape(null==(jade.interp=_t("Enderbury (+1300)"))?"":jade.interp)+'</option><option value="Pacific/Fakaofo">'+jade.escape(null==(jade.interp=_t("Fakaofo (+1400)"))?"":jade.interp)+'</option><option value="Pacific/Fiji">'+jade.escape(null==(jade.interp=_t("Fiji (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Funafuti">'+jade.escape(null==(jade.interp=_t("Funafuti (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Galapagos">'+jade.escape(null==(jade.interp=_t("Galapagos (-0600)"))?"":jade.interp)+'</option><option value="Pacific/Gambier">'+jade.escape(null==(jade.interp=_t("Gambier (-0900)"))?"":jade.interp)+'</option><option value="Pacific/Guadalcanal">'+jade.escape(null==(jade.interp=_t("Guadalcanal (+1100)"))?"":jade.interp)+'</option><option value="Pacific/Guam">'+jade.escape(null==(jade.interp=_t("Guam (+1000)"))?"":jade.interp)+'</option><option value="Pacific/Honolulu">'+jade.escape(null==(jade.interp=_t("Honolulu (-1000)"))?"":jade.interp)+'</option><option value="Pacific/Johnston">'+jade.escape(null==(jade.interp=_t("Johnston (-1000)"))?"":jade.interp)+'</option><option value="Pacific/Kiritimati">'+jade.escape(null==(jade.interp=_t("Kiritimati (+1400)"))?"":jade.interp)+'</option><option value="Pacific/Kosrae">'+jade.escape(null==(jade.interp=_t("Kosrae (+1100)"))?"":jade.interp)+'</option><option value="Pacific/Kwajalein">'+jade.escape(null==(jade.interp=_t("Kwajalein (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Majuro">'+jade.escape(null==(jade.interp=_t("Majuro (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Marquesas">'+jade.escape(null==(jade.interp=_t("Marquesas (-0930)"))?"":jade.interp)+'</option><option value="Pacific/Midway">'+jade.escape(null==(jade.interp=_t("Midway (-1100)"))?"":jade.interp)+'</option><option value="Pacific/Nauru">'+jade.escape(null==(jade.interp=_t("Nauru (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Niue">'+jade.escape(null==(jade.interp=_t("Niue (-1100)"))?"":jade.interp)+'</option><option value="Pacific/Norfolk">'+jade.escape(null==(jade.interp=_t("Norfolk (+1130)"))?"":jade.interp)+'</option><option value="Pacific/Noumea">'+jade.escape(null==(jade.interp=_t("Noumea (+1100)"))?"":jade.interp)+'</option><option value="Pacific/Pago_Pago">'+jade.escape(null==(jade.interp=_t("Pago Pago (-1100)"))?"":jade.interp)+'</option><option value="Pacific/Palau">'+jade.escape(null==(jade.interp=_t("Palau (+0900)"))?"":jade.interp)+'</option><option value="Pacific/Pitcairn">'+jade.escape(null==(jade.interp=_t("Pitcairn (-0800)"))?"":jade.interp)+'</option><option value="Pacific/Pohnpei">'+jade.escape(null==(jade.interp=_t("Pohnpei (+1100)"))?"":jade.interp)+'</option><option value="Pacific/Port_Moresby">'+jade.escape(null==(jade.interp=_t("Port Moresby (+1000)"))?"":jade.interp)+'</option><option value="Pacific/Rarotonga">'+jade.escape(null==(jade.interp=_t("Rarotonga (-1000)"))?"":jade.interp)+'</option><option value="Pacific/Saipan">'+jade.escape(null==(jade.interp=_t("Saipan (+1000)"))?"":jade.interp)+'</option><option value="Pacific/Tahiti">'+jade.escape(null==(jade.interp=_t("Tahiti (-1000)"))?"":jade.interp)+'</option><option value="Pacific/Tarawa">'+jade.escape(null==(jade.interp=_t("Tarawa (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Tongatapu">'+jade.escape(null==(jade.interp=_t("Tongatapu (+1300)"))?"":jade.interp)+'</option><option value="Pacific/Wake">'+jade.escape(null==(jade.interp=_t("Wake (+1200)"))?"":jade.interp)+'</option><option value="Pacific/Wallis">'+jade.escape(null==(jade.interp=_t("Wallis (+1200)"))?"":jade.interp)+'</option></optgroup><optgroup label="UTC"><option value="UTC">'+jade.escape(null==(jade.interp=_t("UTC (+0000)"))?"":jade.interp)+'</option></optgroup></select></div></div><button type="submit" data-default-message="Change Timezone" data-inflight-message="Saving..." data-success-message="Saved!" disabled="disabled" class="btn brbraitt-settings-timezone-change">'+jade.escape(null==(jade.interp=_t("Change Timezone"))?"":jade.interp)+'</button></form></div></div><div class="row"><div class="span12"><form id="brbraitt-settings-locale-change-form" style="margin-top:10px;" action="user/change_locale" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="brbraitt-settings-locale-change">'+jade.escape(null==(jade.interp=_t("Language"))?"":jade.interp)+'</label><div class="controls"><select name="locale" id="brbraitt-settings-locale-change"><option>'+jade.escape(null==(jade.interp=_t("Select a language"))?"":jade.interp)+'</option><option value="ar_EG">'+jade.escape(null==(jade.interp=_t("Arabic"))?"":jade.interp)+'</option><option value="zh_CN">'+jade.escape(null==(jade.interp=_t("Chinese"))?"":jade.interp)+'</option><option value="en_US">'+jade.escape(null==(jade.interp=_t("English"))?"":jade.interp)+'</option><option value="fr_FR">'+jade.escape(null==(jade.interp=_t("French"))?"":jade.interp)+'</option><option value="de_DE">'+jade.escape(null==(jade.interp=_t("German"))?"":jade.interp)+'</option><option value="pt_BR">'+jade.escape(null==(jade.interp=_t("Portuguese"))?"":jade.interp)+'</option><option value="ru_RU">'+jade.escape(null==(jade.interp=_t("Russian"))?"":jade.interp)+'</option><option value="es_ES">'+jade.escape(null==(jade.interp=_t("Spanish"))?"":jade.interp)+'</option><option value="tr_TR">'+jade.escape(null==(jade.interp=_t("Turkish"))?"":jade.interp)+'</option></select></div></div><button type="submit" data-default-message="Change Language" data-inflight-message="Saving..." data-success-message="Saved!" disabled="disabled" class="btn brbraitt-settings-locale-change">'+jade.escape(null==(jade.interp=_t("Change Language"))?"":jade.interp)+'</button></form></div></div><div class="row"><div class="span12"><h3>'+jade.escape(null==(jade.interp=_t("Change Email Address"))?"":jade.interp)+'</h3><form id="brbraitt-settings-email-change-form" style="margin-top:10px;" action="user/change_email" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="brbraitt-settings-email-change">'+jade.escape(null==(jade.interp=_t("New Email Address"))?"":jade.interp)+'</label><div class="controls"><input'+jade.attrs({id:"brbraitt-settings-email-change",name:"email_address",type:"text",title:"Enter new email address",value:user.get("email_address"),style:"margin-bottom:0px;","class":["brbraitt-settings-email-input"]},{name:!0,type:!0,title:!0,value:!0,style:!0})+'/></div></div><button type="submit" data-default-message="Change Email" data-inflight-message="Changing..." data-success-message="Changed!" disabled="disabled" class="btn brbraitt-settings-email-change">'+jade.escape(null==(jade.interp=_t("Change Email"))?"":jade.interp)+'</button></form></div></div><div class="row"><div class="span12"><h3>'+jade.escape(null==(jade.interp=_t("Change Password"))?"":jade.interp)+'</h3><p style="margin-top:10px;" class="brbraitt-settings-password-change-success hide">'+jade.escape(null==(jade.interp=_t("Your password was successfully changed."))?"":jade.interp)+'</p><form id="brbraitt-settings-password-change-form" style="margin-top:10px;" action="user/change_password" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="brbraitt-settings-oldpassword-change">'+jade.escape(null==(jade.interp=_t("Old Password"))?"":jade.interp)+'</label><div class="controls"><input id="brbraitt-settings-oldpassword-change" type="password" name="password" class="brbraitt-settings-oldpassword-input"/></div></div><div class="control-group"><label for="brbraitt-settings-password-change">'+jade.escape(null==(jade.interp=_t("New Password"))?"":jade.interp)+'</label><div class="controls"><input id="brbraitt-settings-password-change" type="password" name="new_password" class="brbraitt-settings-password-input"/></div></div><div class="control-group"><label for="brbraitt-settings-newpassword-change">'+jade.escape(null==(jade.interp=_t("Confirm New Password"))?"":jade.interp)+'</label><div class="controls"><input id="brbraitt-settings-newpassword-change" type="password" class="brbraitt-settings-newpassword-input"/><span id="brbraitt-settings-password-error" style="color:red;" class="help-inline hide">'+jade.escape(null==(jade.interp=_t("Passwords must match!"))?"":jade.interp)+'</span></div></div><button type="submit" data-default-message="Change Password" data-inflight-message="Changing..." data-success-message="Changed!" disabled="disabled" class="btn brbraitt-settings-password-change">'+jade.escape(null==(jade.interp=_t("Change Password"))?"":jade.interp)+'</button></form></div></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" class="modal brbraitt-settings-email-change-modal hide"><div class="modal-header"><h3>'+jade.escape(null==(jade.interp=_t("Your email change has been submitted."))?"":jade.interp)+'</h3></div><div class="modal-body"><div> <span>'+jade.escape(null==(jade.interp=_t("We will send you a confirmation email, which will contain a link for you to complete the email change."))?"":jade.interp)+'</span><br/><br/></div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn btn-primary">'+jade.escape(null==(jade.interp=_t("OK"))?"":jade.interp)+"</button></div></div></div></div>"),buf.join("")
}};if("function"==typeof define&&define.amd)define("pages/home/account/settings.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.account.settings"]=jadify(wndw.jade.helpers)}(window),define("pages/home/account/nls/settings",{root:!0,zh:!0}),define("pages/home/account/nls/root/settings",{"Account Settings":"Account Settings","Looking for your Signature Track settings? &raquo;":"Looking for your Signature Track settings? &raquo;","This name will appear on your course statements.":"This name will appear on your course statements.","Full Name":"Full Name","Change Name":"Change Name",Timezone:"Timezone","Abidjan (+0000)":"Abidjan (+0000)","Accra (+0000)":"Accra (+0000)","Addis Ababa (+0300)":"Addis Ababa (+0300)","Algiers (+0100)":"Algiers (+0100)","Asmara (+0300)":"Asmara (+0300)","Bamako (+0000)":"Bamako (+0000)","Bangui (+0100)":"Bangui (+0100)","Banjul (+0000)":"Banjul (+0000)","Bissau (+0000)":"Bissau (+0000)","Blantyre (+0200)":"Blantyre (+0200)","Brazzaville (+0100)":"Brazzaville (+0100)","Bujumbura (+0200)":"Bujumbura (+0200)","Cairo (+0200)":"Cairo (+0200)","Casablanca (+0000)":"Casablanca (+0000)","Ceuta (+0200)":"Ceuta (+0200)","Conakry (+0000)":"Conakry (+0000)","Dakar (+0000)":"Dakar (+0000)","Dar es Salaam (+0300)":"Dar es Salaam (+0300)","Djibouti (+0300)":"Djibouti (+0300)","Douala (+0100)":"Douala (+0100)","El Aaiun (+0000)":"El Aaiun (+0000)","Freetown (+0000)":"Freetown (+0000)","Gaborone (+0200)":"Gaborone (+0200)","Harare (+0200)":"Harare (+0200)","Johannesburg (+0200)":"Johannesburg (+0200)","Juba (+0300)":"Juba (+0300)","Kampala (+0300)":"Kampala (+0300)","Khartoum (+0300)":"Khartoum (+0300)","Kigali (+0200)":"Kigali (+0200)","Kinshasa (+0100)":"Kinshasa (+0100)","Lagos (+0100)":"Lagos (+0100)","Libreville (+0100)":"Libreville (+0100)","Lome (+0000)":"Lome (+0000)","Luanda (+0100)":"Luanda (+0100)","Lubumbashi (+0200)":"Lubumbashi (+0200)","Lusaka (+0200)":"Lusaka (+0200)","Malabo (+0100)":"Malabo (+0100)","Maputo (+0200)":"Maputo (+0200)","Maseru (+0200)":"Maseru (+0200)","Mbabane (+0200)":"Mbabane (+0200)","Mogadishu (+0300)":"Mogadishu (+0300)","Monrovia (+0000)":"Monrovia (+0000)","Nairobi (+0300)":"Nairobi (+0300)","Ndjamena (+0100)":"Ndjamena (+0100)","Niamey (+0100)":"Niamey (+0100)","Nouakchott (+0000)":"Nouakchott (+0000)","Ouagadougou (+0000)":"Ouagadougou (+0000)","Porto-Novo (+0100)":"Porto-Novo (+0100)","Sao Tome (+0000)":"Sao Tome (+0000)","Tripoli (+0200)":"Tripoli (+0200)","Tunis (+0100)":"Tunis (+0100)","Windhoek (+0100)":"Windhoek (+0100)","Adak (-0900)":"Adak (-0900)","Anchorage (-0800)":"Anchorage (-0800)","Anguilla (-0400)":"Anguilla (-0400)","Antigua (-0400)":"Antigua (-0400)","Araguaina (-0300)":"Araguaina (-0300)","Buenos Aires (-0300)":"Buenos Aires (-0300)","Catamarca (-0300)":"Catamarca (-0300)","Cordoba (-0300)":"Cordoba (-0300)","Jujuy (-0300)":"Jujuy (-0300)","La Rioja (-0300)":"La Rioja (-0300)","Mendoza (-0300)":"Mendoza (-0300)","Rio Gallegos (-0300)":"Rio Gallegos (-0300)","Salta (-0300)":"Salta (-0300)","San Juan (-0300)":"San Juan (-0300)","San Luis (-0300)":"San Luis (-0300)","Tucuman (-0300)":"Tucuman (-0300)","Ushuaia (-0300)":"Ushuaia (-0300)","Aruba (-0400)":"Aruba (-0400)","Asuncion (-0400)":"Asuncion (-0400)","Atikokan (-0500)":"Atikokan (-0500)","Bahia (-0300)":"Bahia (-0300)","Bahia Banderas (-0500)":"Bahia Banderas (-0500)","Barbados (-0400)":"Barbados (-0400)","Belem (-0300)":"Belem (-0300)","Belize (-0600)":"Belize (-0600)","Blanc-Sablon (-0400)":"Blanc-Sablon (-0400)","Boa Vista (-0400)":"Boa Vista (-0400)","Bogota (-0500)":"Bogota (-0500)","Boise (-0600)":"Boise (-0600)","Cambridge Bay (-0600)":"Cambridge Bay (-0600)","Campo Grande (-0400)":"Campo Grande (-0400)","Cancun (-0500)":"Cancun (-0500)","Caracas (-0430)":"Caracas (-0430)","Cayenne (-0300)":"Cayenne (-0300)","Cayman (-0500)":"Cayman (-0500)","Chicago (-0500)":"Chicago (-0500)","Chihuahua (-0600)":"Chihuahua (-0600)","Costa Rica (-0600)":"Costa Rica (-0600)","Creston (-0700)":"Creston (-0700)","Cuiaba (-0400)":"Cuiaba (-0400)","Curacao (-0400)":"Curacao (-0400)","Danmarkshavn (+0000)":"Danmarkshavn (+0000)","Dawson (-0700)":"Dawson (-0700)","Dawson Creek (-0700)":"Dawson Creek (-0700)","Denver (-0600)":"Denver (-0600)","Detroit (-0400)":"Detroit (-0400)","Dominica (-0400)":"Dominica (-0400)","Edmonton (-0600)":"Edmonton (-0600)","Eirunepe (-0400)":"Eirunepe (-0400)","El Salvador (-0600)":"El Salvador (-0600)","Fortaleza (-0300)":"Fortaleza (-0300)","Glace Bay (-0300)":"Glace Bay (-0300)","Godthab (-0200)":"Godthab (-0200)","Goose Bay (-0300)":"Goose Bay (-0300)","Grand Turk (-0400)":"Grand Turk (-0400)","Grenada (-0400)":"Grenada (-0400)","Guadeloupe (-0400)":"Guadeloupe (-0400)","Guatemala (-0600)":"Guatemala (-0600)","Guayaquil (-0500)":"Guayaquil (-0500)","Guyana (-0400)":"Guyana (-0400)","Halifax (-0300)":"Halifax (-0300)","Havana (-0400)":"Havana (-0400)","Hermosillo (-0700)":"Hermosillo (-0700)","Indianapolis (-0400)":"Indianapolis (-0400)","Knox (-0500)":"Knox (-0500)","Marengo (-0400)":"Marengo (-0400)","Petersburg (-0400)":"Petersburg (-0400)","Tell City (-0500)":"Tell City (-0500)","Vevay (-0400)":"Vevay (-0400)","Vincennes (-0400)":"Vincennes (-0400)","Winamac (-0400)":"Winamac (-0400)","Inuvik (-0600)":"Inuvik (-0600)","Iqaluit (-0400)":"Iqaluit (-0400)","Jamaica (-0500)":"Jamaica (-0500)","Juneau (-0800)":"Juneau (-0800)","Louisville (-0400)":"Louisville (-0400)","Monticello (-0400)":"Monticello (-0400)","Kralendijk (-0400)":"Kralendijk (-0400)","La Paz (-0400)":"La Paz (-0400)","Lima (-0500)":"Lima (-0500)","Los Angeles (-0700)":"Los Angeles (-0700)","Lower Princes (-0400)":"Lower Princes (-0400)","Maceio (-0300)":"Maceio (-0300)","Managua (-0600)":"Managua (-0600)","Manaus (-0400)":"Manaus (-0400)","Marigot (-0400)":"Marigot (-0400)","Martinique (-0400)":"Martinique (-0400)","Matamoros (-0500)":"Matamoros (-0500)","Mazatlan (-0600)":"Mazatlan (-0600)","Menominee (-0500)":"Menominee (-0500)","Merida (-0500)":"Merida (-0500)","Metlakatla (-0800)":"Metlakatla (-0800)","Mexico City (-0500)":"Mexico City (-0500)","Miquelon (-0200)":"Miquelon (-0200)","Moncton (-0300)":"Moncton (-0300)","Monterrey (-0500)":"Monterrey (-0500)","Montevideo (-0300)":"Montevideo (-0300)","Montreal (-0400)":"Montreal (-0400)","Montserrat (-0400)":"Montserrat (-0400)","Nassau (-0400)":"Nassau (-0400)","New York (-0400)":"New York (-0400)","Nipigon (-0400)":"Nipigon (-0400)","Nome (-0800)":"Nome (-0800)","Noronha (-0200)":"Noronha (-0200)","Beulah (-0500)":"Beulah (-0500)","Center (-0500)":"Center (-0500)","New Salem (-0500)":"New Salem (-0500)","Ojinaga (-0600)":"Ojinaga (-0600)","Panama (-0500)":"Panama (-0500)","Pangnirtung (-0400)":"Pangnirtung (-0400)","Paramaribo (-0300)":"Paramaribo (-0300)","Phoenix (-0700)":"Phoenix (-0700)","Port-au-Prince (-0500)":"Port-au-Prince (-0500)","Port of Spain (-0400)":"Port of Spain (-0400)","Porto Velho (-0400)":"Porto Velho (-0400)","Puerto Rico (-0400)":"Puerto Rico (-0400)","Rainy River (-0500)":"Rainy River (-0500)","Rankin Inlet (-0500)":"Rankin Inlet (-0500)","Recife (-0300)":"Recife (-0300)","Regina (-0600)":"Regina (-0600)","Resolute (-0500)":"Resolute (-0500)","Rio Branco (-0400)":"Rio Branco (-0400)","Santa Isabel (-0700)":"Santa Isabel (-0700)","Santarem (-0300)":"Santarem (-0300)","Santiago (-0400)":"Santiago (-0400)","Santo Domingo (-0400)":"Santo Domingo (-0400)","Sao Paulo (-0300)":"Sao Paulo (-0300)","Scoresbysund (+0000)":"Scoresbysund (+0000)","Shiprock (-0600)":"Shiprock (-0600)","Sitka (-0800)":"Sitka (-0800)","St Barthelemy (-0400)":"St Barthelemy (-0400)","St Johns (-0230)":"St Johns (-0230)","St Kitts (-0400)":"St Kitts (-0400)","St Lucia (-0400)":"St Lucia (-0400)","St Thomas (-0400)":"St Thomas (-0400)","St Vincent (-0400)":"St Vincent (-0400)","Swift Current (-0600)":"Swift Current (-0600)","Tegucigalpa (-0600)":"Tegucigalpa (-0600)","Thule (-0300)":"Thule (-0300)","Thunder Bay (-0400)":"Thunder Bay (-0400)","Tijuana (-0700)":"Tijuana (-0700)","Toronto (-0400)":"Toronto (-0400)","Tortola (-0400)":"Tortola (-0400)","Vancouver (-0700)":"Vancouver (-0700)","Whitehorse (-0700)":"Whitehorse (-0700)","Winnipeg (-0500)":"Winnipeg (-0500)","Yakutat (-0800)":"Yakutat (-0800)","Yellowknife (-0600)":"Yellowknife (-0600)","Casey (+0800)":"Casey (+0800)","Davis (+0700)":"Davis (+0700)","DumontDUrville (+1000)":"DumontDUrville (+1000)","Macquarie (+1100)":"Macquarie (+1100)","Mawson (+0500)":"Mawson (+0500)","McMurdo (+1200)":"McMurdo (+1200)","Palmer (-0400)":"Palmer (-0400)","Rothera (-0300)":"Rothera (-0300)","South Pole (+1200)":"South Pole (+1200)","Syowa (+0300)":"Syowa (+0300)","Vostok (+0600)":"Vostok (+0600)","Longyearbyen (+0200)":"Longyearbyen (+0200)","Aden (+0300)":"Aden (+0300)","Almaty (+0600)":"Almaty (+0600)","Amman (+0300)":"Amman (+0300)","Anadyr (+1200)":"Anadyr (+1200)","Aqtau (+0500)":"Aqtau (+0500)","Aqtobe (+0500)":"Aqtobe (+0500)","Ashgabat (+0500)":"Ashgabat (+0500)","Baghdad (+0300)":"Baghdad (+0300)","Bahrain (+0300)":"Bahrain (+0300)","Baku (+0500)":"Baku (+0500)","Bangkok (+0700)":"Bangkok (+0700)","Beirut (+0300)":"Beirut (+0300)","Bishkek (+0600)":"Bishkek (+0600)","Brunei (+0800)":"Brunei (+0800)","Choibalsan (+0800)":"Choibalsan (+0800)","Chongqing (+0800)":"Chongqing (+0800)","Colombo (+0530)":"Colombo (+0530)","Damascus (+0300)":"Damascus (+0300)","Dhaka (+0600)":"Dhaka (+0600)","Dili (+0900)":"Dili (+0900)","Dubai (+0400)":"Dubai (+0400)","Dushanbe (+0500)":"Dushanbe (+0500)","Gaza (+0200)":"Gaza (+0200)","Harbin (+0800)":"Harbin (+0800)","Hebron (+0200)":"Hebron (+0200)","Ho Chi Minh (+0700)":"Ho Chi Minh (+0700)","Hong Kong (+0800)":"Hong Kong (+0800)","Hovd (+0700)":"Hovd (+0700)","Irkutsk (+0900)":"Irkutsk (+0900)","Jakarta (+0700)":"Jakarta (+0700)","Jayapura (+0900)":"Jayapura (+0900)","Jerusalem (+0300)":"Jerusalem (+0300)","Kabul (+0430)":"Kabul (+0430)","Kamchatka (+1200)":"Kamchatka (+1200)","Karachi (+0500)":"Karachi (+0500)","Kashgar (+0800)":"Kashgar (+0800)","Kathmandu (+0545)":"Kathmandu (+0545)","Kolkata (+0530)":"Kolkata (+0530)","Krasnoyarsk (+0800)":"Krasnoyarsk (+0800)","Kuala Lumpur (+0800)":"Kuala Lumpur (+0800)","Kuching (+0800)":"Kuching (+0800)","Kuwait (+0300)":"Kuwait (+0300)","Macau (+0800)":"Macau (+0800)","Magadan (+1200)":"Magadan (+1200)","Makassar (+0800)":"Makassar (+0800)","Manila (+0800)":"Manila (+0800)","Muscat (+0400)":"Muscat (+0400)","Nicosia (+0300)":"Nicosia (+0300)","Novokuznetsk (+0700)":"Novokuznetsk (+0700)","Novosibirsk (+0700)":"Novosibirsk (+0700)","Omsk (+0700)":"Omsk (+0700)","Oral (+0500)":"Oral (+0500)","Phnom Penh (+0700)":"Phnom Penh (+0700)","Pontianak (+0700)":"Pontianak (+0700)","Pyongyang (+0900)":"Pyongyang (+0900)","Qatar (+0300)":"Qatar (+0300)","Qyzylorda (+0600)":"Qyzylorda (+0600)","Rangoon (+0630)":"Rangoon (+0630)","Riyadh (+0300)":"Riyadh (+0300)","Sakhalin (+1100)":"Sakhalin (+1100)","Samarkand (+0500)":"Samarkand (+0500)","Seoul (+0900)":"Seoul (+0900)","Shanghai (+0800)":"Shanghai (+0800)","Singapore (+0800)":"Singapore (+0800)","Taipei (+0800)":"Taipei (+0800)","Tashkent (+0500)":"Tashkent (+0500)","Tbilisi (+0400)":"Tbilisi (+0400)","Tehran (+0430)":"Tehran (+0430)","Thimphu (+0600)":"Thimphu (+0600)","Tokyo (+0900)":"Tokyo (+0900)","Ulaanbaatar (+0800)":"Ulaanbaatar (+0800)","Urumqi (+0800)":"Urumqi (+0800)","Vientiane (+0700)":"Vientiane (+0700)","Vladivostok (+1100)":"Vladivostok (+1100)","Yakutsk (+1000)":"Yakutsk (+1000)","Yekaterinburg (+0600)":"Yekaterinburg (+0600)","Yerevan (+0400)":"Yerevan (+0400)","Azores (+0000)":"Azores (+0000)","Bermuda (-0300)":"Bermuda (-0300)","Canary (+0100)":"Canary (+0100)","Cape Verde (-0100)":"Cape Verde (-0100)","Faroe (+0100)":"Faroe (+0100)","Madeira (+0100)":"Madeira (+0100)","Reykjavik (+0000)":"Reykjavik (+0000)","South Georgia (-0200)":"South Georgia (-0200)","St Helena (+0000)":"St Helena (+0000)","Stanley (-0300)":"Stanley (-0300)","Adelaide (+0930)":"Adelaide (+0930)","Brisbane (+1000)":"Brisbane (+1000)","Broken Hill (+0930)":"Broken Hill (+0930)","Currie (+1000)":"Currie (+1000)","Darwin (+0930)":"Darwin (+0930)","Eucla (+0845)":"Eucla (+0845)","Hobart (+1000)":"Hobart (+1000)","Lindeman (+1000)":"Lindeman (+1000)","Lord Howe (+1030)":"Lord Howe (+1030)","Melbourne (+1000)":"Melbourne (+1000)","Perth (+0800)":"Perth (+0800)","Sydney (+1000)":"Sydney (+1000)","Amsterdam (+0200)":"Amsterdam (+0200)","Andorra (+0200)":"Andorra (+0200)","Athens (+0300)":"Athens (+0300)","Belgrade (+0200)":"Belgrade (+0200)","Berlin (+0200)":"Berlin (+0200)","Bratislava (+0200)":"Bratislava (+0200)","Brussels (+0200)":"Brussels (+0200)","Bucharest (+0300)":"Bucharest (+0300)","Budapest (+0200)":"Budapest (+0200)","Chisinau (+0300)":"Chisinau (+0300)","Copenhagen (+0200)":"Copenhagen (+0200)","Dublin (+0100)":"Dublin (+0100)","Gibraltar (+0200)":"Gibraltar (+0200)","Guernsey (+0100)":"Guernsey (+0100)","Helsinki (+0300)":"Helsinki (+0300)","Isle of Man (+0100)":"Isle of Man (+0100)","Istanbul (+0300)":"Istanbul (+0300)","Jersey (+0100)":"Jersey (+0100)","Kaliningrad (+0300)":"Kaliningrad (+0300)","Kiev (+0300)":"Kiev (+0300)","Lisbon (+0100)":"Lisbon (+0100)","Ljubljana (+0200)":"Ljubljana (+0200)","London (+0100)":"London (+0100)","Luxembourg (+0200)":"Luxembourg (+0200)","Madrid (+0200)":"Madrid (+0200)","Malta (+0200)":"Malta (+0200)","Mariehamn (+0300)":"Mariehamn (+0300)","Minsk (+0300)":"Minsk (+0300)","Monaco (+0200)":"Monaco (+0200)","Moscow (+0400)":"Moscow (+0400)","Oslo (+0200)":"Oslo (+0200)","Paris (+0200)":"Paris (+0200)","Podgorica (+0200)":"Podgorica (+0200)","Prague (+0200)":"Prague (+0200)","Riga (+0300)":"Riga (+0300)","Rome (+0200)":"Rome (+0200)","Samara (+0400)":"Samara (+0400)","San Marino (+0200)":"San Marino (+0200)","Sarajevo (+0200)":"Sarajevo (+0200)","Simferopol (+0300)":"Simferopol (+0300)","Skopje (+0200)":"Skopje (+0200)","Sofia (+0300)":"Sofia (+0300)","Stockholm (+0200)":"Stockholm (+0200)","Tallinn (+0300)":"Tallinn (+0300)","Tirane (+0200)":"Tirane (+0200)","Uzhgorod (+0300)":"Uzhgorod (+0300)","Vaduz (+0200)":"Vaduz (+0200)","Vatican (+0200)":"Vatican (+0200)","Vienna (+0200)":"Vienna (+0200)","Vilnius (+0300)":"Vilnius (+0300)","Volgograd (+0400)":"Volgograd (+0400)","Warsaw (+0200)":"Warsaw (+0200)","Zagreb (+0200)":"Zagreb (+0200)","Zaporozhye (+0300)":"Zaporozhye (+0300)","Zurich (+0200)":"Zurich (+0200)","Antananarivo (+0300)":"Antananarivo (+0300)","Chagos (+0600)":"Chagos (+0600)","Christmas (+0700)":"Christmas (+0700)","Cocos (+0630)":"Cocos (+0630)","Comoro (+0300)":"Comoro (+0300)","Kerguelen (+0500)":"Kerguelen (+0500)","Mahe (+0400)":"Mahe (+0400)","Maldives (+0500)":"Maldives (+0500)","Mauritius (+0400)":"Mauritius (+0400)","Mayotte (+0300)":"Mayotte (+0300)","Reunion (+0400)":"Reunion (+0400)","Apia (+1300)":"Apia (+1300)","Auckland (+1200)":"Auckland (+1200)","Chatham (+1245)":"Chatham (+1245)","Chuuk (+1000)":"Chuuk (+1000)","Easter (-0600)":"Easter (-0600)","Efate (+1100)":"Efate (+1100)","Enderbury (+1300)":"Enderbury (+1300)","Fakaofo (+1400)":"Fakaofo (+1400)","Fiji (+1200)":"Fiji (+1200)","Funafuti (+1200)":"Funafuti (+1200)","Galapagos (-0600)":"Galapagos (-0600)","Gambier (-0900)":"Gambier (-0900)","Guadalcanal (+1100)":"Guadalcanal (+1100)","Guam (+1000)":"Guam (+1000)","Honolulu (-1000)":"Honolulu (-1000)","Johnston (-1000)":"Johnston (-1000)","Kiritimati (+1400)":"Kiritimati (+1400)","Kosrae (+1100)":"Kosrae (+1100)","Kwajalein (+1200)":"Kwajalein (+1200)","Majuro (+1200)":"Majuro (+1200)","Marquesas (-0930)":"Marquesas (-0930)","Midway (-1100)":"Midway (-1100)","Nauru (+1200)":"Nauru (+1200)","Niue (-1100)":"Niue (-1100)","Norfolk (+1130)":"Norfolk (+1130)","Noumea (+1100)":"Noumea (+1100)","Pago Pago (-1100)":"Pago Pago (-1100)","Palau (+0900)":"Palau (+0900)","Pitcairn (-0800)":"Pitcairn (-0800)","Pohnpei (+1100)":"Pohnpei (+1100)","Port Moresby (+1000)":"Port Moresby (+1000)","Rarotonga (-1000)":"Rarotonga (-1000)","Saipan (+1000)":"Saipan (+1000)","Tahiti (-1000)":"Tahiti (-1000)","Tarawa (+1200)":"Tarawa (+1200)","Tongatapu (+1300)":"Tongatapu (+1300)","Wake (+1200)":"Wake (+1200)","Wallis (+1200)":"Wallis (+1200)","UTC (+0000)":"UTC (+0000)","Change Timezone":"Change Timezone",Language:"Language","Select a language":"Select a language",Arabic:"Arabic",Chinese:"Chinese",English:"English",French:"French",German:"German",Portuguese:"Portuguese",Russian:"Russian",Spanish:"Spanish",Turkish:"Turkish","Change Language":"Change Language","Change Email Address":"Change Email Address","New Email Address":"New Email Address","Change Email":"Change Email","Change Password":"Change Password","Your password was successfully changed.":"Your password was successfully changed.","Old Password":"Old Password","New Password":"New Password","Confirm New Password":"Confirm New Password","Passwords must match!":"Passwords must match!","Your email change has been submitted.":"Your email change has been submitted.","We will send you a confirmation email, which will contain a link for you to complete the email change.":"We will send you a confirmation email, which will contain a link for you to complete the email change.",OK:"OK"}),define("pages/home/account/settings",["jquery","backbone","underscore","pages/home/template/body","pages/home/account/settings.html","i18n!pages/home/account/nls/settings","js/core/brbraitt","js/lib/util","js/lib/cookie","js/lib/modals","js/lib/api","js/models/topic","js/lib/moment"],function($,Backbone,_,body,template,_t,brbraitt,util,cookie,Modal,api,Topic,Moment){var settingsBody=body.extend({initialize:function(){this.ajaxPayments=api("/maestro/api/payments/",{"csrf.secure":!0});var self=this;document.title="My Account Settings | brbraitt",self.bind("view:appended",function(){if(self.$("#brbraitt-settings-timezone-change").val(brbraitt.user.get("timezone")),self.$("#brbraitt-settings-locale-change").val(brbraitt.user.get("locale")),util.setupFormSave(self.$("#brbraitt-settings-name-change-form"),{success:_.bind(this.onNameChange,this)}),util.setupFormSave(self.$("#brbraitt-settings-timezone-change-form"),{success:_.bind(this.onTimezoneChange,this)}),util.setupFormSave(self.$("#brbraitt-settings-locale-change-form"),{success:_.bind(this.onLocaleChange,this)}),util.setupFormSave(self.$("#brbraitt-settings-email-change-form"),{success:_.bind(this.onEmailChange,this),error:function(){self.$(".brbraitt-settings-email-input").val(brbraitt.user.get("email_address"))}}),util.setupFormSave(self.$("#brbraitt-settings-password-change-form"),{success:_.bind(this.onPasswordChange,this)}),brbraitt.user.get("signature_track").first_name)self.$(".brbraitt-signature-track-settings-link").show()}),self.bind("view:closing",function(){Modal(this.$el.find(".modal")).close()})},events:{"keyup .brbraitt-settings-newpassword-input":"editPasswordEnable","keyup .brbraitt-settings-password-input":"editPasswordEnable"},render:function(){var self=this;return self.$el.html(template({_t:_t,user:brbraitt.user})),self},onNameChange:function(data){brbraitt.user.set(data),$(".brbraitt-header-account-name").text(brbraitt.user.get("display_name"))},onTimezoneChange:function(data){brbraitt.user.set(data)},onLocaleChange:function(data){brbraitt.user.set(data),window.location.href=window.location.href},onEmailChange:function(data){brbraitt.user.set(data),Modal(this.$(".brbraitt-settings-email-change-modal")).open()},onPasswordChange:function(){},editPasswordEnable:function(){var password=this.$(".brbraitt-settings-password-input").val(),newpassword=this.$(".brbraitt-settings-newpassword-input").val();if(password==newpassword&&password.length>=2)this.$("#brbraitt-settings-password-error").hide(),this.$(".brbraitt-settings-password-change").removeAttr("disabled");else this.$("#brbraitt-settings-password-error").show(),this.$(".brbraitt-settings-password-change").attr({disabled:"disabled"})}});return settingsBody}),define("js/lib/schema",["underscore"],function(_){var Rules=function(param,rules){this.param=param,this.rules=rules};Rules.prototype.Error=function(message,rule,value){switch(typeof this.rules.error){case"string":message=this.rules.error;break;case"object":if(this.rules.error[rule])message=this.rules.error[rule];else if(this.rules.error["default"])message=this.rules.error["default"]}if(_.isString(value))message=message.replace(/%v/,value.toString());if(_.isString(rule))message=message.replace(/%r/,rule);return message.replace(/%p/,this.param).replace(/%v/,"value").replace(/%r/,"rule")},Rules.prototype.apply=function(value){if(_.isEmpty(value)&&!_.isUndefined(this.rules["default"]))value=this.rules["default"];if(this.rules.required){if(this.rules.required&&(_.isUndefined(value)||_.isUndefined(this.rules.type)&&/^\s*$/.test(value)))throw this.Error("%p is a required parameter","required",value)}else if(_.isUndefined(value))return value;if(this.rules.filters)value=this.filter(value);if(this.rules.type)if("string"==typeof this.rules.type&&"function"==typeof is[this.rules.type]){if(!is[this.rules.type](value))throw this.Error("%p is not a "+this.rules.type,"type",value)}else if(!0){if(!this.rules.type(value))throw this.Error("%p is not a valid type","type",value)}else throw this.Error("%p is not a valid type","type",value);if(this.rules.properties)this.check(value);return value},Rules.prototype.filter=function(value){switch(typeof this.rules.filters){case"function":value=this.rules.filters(value);break;case"string":if("function"==typeof filters[this.rules.filters])value=filters[this.rules.filters](value);break;case"object":if(_.isArray(this.rules.filters))this.rules.filters.forEach(function(filter){value=filters[filter](value)})}return value},Rules.prototype.check=function(value){switch(typeof this.rules.properties){case"function":if(!this.rules.properties(value))throw this.Error("%p is not valid");break;case"object":for(var properties=_.keys(this.rules.properties),i=0;i<properties.length;i++){var property=properties[i];if("function"==typeof checks[property]){var args=this.rules.properties[property];if(!checks[property].apply(null,[value,args]))throw this.Error("%p failed %r with %v",property)}else if("function"==typeof this.rules.properties[property])if(!this.rules.properties[property].apply(null,[value]))throw this.Error("%p failed on %r with %v",property)}}};var checks={max:function(value,length){if(_.isArray(value)||"string"==typeof value)return value.length<=length;else if("number"==typeof value)return length>=value;else return!1},min:function(value,length){if(_.isArray(value)||"string"==typeof value)return value.length>=length;else if("number"==typeof value)return value>=length;else return!1},regex:function(value,regex){return regex.test(value)},"in":function(value,list){return-1!=list.indexOf(value)}},is={"string+":function(value){return"string"==typeof value&&""!==value},string:function(value){return"string"==typeof value},alphanum:function(value){return/^[a-zA-Z0-9]+$/i.test(value)},alpha:function(value){return/^[a-zA-Z]+$/i.test(value)},object:function(value){return"object"==typeof value&&!_.isArray(value)},array:function(value){return _.isArray(value)},date:function(value){return _.isDate(value)&&!isNaN(value.getTime())},number:function(value){return"number"==typeof value&&!isNaN(value)},"int":function(value){return"number"==typeof value&&0===value%1&&!isNaN(value)},"boolean":function(value){return _.isBoolean(value)},"float":function(value){return"number"==typeof value&&!isNaN(value)},email:function(value){return/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z])?$/.test(value)},url:function(value){return/^(http(s)?:\/\/)?([\w\-]+\.{1})*(([\w\-]*){1}(\.{1}[A-Za-z]{2,4}){1}){1}(\:{1}\d*)?([\?\/|\#]+[\@\~\;\+\'\#\,\.\%\-\/\&\?\=\w\$\s]*)*$/i.test(value)},zipcode:function(value){return/\d{5}/.test(value)}},filters={toInt:function(value){return parseInt(value,10)},toFloat:function(value){return parseFloat(value,10)},toString:function(value){return value.toString()},toDate:function(value){return new Date(value)},toBoolean:function(value){if(1===value||value===!0||/true|on|yes|1/.test(value))return!0;else if(0===value||value===!1||/false|off|no|0/.test(value))return!1;else return value},trim:function(value){return _.isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value},lowercase:function(value){return _.isString(value)?value.toLowerCase():value},uppercase:function(value){return _.isString(value)?value.toUpperCase():value}},rules={create:function(param,rules){return new Rules(param,rules)},types:is,filters:filters,properties:checks},Schema=function(schema){this.schema=schema};Schema.prototype.validate=function(data){for(var params=_.keys(this.schema),errors={},values={},value,get="function"==typeof data?data:function(p){return data[p]},i=0;i<params.length;i++){var schema=this.schema[params[i]];try{if(value=rules.create(params[i],schema).apply(get(params[i])),!_.isUndefined(value))values[params[i]]=value;if("object"==typeof schema.schema&&!_.isArray(schema.schema)&&_.keys(schema.schema).length&&!_.isUndefined(values[params[i]]))if("object"==schema.type)_.keys(schema.schema).forEach(function(param){try{if(value=rules.create(params[i]+"."+param,schema.schema[param]).apply(get(params[i])[param]),!_.isUndefined(value))values[params[i]][param]=value}catch(error){if(!errors[params[i]]||"object"!=typeof errors[params[i]])errors[params[i]]={};errors[params[i]][param]=error}});else if("array"==schema.type)values[params[i]].forEach(function(value,index){try{values[params[i]][index]=rules.create(params[i]+"["+index+"]",schema.schema).apply(value)}catch(error){if(!_.isArray(errors[params[i]]))errors[params[i]]=[];errors[params[i]][index]=error}})}catch(error){errors[params[i]]=error}}return{data:values,errors:errors,valid:0===_.keys(errors).length}};var schema={test:function(value,schema){return new Schema({input:schema}).validate({input:value})},create:function(schema){return new Schema(schema)},rules:rules};return schema}),define("js/lib/forms",["jquery","underscore","js/lib/schema","js/lib/lucid","js/lib/json2"],function($,_,Schema,Lucid){var defaults={"attribute.prefix":"data-form","attribute.ignore":"ignore","attribute.previous":"prev-value","attribute.schema":"schema","attribute.filter":"filter","attribute.properties":"properties","attribute.required":"required","class.warn":"warn"},getForm=function(el,options){var form=$(el).data("form.me");if(form&&form.constructor===Form.prototype.constructor)if(form)return form.customize(options);else return form;else return null},makeForm=function(el,settings){var $el=$(el),form=getForm($el);if(!form)form=new Form($el,settings),$el.data("form.me",form);return form},validate=function($input,_rules){var rules=_rules||{},rule={},test={},value=$input.val(),id=$input.attr("name")||$input.attr("id"),type=$input.attr("type");if(rules.schema)rule.type=rules.schema;if(rules.filter)rule.filters=_.isString(rules.filter)?(rules.filter||"").split(","):rules.filter;if(rules.required)rule.required=!0;if(rules.properties)rule.properties=_.isString(rules.properties)?JSON.parse(rules.properties):rules.properties;if(rules.schema||rules.filter||rules.required||rules.properties){if(rule.trim=!0,test=Schema.test(value,rule),/^checkbox|radio$/.test(type)&&rule.required&&!$input[0].checked)test.valid=!1;if(!test.valid)if(rules.required||""!==value)throw test.errors.input;else value=null;else if(_.isString(test.data.input)&&value!==test.data.input)value=test.data.input,$input.val(value)}return value},process=function(){var that=this,inputs=this.$form.find(":input"),result={},errors={},valid=!0,pattern=/^([^\[\]]+)(?:\[(.*)\])?$/;return _.each(inputs,function(input){var $input=$(input),type=$input.attr("type"),value=$input.val(),node=$input.prop("nodeName"),id=$input.attr("name")||$input.attr("id"),names=(id||"").split("."),part=result,name=names[0],ignore=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.ignore"])||/button|submit/.test(type)||/button/i.test(node),schema=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"])||$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"]),filter=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"])||$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"]),props=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"])||$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"]),required=void 0!==$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.required"]);if(!ignore&&(value!==$input.data(that.options["attribute.prefix"]+"-"+"prev-value")||1!==names.length||/\[.*\]/.test(id))){if($input.data(that.options["attribute.prefix"]+"-dirty"))try{value=validate($input,{schema:schema,filter:filter,required:required,properties:props})}catch(e){valid=!1,errors[id]=e}else valid=$input.data(that.options["attribute.prefix"]+"-valid"),errors[id]=$input.data(that.options["attribute.prefix"]+"-error");for(var i=0,match=null;i<names.length;i++){var last=i===names.length-1;if(match=names[i].match(pattern),name=match?match[1]:names[i],match){var index=match[2];if(void 0===part[name])if(!last)part[name]=void 0===index?{}:[];else if(void 0===index)part[name]=value;else part[name]=[],part[name][index]=value;if(!last)if(void 0!==index)if(part[name][index])part=part[name][index];else part=part[name][index]={};else part=part[name];else part[name]=value}}}return{data:result,errors:errors}}),{valid:valid,errors:errors,data:result}},prepare=function(){var that=this,inputs=this.$form.find(":input");_.each(inputs,function(input){var $input=$(input);if(!$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.ignore"])&&!/button|submit/.test($input.attr("type")))$input.data(that.options["attribute.prefix"]+"-"+that.options["attribure.previous"],$input.val()),$input.data(that.options["attribute.prefix"]+"-dirty",!0)});var validateIt=function(e){that.validate(e.currentTarget)},blurIt=function(e){var $el=$(e.currentTarget);that.emitter.trigger("blur",e,{valid:$el.data(that.options["attribute.prefix"]+"-valid"),error:$el.data(that.options["attribute.prefix"]+"-error")})};this.$form.on("change",":input",validateIt),this.$form.on("blur",":input",blurIt),this.$form.on("keydown cut paste",":input",_.debounce(validateIt,500)),this.$form.on("submit",function(e){that.emitter.trigger("submit",e,process.call(that))})},Form=function(form,_options){var that=this;this.$form=$(form),this.customize(_options),_.bindAll(this,"validate"),prepare.call(this,this.$form),this.emitter=Lucid.emitter(this)};Form.prototype.customize=function(_options){return this.options=_.extend({},defaults,_options||{}),this},Form.prototype.process=function(){return process.call(this)},Form.prototype.validate=function(el){var that=this,$el=$(el),schema=$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"])||$el.data(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"]),filter=$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"])||$el.data(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"]),props=$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"])||$el.data(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"]),required=void 0!==$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.required"]),event=$.Event(null,{currentTarget:$el.get(0)});try{if(validate($el,{schema:schema,filter:filter,required:required,properties:props}),$el.hasClass(that.options["class.warn"]))$el.removeClass(that.options["class.warn"]),event.type="forms:corrected",that.emitter.trigger("corrected",event);$el.data(that.options["attribute.prefix"]+"-valid",!0),$el.data(that.options["attribute.prefix"]+"-error",null),event.type="forms:change",that.emitter.trigger("change",event,{valid:!0})
}catch(error){if(!$el.hasClass(that.options["class.warn"]))$el.addClass(that.options["class.warn"]),event.type="forms:error",that.emitter.trigger("error",event,error);$el.data(that.options["attribute.prefix"]+"-valid",!1),$el.data(that.options["attribute.prefix"]+"-error",error),event.type="forms:change",that.emitter.trigger("change",event,{valid:!1,error:error})}$el.data(that.options["attribute.prefix"]+"-dirty",!1)};var external=function(){return getForm.apply(null,arguments)||makeForm.apply(this,arguments)};return external}),define("pages/home/account/signedIn",["pages/home/template/body","underscore","js/core/brbraitt","js/lib/forms","jquery","js/lib/cookie","js/lib/brbraitt.ab","js/lib/util"],function(body,_,brbraitt,Form,$,cookie,AB,util){var signUp=body.extend({initialize:function(){var that=this;document.title="Signing in... | brbraitt",_.bindAll(this)},getTopicShortName:function(courseId,success,fail){return brbraitt.api.get("topic/short_name",{data:{course_id:courseId}})},handleCoursePageRedirect:function(courseId,redirect){this.getTopicShortName(courseId).done(function(shortName){var courseInfoUrl=brbraitt.config.dir.home+"course/"+shortName+"?from_restricted_preview=1"+"&course_id="+courseId+"&r="+encodeURIComponent(redirect);brbraitt.router.navigate(courseInfoUrl,{trigger:!0,replace:!0})}).fail(function(){var signInUrl=brbraitt.config.dir.home+"account/signin"+"?r="+encodeURIComponent(redirect);brbraitt.router.navigate(signInUrl,{trigger:!0,replace:!0})})},redirectToCoursePage:function(courseId,redirect){var that=this;if(!brbraitt.user.get("authenticated"))that.handleCoursePageRedirect(courseId,redirect);else brbraitt.user.getTopics(!0).done(function(){if(brbraitt.user.isEnrolledInCourse(courseId))util.handleRedirect(redirect);else that.handleCoursePageRedirect(courseId,redirect)}).fail(function(){util.handleRedirect(redirect)})},trackConversionEvent:function(e){AB.session.getExperiment("coursecatalog_inline_enroll2").convert(e),AB.session.getExperiment("coursepage_compress_language").convert(e),AB.session.getExperiment("coursepage_metadata").convert(e),AB.session.getExperiment("coursepage_sigtrack_free_button2").convert(e),AB.session.getExperiment("homepage_banner_size2").convert(e),AB.session.getExperiment("homepage_browse_all_placement2").convert(e),AB.session.getExperiment("homepage_course_count2").convert(e),AB.session.getExperiment("homepage_promos2").convert(e),AB.session.getExperiment("homepage_sort_course_3").convert(e),AB.user.getExperiment("homepage-nux-button").convert(e)},handleRegistrationTracking:function(){if(brbraitt.multitracker.push(["user.register",brbraitt.user.get("id")]),this.trackConversionEvent("register"),cookie.get("linked_lecture"))brbraitt.multitracker.push(["user.register.afterLinkedLecture",cookie.get("linked_lecture")])},enrollUser:function(courseId,topicShortName,sigTrack){var self=this;brbraitt.user.enroll(courseId,sigTrack,function(err){if(!err)brbraitt.multitracker.push(["user.course.enroll",courseId]),brbraitt.multitracker.push(["user.enroll.redirect",courseId]),self.trackConversionEvent("enroll"),brbraitt.router.navigate(brbraitt.config.dir.home+"course/"+topicShortName,!0);else brbraitt.router.trigger("error",500,{message:"couldn't enroll"})})},subscribeUser:function(topicId,topicShortName){var self=this;brbraitt.user.subscribeToTopic(topicId).done(function(){brbraitt.multitracker.push(["user.course.subscribe",topicId]),brbraitt.multitracker.push(["user.subscribe.redirect",topicId]),self.trackConversionEvent("subscribe"),brbraitt.router.navigate(brbraitt.config.dir.home+"course/"+topicShortName,!0)})},render:function(){var params=this.options.params,userAction=params&&params.user_action?params.user_action:null,topicId=params&&params.topic_id?params.topic_id:null,topicShortName=params&&params.topic_shortname?params.topic_shortname:null,topicName=params&&params.topic_name?params.topic_name:null,courseId=params&&params.course_id?params.course_id:null,registered=params&&params.registered?params.registered:null,redirect=params&&params.r?params.r:null,post_redirect=params&&params.post_redirect?params.post_redirect:null;if(null===redirect)redirect=post_redirect;if(null!==registered)this.handleRegistrationTracking();if(courseId&&"class"==userAction)this.redirectToCoursePage(courseId,redirect);else if(!brbraitt.user.get("authenticated"))brbraitt.router.navigate(brbraitt.config.dir.home,!0);else if(courseId&&topicShortName&&"enroll"==userAction){var enrollInSignatureTrack=0;this.enrollUser(courseId,topicShortName,enrollInSignatureTrack)}else if(topicId&&topicShortName&&"subscribe"==userAction)this.subscribeUser(topicId,topicShortName);else if(redirect)util.handleRedirect(redirect);else brbraitt.router.navigate(brbraitt.config.dir.home,!0)}});return signUp}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,topic=locals_.topic,hideWorkload=locals_.hideWorkload,languageMargin=locals_.languageMargin,nativeLanguge=locals_.nativeLanguge,hideLanguage=locals_.hideLanguage,subtitles=locals_.subtitles,showMetadataOnRightSide=locals_.showMetadataOnRightSide,user=locals_.user,config=locals_.config,_=locals_._,Courses=locals_.Courses,query=locals_.query,hideInstructor=locals_.hideInstructor,hideShortDesc=locals_.hideShortDesc,isChina=locals_.isChina,expCoursepageDropdownSelector=locals_.expCoursepageDropdownSelector,showSigtrackCert=locals_.showSigtrackCert,activeSigtrackCourseLink=locals_.activeSigtrackCourseLink,expCoursepageSimpleSocial=locals_.expCoursepageSimpleSocial,twitterUrl=locals_.twitterUrl,certificateImgURL=locals_.certificateImgURL;_t="undefined"!=typeof _t?_t:function(s){return s};var metadata_mixin=function(isTopSection){var block=this.block,attributes=this.attributes||{},escaped=this.escaped||{};if(topic.get("estimated_class_workload")&&hideWorkload^isTopSection)buf.push("<div"+jade.attrs({style:languageMargin},{style:!0})+'><span style="font-weight:bold" data-msg="brbraitt-course-workload">'+jade.escape(null==(jade.interp=_t("Workload:"))?"":jade.interp)+"</span><span> "+(null==(jade.interp=_t("#{topic.get('estimated_class_workload').replace(' hours/week', '')}&nbsp;",{"topic.get('estimated_class_workload').replace(' hours/week', '')":topic.get("estimated_class_workload").replace(" hours/week","")}))?"":jade.interp)+'</span><span data-msg="brbraitt-course-workloadunits">'+jade.escape(null==(jade.interp=_t("hours/week"))?"":jade.interp)+"</span></div>");if(nativeLanguge&&hideLanguage^isTopSection)buf.push("<div"+jade.attrs({style:languageMargin},{style:!0})+'><span style="font-weight:bold" data-msg="brbraitt-course-language">'+jade.escape(null==(jade.interp=_t("Taught In:"))?"":jade.interp)+"</span>"+(null==(jade.interp=_t("&nbsp;"))?"":jade.interp)+"<span>"+jade.escape(null==(jade.interp=_t(nativeLanguge))?"":jade.interp)+"</span></div>");if(subtitles&&hideLanguage^isTopSection)buf.push("<div"+jade.attrs({style:languageMargin},{style:!0})+'><span style="font-weight:bold" data-msg="brbraitt-course-subtitle">'+jade.escape(null==(jade.interp=_t("Subtitles Available In:"))?"":jade.interp)+"</span>"+jade.escape(null==(jade.interp=_t("&nbsp;"))?"":jade.interp)+"<span>"+jade.escape(null==(jade.interp=_t(subtitles))?"":jade.interp)+"</span></div>");if(topic.get("preview_link")&&showMetadataOnRightSide^isTopSection)buf.push("<a"+jade.attrs({href:topic.get("preview_link"),"class":["btn","btn-preview"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Preview Lectures"))?"":jade.interp)+"</a>")};if(buf.push('<div class="container"><div class="brbraitt-full-canvas"><div class="row-fluid"><div style="margin-bottom: 16px;" class="brbraitt-edit-page"><div class="brbraitt-edit-page-button"></div>'),topic.get("display")===!1)buf.push('<div class="brbraitt-visibility-warning">'+jade.escape(null==(jade.interp=_t("This is a private page that only course administrators can preview."))?"":jade.interp)+"</div>");if(user.canEditTopic(topic)){if(buf.push('<div data-readme="watchlist-announcement" data-readme-show-count="1" data-readme-show-until-closed="data-readme-show-until-closed" data-readme-show-expires="Jun 15, 2013" class="hide"><div>'+jade.escape(null==(jade.interp=_t('We now give students the ability to "watch" classes they\'re interested in, which replaces the need for TBA sessions.'))?"":jade.interp)+'<a href="https://class.brbraitt.org/mooc/forum/thread?thread_id=472" target="_blank" data-readme-close="data-readme-close">'+jade.escape(null==(jade.interp=_t("Read more here."))?"":jade.interp)+'</a></div><div data-readme-close="data-readme-close" class="readme-close-icon"><span class="icon-remove"></span></div></div><span style="padding-left:24px;"><span style="display: none; vertical-align: top; margin-right: 10px;">'+jade.escape(null==(jade.interp=_t("Admins only:"))?"":jade.interp)+"</span><span><a"+jade.attrs({target:"_blank",href:config.dir.home+"admin/data/courses/"+topic.get("id")},{target:!0,href:!0})+">"+jade.escape(null==(jade.interp=_t("Edit Course Description"))?"":jade.interp)+"</a></span>"),topic.get("courses").size()>0)buf.push('</span><span style="padding-left:24px;"><a data-popup=".brbraitt-edit-desc-popup" href="javascript:void(0);"><span class="dropdown-label">'+jade.escape(null==(jade.interp=_t("Edit Session Descriptions"))?"":jade.interp)+'</span><span class="carrot">â¾</span></a><span class="brbraitt-header-popup brbraitt-edit-desc-popup hide">'),_.each(Courses.byTimeDescending(topic.get("courses")),function(course){buf.push("<span><a"+jade.attrs({href:config.dir.home+"admin/data/sessions/"+course.get("id")},{href:!0})+">"+jade.escape(null==(jade.interp=_t(course.get("home_link")))?"":jade.interp)+"</a></span>")}),buf.push('</span></span><span style="padding-left:24px;"><a data-popup=".brbraitt-edit-materials-popup" href="javascript:void(0);"><span class="dropdown-label">'+jade.escape(null==(jade.interp=_t("Edit Session Materials"))?"":jade.interp)+'</span><span class="carrot">â¾</span></a><span class="brbraitt-header-popup brbraitt-edit-materials-popup hide">'),_.each(Courses.byTimeDescending(topic.get("courses")),function(course){buf.push("<span><a"+jade.attrs({target:"_blank",href:course.get("home_link")},{target:!0,href:!0})+">"+jade.escape(null==(jade.interp=_t(course.get("home_link")))?"":jade.interp)+"</a></span>")}),buf.push("</span>");buf.push("</span>")}if(buf.push("</div></div>"),query.from_restricted_preview){if(buf.push('<div class="row-fluid brbraitt-course-restricted-box"><div class="span8 brbraitt-course-restricted-message"><h3>'+jade.escape(null==(jade.interp=_t("Looks like you are not enrolled in this course!"))?"":jade.interp)+'</h3><span style="display:none;" class="brbraitt-course-restricted-opensessions">'+jade.escape(null==(jade.interp=_t("Enroll for free in one of the sessions below to access all the course content!"))?"":jade.interp)+'</span><span style="display:none;" class="brbraitt-course-restricted-noopensessions">'+jade.escape(null==(jade.interp=_t("There are no sessions open for enrollment. While you wait for a new session of this course, you could"))?"":jade.interp)+'<a href="/courses">'+jade.escape(null==(jade.interp=_t("browse our other course offerings."))?"":jade.interp)+"</a></span></div>"),!user.get("authenticated")){var redirectToCourseLink="/account/signin?cid="+query.cid+"&r="+encodeURIComponent(query.r);buf.push('<div class="span4 brbraitt-course-restricted-login"><h3>'+jade.escape(null==(jade.interp=_t("Already enrolled?"))?"":jade.interp)+"</h3><p>"+jade.escape(null==(jade.interp=_t("If you have already enrolled in this course, then"))?"":jade.interp)+"<a"+jade.attrs({href:"/account/signin?r="+encodeURIComponent(redirectToCourseLink)},{href:!0})+">"+jade.escape(null==(jade.interp=_t("sign in here."))?"":jade.interp)+"</a></p></div>")}else buf.push('<div class="span4"></div>');buf.push("</div>")}if(buf.push('<div class="brbraitt-course-content"><div style="margin-bottom:30px;" class="row-fluid"><div class="span6"><div style="margin-bottom:15px;">'),topic.get("university_logo")&&1==topic.get("universities").length){var university=topic.get("universities")[0];buf.push("<a"+jade.attrs({style:"margin-right:20px;",href:university.home_link||config.dir.home+university.short_name,"class":[university.home_link?"":"internal-home"]},{style:!0,"class":!0,href:!0})+"><img"+jade.attrs({src:topic.get("university_logo"),alt:university.name,"class":["brbraitt-course-school-logo"]},{src:!0,alt:!0})+"/></a>")}else _.each(topic.get("universities"),function(university){buf.push("<a"+jade.attrs({style:"margin-right:20px;",href:university.home_link||config.dir.home+university.short_name,"class":[university.home_link?"":"internal-home"]},{style:!0,"class":!0,href:!0})+"><img"+jade.attrs({src:university.class_logo||university.logo,alt:university.name,"class":["brbraitt-course-school-logo"]},{src:!0,alt:!0})+"/></a>")});if(buf.push('</div><h1 style="font-size:36px;line-height:1.2em;" data-user-generated="data-user-generated">'+jade.escape(null==(jade.interp=_t(topic.get("name")))?"":jade.interp)+"</h1>"),!hideInstructor)buf.push('<h3 style="margin-top:10px;" class="instructor-name">'+(null==(jade.interp=_t(topic.get("instructor")))?"":jade.interp)+"</h3>");if(!hideShortDesc)buf.push('<p style="margin-top:12px;" data-user-generated="data-user-generated">'+jade.escape(null==(jade.interp=_t(topic.get("short_description")))?"":jade.interp)+"</p>");else buf.push("<br/>");if(metadata_mixin(!0),buf.push('</div><div class="span6"><div style="position:relative;">'),""!==topic.get("video")&&!isChina)buf.push('</div><div class="shadow-corners"><div class="brbraitt-course-logo"><img'+jade.attrs({src:topic.get("large_icon"),style:"width:100%;"},{src:!0,style:!0})+'/></div><div class="btn brbraitt-course-playbutton"><div></div><span style="margin-right:8px;">'+jade.escape(null==(jade.interp=_t("Watch intro video"))?"":jade.interp)+'</span></div></div><iframe width="412" height="231" frameborder="0" allowfullscreen="allowfullscreen" wmode="opaque" class="hide brbraitt-course-video">');else buf.push('<div class="shadow-corners"><div class="brbraitt-course-logo-no-video"><img'+jade.attrs({src:topic.get("large_icon"),style:"width:100%;"},{src:!0,style:!0})+"/></div></div>");if(buf.push("</iframe></div></div>"),"dropdown_sidebar"!==expCoursepageDropdownSelector){if(buf.push('<hr style="clear:both;" class="brbraitt-full-page-divider-no_padding"/><div class="row-fluid"><div class="span7"><div style="margin-bottom:10px; width:700px;" class="brbraitt-course-listings"><span>'+(null==(jade.interp=_t("Loading upcoming session dates&nbsp;&nbsp;"))?"":jade.interp)+"</span><img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})+'/></div></div><div class="span1"><div>'+(null==(jade.interp=_t("&nbsp;"))?"":jade.interp)+"</div></div>"),"list"===expCoursepageDropdownSelector){if(buf.push('<div style="padding-top:8px;" class="span4">'),showSigtrackCert){buf.push('<div class="brbraitt-course2-data">');var university=topic.get("universities")[0];buf.push("<a"+jade.attrs({href:activeSigtrackCourseLink},{href:!0})+"><img"+jade.attrs({style:"margin-top: 10px",src:"https://s3.amazonaws.com/brbraitt/universities/"+university.short_name+"/signature-cert-icon.png"},{style:!0,src:!0})+"/></a></div>")}else{if(buf.push('<div class="hide social">'),!isChina&&"default"===expCoursepageSimpleSocial)buf.push('<div style="float:right;" class="social-facebook"><fb:like'+jade.attrs({href:topic.get("social_link"),send:"false",layout:"box_count",width:"50",show_faces:"false"},{href:!0,send:!0,layout:!0,width:!0,show_faces:!0})+'></fb:like></div><div style="float:right;margin-right:10px;" class="social-google"><div'+jade.attrs({"data-size":"tall","data-href":topic.get("social_link"),"class":["g-plusone"]},{"data-size":!0,"data-href":!0})+'></div></div><div style="float:right;" class="social-twitter"><iframe'+jade.attrs({allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+twitterUrl+"&count=vertical&size=s",style:"width:58px; height:65px; margin-right:10px;"},{allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0,style:!0})+"></iframe></div>");else buf.push("<div"+jade.attrs({style:"margin-top:15px;font-size:1.5em;","data-url":topic.get("social_link"),"data-text":topic.getFacebookText(),"data-facebook-picture":topic.get("small_icon_hover"),"data-facebook-name":topic.getFacebookText(),"data-facebook-redirect":"https://www.brbraitt.org/","data-twitter-text":topic.getTwitterText(),"data-twitter-hashtags":topic.get("hash_tag"),"data-weibo-text":topic.getTwitterText(),"data-eventing-key":"user.click.link.social","data-eventing-value":"course-mini","class":["brbraitt-share-buttons","brbraitt-course-share"]},{style:!0,"data-url":!0,"data-text":!0,"data-facebook-picture":!0,"data-facebook-name":!0,"data-facebook-redirect":!0,"data-twitter-text":!0,"data-twitter-hashtags":!0,"data-weibo-text":!0,"data-eventing-key":!0,"data-eventing-value":!0})+"></div>");buf.push("</div>")}buf.push("</div>")}buf.push("</div>")}if(buf.push('<hr class="brbraitt-full-page-divider-no_padding"/><div class="row-fluid"><div class="span7">'),topic.get("description"))buf.push('<div style="clear:both;margin:auto;" data-user-generated="data-user-generated" class="brbraitt-course-description">'+(null==(jade.interp=_t(topic.get("description")))?"":jade.interp)+"</div>");else{if(buf.push("<div>"),topic.get("about_the_course"))buf.push('<h2 data-msg="brbraitt-course-about" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("About the Course"))?"":jade.interp)+'</h2><div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("about_the_course")))?"":jade.interp)+"</div>");if(topic.get("course_syllabus"))buf.push('<h2 data-msg="brbraitt-course-syllabus" style="clear:both;" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("Course Syllabus"))?"":jade.interp)+'</h2><div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("course_syllabus")))?"":jade.interp)+"</div>");if(topic.get("recommended_background"))buf.push('<h2 data-msg="brbraitt-course-background" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("Recommended Background"))?"":jade.interp)+'</h2><div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("recommended_background")))?"":jade.interp)+"</div>");if(buf.push('<div style="display:none;" class="brbraitt-course-free-textbooks"><h2 data-msg="brbraitt-course-free-textbooks">'+jade.escape(null==(jade.interp=_t("In-course Textbooks"))?"":jade.interp)+"</h2><p>"+jade.escape(null==(jade.interp=_t("As a student enrolled in this course, you will have free access to selected chapters and content for the duration of the course. All chapters were selected by the instructor specifically for this course. You will be able to access the brbraitt edition of the e-textbook via an e-reader in the class site hosted by Chegg. If you click on âBuy this bookâ, you will be able to purchase the full version of the textbook, rather than the limited chapter selection in the brbraitt edition. This initiative is made possible by brbraittâs collaboration with textbook publishers and Chegg."))?"":jade.interp)+'</p></div><div class="brbraitt-course-textbook-list"></div>'),topic.get("suggested_readings"))buf.push('<h2 data-msg="brbraitt-course-readings" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("Suggested Readings"))?"":jade.interp)+'</h2><div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("suggested_readings")))?"":jade.interp)+"</div>");if(topic.get("course_format"))buf.push('<h2 data-msg="brbraitt-course-format" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("Course Format"))?"":jade.interp)+'</h2><div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("course_format")))?"":jade.interp)+"</div>");if(topic.get("other_description"))buf.push('<div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("other_description")))?"":jade.interp)+"</div>");if(topic.get("faq"))buf.push('<h2 data-msg="brbraitt-course-faq" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("FAQ"))?"":jade.interp)+'</h2><div data-user-generated="data-user-generated" class="brbraitt-course-detail">'+(null==(jade.interp=_t(topic.get("faq")))?"":jade.interp)+"</div>");buf.push("</div>")}if(buf.push('</div><div class="span1"></div><div class="span4">'),"dropdown_sidebar"===expCoursepageDropdownSelector)buf.push('<div style="margin-bottom:10px; width:700px;" class="brbraitt-course-listings"><span>'+(null==(jade.interp=_t("Loading upcoming session dates&nbsp;&nbsp;"))?"":jade.interp)+"</span><img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})+"/></div>");if(buf.push('<div class="brbraitt-course2-data"><h2 data-msg="brbraitt-course-instructor" style="margin-bottom:24px;" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("About the Instructor"))?"":jade.interp)+'</h2><div class="brbraitt-course2-instructors"></div></div><br/>'),showMetadataOnRightSide)buf.push('<div class="brbraitt-course2-data"><h2 style="margin-bottom:24px;" class="brbraitt-course-heading">'+jade.escape(null==(jade.interp=_t("Course Details"))?"":jade.interp)+"</h2><div>"),metadata_mixin(!1),buf.push("</div></div>");if(buf.push('</div></div><div class="row-fluid brbraitt-similartopics-container hide"></div><hr class="brbraitt-full-page-divider-no_padding"/><div class="row-fluid"><div class="span12">'),topic.get("categories").length)buf.push('<br/><div style="margin-bottom:3px;" class="brbraitt-course-categories"><span style="font-weight:bold" data-msg="brbraitt-course-categories">'+jade.escape(null==(jade.interp=_t("Categories:"))?"":jade.interp)+"</span><br/>"),_.each(topic.get("categories"),function(category){buf.push("<a"+jade.attrs({href:config.dir.home+"courses?cats="+category.short_name,"class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(category.name))?"":jade.interp)+"</a><br/>")}),buf.push("</div>");if(buf.push("<a"+jade.attrs({href:config.dir.home+"courses",style:"margin-top: 20px; ; display: inline-block;","class":["internal-home","brbraitt-view-all-link","brbraitt-to-catalog-link"]},{href:!0,style:!0})+">"+jade.escape(null==(jade.interp=_t("Browse more courses"))?"":jade.interp)+'</a></div></div></div></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" class="modal hide brbraitt-course-watch-modal"><div class="modal-header"><a href="javascript:void(0)" data-modal-close="data-modal-close" class="close">Ã</a><h3>'+jade.escape(null==(jade.interp=_t("Thanks for watching!"))?"":jade.interp)+'</h3></div><div class="modal-body"><div><p>'+jade.escape(null==(jade.interp=_t("We'll email you if there are new session dates announced for this course. In the meantime,"))?"":jade.interp)+"\n"+jade.escape(null==(jade.interp=_t("let your friends know about this course, so that you'll all be ready to take it together!"))?"":jade.interp)+"</p>"),!isChina)buf.push("<div"+jade.attrs({"data-size":"small","data-href":topic.get("social_link"),"class":["g-plusone"]},{"data-size":!0,"data-href":!0})+"></div><iframe"+jade.attrs({style:"height:20px;width:90px; vertical-align:middle; margin-top:-5px;",allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+twitterUrl+"&size=s"},{style:!0,allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0})+"></iframe><fb:like"+jade.attrs({href:topic.get("social_link"),send:"false",layout:"button_count",show_faces:"false"},{href:!0,send:!0,layout:!0,show_faces:!0})+"></fb:like>");else buf.push("<div"+jade.attrs({style:"margin-top:15px;font-size:1.5em;","data-url":topic.get("social_link"),"data-text":topic.getFacebookText(),"data-facebook-picture":topic.get("small_icon_hover"),"data-facebook-name":topic.getFacebookText(),"data-facebook-redirect":"https://www.brbraitt.org/","data-twitter-text":topic.getTwitterText(),"data-twitter-hashtags":topic.get("hash_tag"),"data-weibo-text":topic.getTwitterText(),"data-eventing-key":"user.click.link.social","data-eventing-value":"course-mini","data-icon":!0,"class":["brbraitt-share-buttons","brbraitt-course-share"]},{style:!0,"data-url":!0,"data-text":!0,"data-facebook-picture":!0,"data-facebook-name":!0,"data-facebook-redirect":!0,"data-twitter-text":!0,"data-twitter-hashtags":!0,"data-weibo-text":!0,"data-eventing-key":!0,"data-eventing-value":!0,"data-icon":!0})+"></div>");if(buf.push('</div></div><div class="modal-footer"><a data-modal-close="data-modal-close">'+jade.escape(null==(jade.interp=_t("Back to browsing"))?"":jade.interp)+'</a></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" class="modal hide brbraitt-course-modal"><div class="modal-header"><div style="float:right; width:300px; text-align: right;">'),!isChina)buf.push("<div"+jade.attrs({"data-size":"small","data-href":topic.get("social_link"),"class":["g-plusone"]},{"data-size":!0,"data-href":!0})+"></div><iframe"+jade.attrs({style:"height:20px;width:100px; vertical-align:middle; margin-top:-5px;",allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+twitterUrl+"&size=s"},{style:!0,allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0})+"></iframe><fb:like"+jade.attrs({href:topic.get("social_link"),send:"false",layout:"button_count",show_faces:"false",style:"top:4px"},{href:!0,send:!0,layout:!0,show_faces:!0,style:!0})+"></fb:like>");else buf.push("<div"+jade.attrs({style:"margin-top:13px;font-size:1.5em;position:absolute;right:50px,top:0px;","data-url":topic.get("social_link"),"data-text":topic.getFacebookText(),"data-facebook-picture":topic.get("small_icon_hover"),"data-facebook-name":topic.getFacebookText(),"data-facebook-redirect":"https://www.brbraitt.org/","data-twitter-text":topic.getTwitterText(),"data-twitter-hashtags":topic.get("hash_tag"),"data-weibo-text":topic.getTwitterText(),"data-eventing-key":"user.click.link.social","data-eventing-value":"course-mini","class":["brbraitt-share-buttons","brbraitt-course-share"]},{style:!0,"data-url":!0,"data-text":!0,"data-facebook-picture":!0,"data-facebook-name":!0,"data-facebook-redirect":!0,"data-twitter-text":!0,"data-twitter-hashtags":!0,"data-weibo-text":!0,"data-eventing-key":!0,"data-eventing-value":!0})+"></div>");return buf.push('<button type="button" data-modal-close="data-modal-close" aria-hidden="true" style="margin-left: 25px;" class="close">'+(null==(jade.interp=_t("&times;"))?"":jade.interp)+"</button></div><h3>"+jade.escape(null==(jade.interp=_t("Congratulations!"))?"":jade.interp)+'</h3><div style="clear:both;"></div></div><div class="modal-body"><p>'+jade.escape(null==(jade.interp=_t("You're signed up for #{topic.get('name')}.",{"topic.get('name')":topic.get("name")}))?"":jade.interp)+'<span class="brbraitt-course-modal-open hide"> '+jade.escape(null==(jade.interp=_t("The course is open and you can start watching lectures and participating on the forums with other students right now!"))?"":jade.interp)+'<br/><span class="brbraitt-course-modal-open brbraitt-course-modal-class-btn"><a class="btn btn-success">'+jade.escape(null==(jade.interp=_t("Go to class"))?"":jade.interp)+'</a></span></span><span class="brbraitt-course-modal-starts hide"> '+(null==(jade.interp=_t("The course will start on&nbsp;"))?"":jade.interp)+'<span class="brbraitt-course-modal-starts-date"></span> '+jade.escape(null==(jade.interp=_t("and we will notify you just before then to remind you when class will begin."))?"":jade.interp)+'</span><span class="brbraitt-course-modal-tba hide"> '+jade.escape(null==(jade.interp=_t("The course is under preparation, and we will notify you by email when it starts."))?"":jade.interp)+'</span></p><div style="margin-top: 30px" class="brbraitt-course-modal-signature-track-optin hide"><p style="text-align: center"><b>'+jade.escape(null==(jade.interp=_t("Earn a Verified Certificate with Signature Track"))?"":jade.interp)+'</b><br/></p><div><div style="display:inline-block; vertical-align: top;"><img'+jade.attrs({src:certificateImgURL,alt:"Illustration of certificate","class":["brbraitt-course-modal-cta-img"]},{src:!0,alt:!0})+'/></div><p style="display:inline-block; width: 60%; margin-left: 10px; margin-top: 20px; vertical-align: top;" class="brbraitt-course-modal-cta-paragraph">'+jade.escape(null==(jade.interp=_t("Signature Track enables you to securely link your coursework to your identity, allowing you to confidently show the world what you've achieved on brbraitt."))?"":jade.interp)+'</p><center></center></div><div style="clear:both;"></div><div style="text-align: center; margin-bottom: 10px"><div style="width:330px;" class="btn brbraitt-signature-signup-button">'+jade.escape(null==(jade.interp=_t("Learn more Â»"))?"":jade.interp)+'</div></div></div></div><div class="brbraitt-course-modal-invite-friends hide"></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" class="modal brbraitt-course-selfstudy-modal hide"><div class="modal-header"><h2>'+jade.escape(null==(jade.interp=_t('What does "self study" mean?'))?"":jade.interp)+'</h2></div><div class="modal-body"><p>'+jade.escape(null==(jade.interp=_t("Self-Study mode makes all the videos and assignments available to be done at your own pace, but without a certificate of completion at the end."))?"":jade.interp)+"</p><p>"+jade.escape(null==(jade.interp=_t("This is only available for some courses at this time."))?"":jade.interp)+'</p></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn btn-primary">'+jade.escape(null==(jade.interp=_t("OK, I got it!"))?"":jade.interp)+"</button></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/course/courseBody.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.course.courseBody"]=jadify(wndw.jade.helpers)}(window),define("pages/home/course/nls/courseBody",{root:!0,zh:!0}),define("pages/home/course/nls/root/courseBody",{"Workload:":"Workload:","#{topic.get('estimated_class_workload').replace(' hours/week', '')}&nbsp;":"#{topic.get('estimated_class_workload').replace(' hours/week', '')}&nbsp;","hours/week":"hours/week","Taught In:":"Taught In:","&nbsp;":"&nbsp;","Subtitles Available In:":"Subtitles Available In:","Preview Lectures":"Preview Lectures","This is a private page that only course administrators can preview.":"This is a private page that only course administrators can preview.",'We now give students the ability to "watch" classes they\'re interested in, which replaces the need for TBA sessions.':'We now give students the ability to "watch" classes they\'re interested in, which replaces the need for TBA sessions.',"Read more here.":"Read more here.","Admins only:":"Admins only:","Edit Course Description":"Edit Course Description","Edit Session Descriptions":"Edit Session Descriptions","Edit Session Materials":"Edit Session Materials","Looks like you are not enrolled in this course!":"Looks like you are not enrolled in this course!","Enroll for free in one of the sessions below to access all the course content!":"Enroll for free in one of the sessions below to access all the course content!","There are no sessions open for enrollment. While you wait for a new session of this course, you could":"There are no sessions open for enrollment. While you wait for a new session of this course, you could","browse our other course offerings.":"browse our other course offerings.","Already enrolled?":"Already enrolled?","If you have already enrolled in this course, then":"If you have already enrolled in this course, then","sign in here.":"sign in here.","Watch intro video":"Watch intro video","Loading upcoming session dates&nbsp;&nbsp;":"Loading upcoming session dates&nbsp;&nbsp;","About the Course":"About the Course","Course Syllabus":"Course Syllabus","Recommended Background":"Recommended Background","In-course Textbooks":"In-course Textbooks","As a student enrolled in this course, you will have free access to selected chapters and content for the duration of the course. All chapters were selected by the instructor specifically for this course. You will be able to access the brbraitt edition of the e-textbook via an e-reader in the class site hosted by Chegg. If you click on âBuy this bookâ, you will be able to purchase the full version of the textbook, rather than the limited chapter selection in the brbraitt edition. This initiative is made possible by brbraittâs collaboration with textbook publishers and Chegg.":"As a student enrolled in this course, you will have free access to selected chapters and content for the duration of the course. All chapters were selected by the instructor specifically for this course. You will be able to access the brbraitt edition of the e-textbook via an e-reader in the class site hosted by Chegg. If you click on âBuy this bookâ, you will be able to purchase the full version of the textbook, rather than the limited chapter selection in the brbraitt edition. This initiative is made possible by brbraittâs collaboration with textbook publishers and Chegg.","Suggested Readings":"Suggested Readings","Course Format":"Course Format",FAQ:"FAQ","About the Instructor":"About the Instructor","Course Details":"Course Details","Categories:":"Categories:","Browse more courses":"Browse more courses","Thanks for watching!":"Thanks for watching!","We'll email you if there are new session dates announced for this course. In the meantime,":"We'll email you if there are new session dates announced for this course. In the meantime,","let your friends know about this course, so that you'll all be ready to take it together!":"let your friends know about this course, so that you'll all be ready to take it together!","Back to browsing":"Back to browsing","&times;":"&times;","Congratulations!":"Congratulations!","You're signed up for #{topic.get('name')}.":"You're signed up for #{topic.get('name')}.","The course is open and you can start watching lectures and participating on the forums with other students right now!":"The course is open and you can start watching lectures and participating on the forums with other students right now!","Go to class":"Go to class","The course will start on&nbsp;":"The course will start on&nbsp;","and we will notify you just before then to remind you when class will begin.":"and we will notify you just before then to remind you when class will begin.","The course is under preparation, and we will notify you by email when it starts.":"The course is under preparation, and we will notify you by email when it starts.","Earn a Verified Certificate with Signature Track":"Earn a Verified Certificate with Signature Track","Signature Track enables you to securely link your coursework to your identity, allowing you to confidently show the world what you've achieved on brbraitt.":"Signature Track enables you to securely link your coursework to your identity, allowing you to confidently show the world what you've achieved on brbraitt.","Learn more Â»":"Learn more Â»",'What does "self study" mean?':'What does "self study" mean?',"Self-Study mode makes all the videos and assignments available to be done at your own pace, but without a certificate of completion at the end.":"Self-Study mode makes all the videos and assignments available to be done at your own pace, but without a certificate of completion at the end.","This is only available for some courses at this time.":"This is only available for some courses at this time.","OK, I got it!":"OK, I got it!"}),define("js/json/nls/categories",{root:!0,zh:!0}),define("js/json/nls/root/categories",{Arts:"Arts","Statistics and Data Analysis":"Statistics and Data Analysis","Physical & Earth Sciences":"Physical & Earth Sciences",Medicine:"Medicine",Mathematics:"Mathematics","Teacher Professional Development":"Teacher Professional Development","Social Sciences":"Social Sciences","Computer Science: Artificial Intelligence":"Computer Science: Artificial Intelligence","Economics & Finance":"Economics & Finance","Information, Tech & Design":"Information, Tech & Design","Music, Film, and Audio":"Music, Film, and Audio","Health & Society":"Health & Society",Law:"Law","Food and Nutrition":"Food and Nutrition","Computer Science: Systems & Security":"Computer Science: Systems & Security","Business & Management":"Business & Management","Computer Science: Theory":"Computer Science: Theory","Humanities ":"Humanities ",Chemistry:"Chemistry",Physics:"Physics","Computer Science: Software Engineering":"Computer Science: Software Engineering","Biology & Life Sciences":"Biology & Life Sciences",Engineering:"Engineering","Energy & Earth Sciences":"Energy & Earth Sciences",Education:"Education"}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,expCoursepageSigtrackVerifiedCertificate=locals_.expCoursepageSigtrackVerifiedCertificate,expCoursepageDropdownSelector=locals_.expCoursepageDropdownSelector,courses=locals_.courses;
_t="undefined"!=typeof _t?_t:function(s){return s};var getSessionTimeInfo_mixin=function(course){var block=this.block,attributes=this.attributes||{},escaped=this.escaped||{};if(buf.push("<span>"+jade.escape(null==(jade.interp=_t(course.getStartDisplay()))?"":jade.interp)),course.get("duration"))buf.push("<span>"+(null==(jade.interp=_t("&nbsp;(#{course.getDurationWeeks()} weeks long)",{"course.getDurationWeeks()":course.getDurationWeeks()}))?"":jade.interp)+"</span>");if(course.get("self_study"))buf.push('<a data-modal=".brbraitt-course-selfstudy-modal" role="button" title="What is self study?"><i class="icon-info-sign brbraitt-signature-learnmore-icon"></i></a>');buf.push("</span>")},getPrimaryButton_mixin=function(course){var block=this.block,attributes=this.attributes||{},escaped=this.escaped||{};if(course.get("user_is_enrolled")&&course.get("active")&&"past"!=course.getStartStatus()||course.get("self_study"))buf.push("<a"+jade.attrs({href:course.get("class_link"),"class":["btn","btn-success","brbraitt-course-button"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Go to class"))?"":jade.interp)+"</a>");else if(course.get("user_is_enrolled")&&course.get("active"))buf.push("<a"+jade.attrs({href:course.get("class_link"),"class":["btn","btn-preview","brbraitt-course-button"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("View class archive"))?"":jade.interp)+"</a>");else if(course.get("user_is_enrolled")&&!course.get("active")&&"past"==course.getStartStatus())buf.push('<a disabled="disabled" class="btn btn-success brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("You took this course."))?"":jade.interp)+"</a>");else if(course.get("user_is_enrolled")&&!course.get("active")&&"past"!==course.getStartStatus())buf.push('<a disabled="disabled" class="btn btn-success brbraitt-course-button">'+jade.escape(null==(jade.interp=_t(course.getStartCountdown()))?"":jade.interp)+"</a>");else buf.push('<a class="btn btn-primary brbraitt-course-button brbraitt-course-button-join">'+jade.escape(null==(jade.interp=_t("Enroll for Free"))?"":jade.interp)+"  </a>")},getSecondaryButton_mixin=function(course){var block=this.block,attributes=this.attributes||{},escaped=this.escaped||{};if(course.get("eligible_for_signature_track")&&course.get("signature_track_registration_open")&&!course.get("user_in_signature_track")){if("st"===expCoursepageSigtrackVerifiedCertificate)buf.push("<a"+jade.attrs({href:course.get("optin_link")+"?utm_source=course&utm_medium=button","class":["btn","brbraitt-signature-signup-button"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Enroll in Signature Track"))?"":jade.interp)+"</a>");else buf.push("<a"+jade.attrs({href:course.get("optin_link")+"?utm_source=course&utm_medium=button","class":["btn","brbraitt-signature-signup-button"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("Enroll for a Verified Certificate"))?"":jade.interp)+"</a>");buf.push("<a"+jade.attrs({href:course.get("optin_link")+"?utm_source=course&utm_medium=button",style:"color:#9b762f;",title:"Learn more about Signature Track"},{href:!0,style:!0,title:!0})+'><i class="icon-info-sign brbraitt-signature-learnmore-icon"></i></a>')}else if(course.get("eligible_for_signature_track")&&course.get("signature_track_registration_open")&&course.get("user_in_signature_track"))buf.push('<div class="course-signaturetrack-bannerbox-enrolled"><span style="text-transform: uppercase;"></span>'+(null==(jade.interp=_t("&#x2713; Signature Track"))?"":jade.interp)+"</div>")};if("dropdown_sidebar"!==expCoursepageDropdownSelector)buf.push('<span data-msg="brbraitt-course-listings-sessions" class="brbraitt-course-listings-header">'+jade.escape(null==(jade.interp=_t("Sessions:"))?"":jade.interp)+"</span>");if("list"===expCoursepageDropdownSelector){if(buf.push("<table>"),courses.each(function(course){buf.push("<tr"+jade.attrs({"data-course-id":course.get("id"),"class":["brbraitt-course-listing"]},{"data-course-id":!0})+"><td>"),getSessionTimeInfo_mixin.call({block:function(){buf.push("    ")}},course),buf.push('</td><td style="padding-left: 15px;">'),getPrimaryButton_mixin(course),getSecondaryButton_mixin(course),buf.push("</td></tr>")}),buf.push('<tr class="brbraitt-course-listing"><td>'),0==courses.length)buf.push(""+jade.escape(null==(jade.interp=_t("No upcoming sessions"))?"":jade.interp));else buf.push(""+jade.escape(null==(jade.interp=_t("Future sessions"))?"":jade.interp));buf.push('</td><td><span class="brbraitt-course-subscribe"><button type="button" class="btn btn-primary brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("Add to Watchlist"))?"":jade.interp)+'</button></span><span style="display:none;" class="brbraitt-course-subscribed"><button type="button" disabled="disabled" class="btn btn-success brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("You're Watching!"))?"":jade.interp)+'</button><a href="javascript:void(0)" style="font-size:smaller;margin-left:10px;" class="brbraitt-course-unsubscribe">'+jade.escape(null==(jade.interp=_t("Remove from watchlist"))?"":jade.interp)+"</a></span></td></tr></table>")}else if("dropdown"===expCoursepageDropdownSelector){if(buf.push('<br/><span class="brbraitt-course-selector-dropdown">'),courses.length>0)buf.push('<select style="margin-bottom: -1px" class="brbraitt-course-listing-selector">'),courses.each(function(course){buf.push("<option"+jade.attrs({"data-course-id":course.get("id")},{"data-course-id":!0})+">"),getSessionTimeInfo_mixin(course),buf.push("</option>")}),buf.push('</select><span style="margin-left: 10px" class="brbraitt-dropdown-listing-buttons"></span>'),courses.each(function(course){buf.push("<span"+jade.attrs({style:"display:none","data-course-id":course.get("id"),"class":["brbraitt-course-listing-buttons"]},{style:!0,"data-course-id":!0})+">"),getPrimaryButton_mixin(course),getSecondaryButton_mixin(course),buf.push("</span>")});else buf.push('<div style="margin-top: 5px"><span class="brbraitt-course-subscribe"><a type="button" class="btn btn-info brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("Add to Watchlist"))?"":jade.interp)+'</a></span><span style="display:none;" class="brbraitt-course-subscribed"><button type="button" disabled="disabled" class="btn btn-success brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("You're Watching!"))?"":jade.interp)+'<a href="javascript:void(0)" style="font-size:smaller;margin-left:10px;" class="brbraitt-course-unsubscribe">'+jade.escape(null==(jade.interp=_t("Remove from watchlist"))?"":jade.interp)+"</a></button></span></div>");buf.push("</span>")}else{if(buf.push('<span class="brbraitt-course-selector-dropdown-sidebar">'),courses.length>0)buf.push('<select style="margin-bottom: 4px" class="brbraitt-course-listing-selector">'),courses.each(function(course){buf.push("<option"+jade.attrs({"data-course-id":course.get("id")},{"data-course-id":!0})+">"),getSessionTimeInfo_mixin(course),buf.push("</option>")}),buf.push('</select><br/><span class="brbraitt-dropdown-listing-buttons"></span>'),courses.each(function(course){buf.push("<span"+jade.attrs({style:"display:none","data-course-id":course.get("id"),"class":["brbraitt-course-listing-buttons"]},{style:!0,"data-course-id":!0})+">"),getPrimaryButton_mixin(course),buf.push("<br/>"),getSecondaryButton_mixin(course),buf.push("</span>")});else buf.push('<div style="margin-top: 5px"><span class="brbraitt-course-subscribe"><a type="button" class="btn btn-info brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("Add to Watchlist"))?"":jade.interp)+'</a></span><span style="display:none;" class="brbraitt-course-subscribed"><button type="button" disabled="disabled" class="btn btn-success brbraitt-course-button">'+jade.escape(null==(jade.interp=_t("You're Watching!"))?"":jade.interp)+'<a href="javascript:void(0)" style="font-size:smaller;margin-left:10px;" class="brbraitt-course-unsubscribe">'+jade.escape(null==(jade.interp=_t("Remove from watchlist"))?"":jade.interp)+"</a></button></span></div>");buf.push("</span>")}return buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/course/courseListing.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.course.courseListing"]=jadify(wndw.jade.helpers)}(window),define("pages/home/course/nls/courseListing",{root:!0,zh:!0}),define("pages/home/course/nls/root/courseListing",{"&nbsp;(#{course.getDurationWeeks()} weeks long)":"&nbsp;(#{course.getDurationWeeks()} weeks long)","Go to class":"Go to class","&nbsp;":"&nbsp;","Enroll in Signature Track":"Enroll in Signature Track","&#x2713; Signature Track":"&#x2713; Signature Track","View class archive":"View class archive","You took this course.":"You took this course.","Enroll for Free":"Enroll for Free",Enroll:"Enroll","Sign Up":"Sign Up","Sessions:":"Sessions:","Session start dates:":"Session start dates:","No upcoming sessions":"No upcoming sessions","Future sessions":"Future sessions","Add to Watchlist":"Add to Watchlist","You're Watching!":"You're Watching!","Remove from watchlist":"Remove from watchlist"}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,instructor=locals_.instructor,config=locals_.config,university=locals_.university;_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="brbraitt-course2-instructors-profile"><div class="brbraitt-course2-instructors-profile-image">');var style="background-image:url('"+(instructor.get("photo_150")||config.url.assets+"images/icons/avatar.jpg")+"');";buf.push("<a"+jade.attrs({href:instructor.getLink(),style:style,"data-link-type":"instructor-profile-image","class":["internal-home"]},{href:!0,"class":!0,style:!0,"data-link-type":!0})+'></a></div><div class="brbraitt-course2-instructors-profile-inner-shadow"></div><div class="brbraitt-course2-instructors-info"><a'+jade.attrs({href:instructor.getLink(),"data-link-type":"instructor-name","class":["internal-home"]},{href:!0,"class":!0,"data-link-type":!0})+'><span class="brbraitt-course2-instructor-name">'+jade.escape(null==(jade.interp=_t(instructor.get("full_name")))?"":jade.interp)+"</span></a>");var href=university.home_link||config.dir.home+university.short_name,klass=university.home_link?"":"internal-home";return buf.push("<a"+jade.attrs({href:href,"data-link-type":"instructor-university","class":[klass]},{href:!0,"class":!0,"data-link-type":!0})+'><span class="brbraitt-course2-instructor-university">'+jade.escape(null==(jade.interp=_t(university.name))?"":jade.interp)+"</span></a></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/course/courseBodyInstructorIcon.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.course.courseBodyInstructorIcon"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,textbook=locals_.textbook,cheggLink=locals_.cheggLink,authorStr=locals_.authorStr;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div style="margin: 20px 20px 20px 0" class="brbraitt-course-textbook-container"><div style="float:left; width: 20%" class="brbraitt-course-textbook-thumbnail"><img'+jade.attrs({src:textbook.image_small},{src:!0})+'/></div><div style="float: right; width: 75%" class="brbraitt-course-textbook-body"><h4><a'+jade.attrs({href:cheggLink,target:"_blank",style:"font-family: 'helvetica neue', helvetica, sans-serif; font-size: 18px","class":["brbraitt-course-textbook-name"]},{href:!0,target:!0,style:!0})+">"+jade.escape(null==(jade.interp=_t(textbook.name))?"":jade.interp)+"</a></h4><p>"+jade.escape(null==(jade.interp=_t("Author: "))?"":jade.interp)+"\n"+jade.escape(null==(jade.interp=_t(authorStr))?"":jade.interp)+"<br/>"+jade.escape(null==(jade.interp=_t("Publisher: "))?"":jade.interp)+"\n"+jade.escape(null==(jade.interp=_t(textbook.publisher))?"":jade.interp)+'</p></div><div style="clear: both"></div></div>'),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/course/courseBodyTextbook.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.course.courseBodyTextbook"]=jadify(wndw.jade.helpers)}(window),define("pages/home/course/nls/courseBodyTextbook",{root:!0,zh:!0}),define("pages/home/course/nls/root/courseBodyTextbook",{"Author: ":"Author: ","Publisher: ":"Publisher: "}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,inviteText=locals_.inviteText,shareURL=locals_.shareURL,shareText=locals_.shareText,pictureURL=locals_.pictureURL,redirectURL=locals_.redirectURL,twitterText=locals_.twitterText,hashtag=locals_.hashtag,eventingKey=locals_.eventingKey,eventingValue=locals_.eventingValue,inviteOpen=locals_.inviteOpen,config=locals_.config;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="brbraitt-course-modal-invite-friends-social"><div class="row"><div class="span3"><p style="margin-left: 15px; padding-bottom: 8px;"><b>'+jade.escape(null==(jade.interp=_t(inviteText))?"":jade.interp)+'</b></p></div><div class="span3 brbraitt-course-modal-cta-icons"><i class="brbraitt-modal-cta-icon icon-envelope"></i><div'+jade.attrs({"data-url":shareURL,"data-text":shareText,"data-facebook-picture":pictureURL,"data-facebook-name":shareText,"data-facebook-redirect":redirectURL,"data-twitter-text":twitterText,"data-twitter-hashtags":hashtag,"data-weibo-text":twitterText,"data-eventing-key":eventingKey,"data-eventing-value":eventingValue,"class":["brbraitt-share-buttons","brbraitt-share-buttons-invite-modal"]},{"data-url":!0,"data-text":!0,"data-facebook-picture":!0,"data-facebook-name":!0,"data-facebook-redirect":!0,"data-twitter-text":!0,"data-twitter-hashtags":!0,"data-weibo-text":!0,"data-eventing-key":!0,"data-eventing-value":!0})+"></div></div></div></div><div"+jade.attrs({style:"display:"+inviteOpen,"class":["brbraitt-course-modal-cta-row"]},{style:!0})+'><div class="span1 brbraitt-course-modal-cta-text"><p style="margin-left:-5px;">'+jade.escape(null==(jade.interp=_t("To:"))?"":jade.interp)+'</p></div><div style="position:relative" class="span5"><div class="dropdown brbraitt-course-modal-cta-import-contacts"><a id="dLabel" data-toggle="dropdown" role="button" class="dropdown-toggle">'+jade.escape(null==(jade.interp=_t("Import contacts"))?"":jade.interp)+'</a><ul role="menu" aria-labelledby="dLabel" style="margin: 3px 0px 0px -45px;" class="dropdown-menu"><li><a tabindex="-1" role="button" data-provider="gmail" class="brbraitt-invite-friends-email-icon"><img'+jade.attrs({src:config.url.assets+"pages/home/course/invite/gmail.png"},{src:!0})+"/> "+jade.escape(null==(jade.interp=_t("Gmail"))?"":jade.interp)+'</a></li></ul></div><div class="brbraitt-course-modal-cta-fake-input"></div><input placeholder="Emails" class="brbraitt-course-modal-cta-invite"/></div><div class="row brbraitt-course-modal-cta-mail"><div class="span1 brbraitt-course-modal-cta-text"><p>'+jade.escape(null==(jade.interp=_t("Note:"))?"":jade.interp)+'</p></div><div class="span5"><textarea rows="4" class="brbraitt-course-modal-cta-message"></textarea></div></div><div class="brbraitt-course-modal-cta-btn btn btn-success offset3"><a href="#" class="brbraitt-invite-friends-email-link-send">'+jade.escape(null==(jade.interp=_t("Send"))?"":jade.interp)+'</a></div><div style="clear:both;"></div></div>'),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/course/courseInvite.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.course.courseInvite"]=jadify(wndw.jade.helpers)}(window),define("pages/home/course/nls/courseInvite",{root:!0,zh:!0}),define("pages/home/course/nls/root/courseInvite",{"To:":"To:","Import contacts":"Import contacts",Gmail:"Gmail","Note:":"Note:",Send:"Send"}),define("js/lib/contacts",["jquery","underscore","js/core/brbraitt"],function($,_,brbraitt){return ContactsImport={providers:{gmail:{name:"Gmail",oauth_url:"https://accounts.google.com/o/oauth2/auth?",url_params:{response_type:"token",client_id:"108778349004.apps.googleusercontent.com",redirect_uri:brbraitt.config.url.base+"account/contacts/gmail",scope:"https://www.google.com/m8/feeds/"},popup:{height:450,width:600}},yahoo:{name:"Yahoo",oauth_url:brbraitt.config.url.api+"student/get_token/yahoo?",url_params:{callback:brbraitt.config.url.base+"account/contacts/yahoo"},popup:{height:450,width:600}}},makeOAuthUrl:function(providerName){var provider=this.providers[providerName],params=$.param(provider.url_params),url=provider.oauth_url;return url+params},openOAuthWindow:function(providerName,callback){var url=this.makeOAuthUrl(providerName),height=this.providers[providerName].popup.height,width=this.providers[providerName].popup.width;window.oauthCallback=this.tokenCallback(callback),window.open(url,"OAuth - brbraitt","width="+width+",height="+height+",modal=yes,alwaysRaised=yes")},tokenCallback:function(callback){return function(urlData,provider){callback(urlData,provider)}}}}),define("js/lib/bootstrap-dropdown",["jquery"],function($){function clearMenus(){$(toggle).parent().removeClass("open")}var toggle='[data-toggle="dropdown"]',Dropdown=function(element){var $el=$(element).on("click.dropdown.data-api",this.toggle);$("html").on("click.dropdown.data-api",function(){$el.parent().removeClass("open")})};Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),$parent,selector,isActive;if(!$this.is(".disabled, :disabled")){if(selector=$this.attr("data-target"),!selector)selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"");if($parent=$(selector),$parent.length||($parent=$this.parent()),isActive=$parent.hasClass("open"),clearMenus(),!isActive)$parent.toggleClass("open");return!1}}},$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("dropdown");if(!data)$this.data("dropdown",data=new Dropdown(this));if("string"==typeof option)data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$(function(){$("html").on("click.dropdown.data-api",clearMenus),$("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",toggle,Dropdown.prototype.toggle)})}),define("js/lib/tokenizer",["jquery"],function($){var tokenizer="tokenizer",Tokenizer=function(argElement,argOpts){var input,list,wrap,suggestions,eventQueue=$({}),options=$.extend({xContent:"&times;",namespace:"tknz",label:"",placeholder:"",separators:[","," ","."],callback:null,source:null,allowUnknownTags:!0,numToSuggest:5,onclick:null},argOpts),init,buildHTML,bindEvents,push,pop,get,empty,destroy,callback,suggest,getMatch,tryPush,escapeRegExp;return init=function(){input=argElement,buildHTML(),bindEvents()},buildHTML=function(){var ns=options.namespace;if(list=$('<div class="'+ns+'-list"></div>'),options.placeholder)input.attr("placeholder",options.placeholder);suggestions=$('<div class="'+ns+'-suggest"><ul></ul></div>'),wrap=input.addClass(ns+"-input").wrap('<span class="'+ns+'-input-wrapper"></span>').parent().wrap('<div class="'+ns+'-wrapper"></div>').parent().prepend(list).prepend('<span class="'+ns+'-wrapper-label">'+options.label+"</span>").find("."+ns+"-input-wrapper").append(suggestions).end()},bindEvents=function(){var ns=options.namespace;wrap.on("focus","input",function(){wrap.addClass(ns+"-focus")}).on("blur","input",function(){wrap.removeClass(ns+"-focus"),eventQueue.delay(200).queue().push(function(){tryPush(input.val()),$.dequeue(this)})}).on("keydown","input",function(event){if(event=event||window.event,event.which=event.which||event.keyCode||event.charCode,8===event.which&&!input.val())return pop(),callback(),void 0;var selectClass=ns+"-sel",selected=suggestions.find("."+selectClass);if(38===event.which)if(event.preventDefault(),selected.length)selected.removeClass(selectClass).prev("li").add(selected.siblings().last()).eq(0).addClass(selectClass);else suggestions.find("li").last().addClass(selectClass);else if(40===event.which)if(event.preventDefault(),selected.length)selected.removeClass(selectClass).next("li").addClass(selectClass);else suggestions.find("li").first().addClass(selectClass)}).on("keypress","input",function(event){if(options.separators.indexOf(String.fromCharCode(event.which))>-1||13===event.which)event.preventDefault(),tryPush(input.val())}).on("keyup","input",function(event){if(event=event||window.event,event.which=event.which||event.keyCode||event.charCode,38!==event.which&&40!==event.which)if($.isArray(options.source))suggest(options.source);else if(options.source)options.source(input.val(),suggest)}).on("click",function(){input.focus()}).on("click","."+ns+"-token-x",function(event){event.stopPropagation(),$(this).closest("."+ns+"-token").remove(),callback()}).on("click","."+ns+"-suggest-li",function(){$.queue(eventQueue,[]),input.val(""),push($(this).text()),suggest([]),callback()}).on("click","."+ns+"-token",function(event){if(options.onclick)event.stopPropagation(),options.onclick($(this).children("."+ns+"-token-label").text())})},tryPush=function(value){var match=getMatch();if(value&&(options.allowUnknownTags||match))push(match||value),input.val(""),callback();suggest([],"")},push=function(value){var ns=options.namespace,pre=ns+"-token",token=$("<div>").addClass(pre).attr("data-token",value);return token.append($("<span>").addClass(pre+"-label").text(value.trim())),token.append($("<span>").addClass(pre+"-x").html(options.xContent)),list.append(token),input},pop=function(){return list.children().last().detach().data("token")||null},empty=function(){return list.empty(),input},get=function(){var i,tokenList=[],tokens=list.children();for(i=0;i<tokens.length;i++)tokenList.push(tokens.eq(i).data("token").toString());return tokenList},destroy=function(){if(wrap.after(input).remove(),options.placeholder)input.attr("placeholder","");return input.removeClass(options.namespace+"-input")},callback=function(){return(options.callback||$.noop)(input),input},suggest=function(words,word){word=void 0===word?input.val():word;var i,ns=options.namespace,re1=new RegExp(escapeRegExp(word),"i"),re2=new RegExp("^"+escapeRegExp(word)+"$","i"),limit=options.numToSuggest||1e3,list=[];for(i=0;word&&i<words.length&&list.length<limit;i++)if(words[i].match(re1))list.push('<li class="'+ns+"-suggest-li"+(words[i].match(re2)?" "+ns+"-sel":"")+'">'+words[i]+"</li>");else;suggestions.children("ul").html(list.join("")).end()[list.length?"addClass":"removeClass"]("."+ns+"-vis")},getMatch=function(){return suggestions.find("."+options.namespace+"-sel").eq(0).text()},escapeRegExp=function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},init(argElement),{push:push,pop:pop,empty:empty,get:get,destroy:destroy,callback:callback,bindEvents:bindEvents}},methods={init:function(options){if("INPUT"!==this[0].nodeName)return $.error('Tokenizer requires an <input type="text"> tag.'),this;else return this.data(tokenizer,Tokenizer(this,options))},push:function(value){return this.data(tokenizer).push(value)},pop:function(){return this.data(tokenizer).pop()},empty:function(){return this.data(tokenizer).empty()},get:function(){return this.data(tokenizer).get()},destroy:function(){return this.data(tokenizer).destroy()},callback:function(){return this.data(tokenizer).callback()},bindEvents:function(){return this.data(tokenizer).bindEvents()}};return Tokenizer}),!function(wndw){function addRef(url,val){var separator=-1==url.indexOf("?")?"?":"&";return url+separator+"sharebuttons_ref="+val}function create($,brbraitt){function ShareButtons(element,options){if(this.element=element,$(this.element).addClass("brbraitt-sharebuttons"),this.options=$.extend(!0,{},defaults,options),this._defaults=defaults,this.options.isChina)if(!$(this.element).is("[data-icon]"))$(this.element).attr("data-icon","");this.init()}var defaults={url:document.location.href,text:document.title,isChina:!1,buttons:{googlePlus:{enabled:!0,url:"",icon:"icon-google-plus-sign",refkey:"gp"},facebook:{enabled:!0,url:"",picture:"",name:"",icon:"icon-facebook-sign",refkey:"fb"},twitter:{enabled:!0,url:"",hashtags:"",via:"",related:"",lang:"en",icon:"icon-twitter",refkey:"tw"},weibo:{enabled:!0,url:"",picture:"",name:"",icon:"icon-weibo",refkey:"wb"},renren:{enabled:!0,url:"",picture:"",name:"",icon:"icon-renren",refkey:"rr"}}},makeButton=function(url,type,icon,eventKey,eventVal){var classname="brbraitt-sharebuttons-"+type,$link=$("<a></a>"),trackingKey=eventKey+"."+type;return $link.addClass(icon),$link.addClass("brbraitt-sharebuttons-icon"),$link.attr("target","_blank"),$link.attr("href",url),$link.on("click",function(){if(brbraitt&&brbraitt.multitracker)brbraitt.multitracker.push([trackingKey,eventVal]);else{if(!window._204)window._204=[];window._204.push({key:trackingKey,value:eventVal})}}),$link},loadButton={googlePlus:function(self){var sett=self.options.buttons.googlePlus,url=""!==sett.url?sett.url:self.options.url,icon=sett.icon,eventKey=$(self.element).attr("data-eventing-key"),eventVal=$(self.element).attr("data-eventing-value"),refkey=$(self.element).attr("data-googleplus-refkey")||sett.refkey;url=addRef(url,refkey);var URL="https://plus.google.com/share?url="+encodeURIComponent(url);$(self.element).append(makeButton(URL,"gplus",icon,eventKey,eventVal))},facebook:function(self){var sett=self.options.buttons.facebook,picture=$(self.element).attr("data-facebook-picture")||sett.picture,name=$(self.element).attr("data-facebook-name")||sett.name,description=$(self.element).attr("data-facebook-description")||sett.description||"",redirect=$(self.element).attr("data-facebook-redirect")||sett.redirect||window.location.href,url=""!==sett.url?sett.url:self.options.url,icon=sett.icon,eventKey=$(self.element).attr("data-eventing-key"),eventVal=$(self.element).attr("data-eventing-value"),refkey=$(self.element).attr("data-facebook-refkey")||sett.refkey;url=addRef(url,refkey);var URL="http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(url);$(self.element).append(makeButton(URL,"facebook",icon,eventKey,eventVal))},twitter:function(self){var $el=$(self.element),sett=self.options.buttons.twitter,text=$el.attr("data-twitter-text")||sett.text||self.options.text,hashtags=$el.attr("data-twitter-hashtags")||sett.hashtags,shareUrl=""!==sett.url?sett.url:self.options.url,icon=sett.icon,eventKey=$(self.element).attr("data-eventing-key"),eventVal=$(self.element).attr("data-eventing-value"),refkey=$(self.element).attr("data-twitter-refkey")||sett.refkey;if(shareUrl=addRef(shareUrl,refkey),$el.is("[data-twitter-autobuild]")){var twitterData={frontText:$el.attr("data-twitter-text-front")||sett.text||self.options.text,middleText:$el.attr("data-twitter-text-middle")||"",endText:$el.attr("data-twitter-text-end")||"",hashtags:hashtags,url:shareUrl};twitterData=self.buildTwitter(twitterData),text=twitterData.text,hashtags=twitterData.hashtags,shareUrl=twitterData.url}var URL="https://twitter.com/share?text="+encodeURIComponent(text)+"&"+"hashtags="+encodeURIComponent(hashtags)+"&"+"url="+encodeURIComponent(shareUrl);$(self.element).append(makeButton(URL,"twitter",icon,eventKey,eventVal))},weibo:function(self){var $el=$(self.element),sett=self.options.buttons.weibo,text=$el.attr("data-weibo-text")||sett.text||self.options.text,hashtags=$el.attr("data-weibo-hashtags")||sett.hashtags,shareUrl=""!==sett.url?sett.url:self.options.url,icon=$(self.element).is("[data-icon]")||self.options.icon?sett.icon:"",eventKey=$(self.element).attr("data-eventing-key"),eventVal=$(self.element).attr("data-eventing-value"),refkey=$(self.element).attr("data-weibo-refkey")||sett.refkey;shareUrl=addRef(shareUrl,refkey);var URL="http://service.weibo.com/share/share.php?title="+encodeURIComponent(text)+"&"+"url="+encodeURIComponent(shareUrl);$(self.element).append(makeButton(URL,"weibo",icon,eventKey,eventVal))},renren:function(self){var $el=$(self.element),sett=self.options.buttons.renren,url=""!==sett.url?sett.url:self.options.url,icon=$(self.element).is("[data-icon]")||self.options.icon?sett.icon:"",eventKey=$(self.element).attr("data-eventing-key"),eventVal=$(self.element).attr("data-eventing-value"),refkey=$(self.element).attr("data-renren-refkey")||sett.refkey;url=addRef(url,refkey);var URL="http://share.renren.com/share/buttonshare.do?link="+encodeURIComponent(url);$(self.element).append(makeButton(URL,"renren",icon,eventKey,eventVal))}};return ShareButtons.prototype.init=function(){var self=this;if("undefined"!=typeof $(this.element).data("url"))this.options.url=$(this.element).data("url");if("undefined"!=typeof $(this.element).data("text"))this.options.text=$(this.element).data("text");this.loadButtons()},ShareButtons.prototype.loadButtons=function(){var self=this;if(this.options.isChina)$.each(["weibo","renren"],function(ind,name){if(self.options.buttons[name].enabled)loadButton[name](self)});else $.each(["twitter","facebook","googlePlus"],function(ind,name){if(self.options.buttons[name].enabled)loadButton[name](self)})},ShareButtons.prototype.buildTwitter=function(twitterData){var twitterMaxLen=140,twitterUrlLen=23,twitterHashExtra=2,returnData={text:"",hashtags:"",url:""},returnLength=0;if(twitterData.url.length>0)returnData.url=twitterData.url,returnLength+=twitterUrlLen;if(returnLength+twitterData.frontText.length<=twitterMaxLen)returnData.text+=twitterData.frontText,returnLength+=twitterData.frontText.length;else return returnData.text=twitterData.frontText.substring(0,twitterMaxLen-returnLength),returnLength+=twitterMaxLen-returnLength,returnData;if(returnLength+twitterData.hashtags.length+twitterHashExtra<=twitterMaxLen)returnData.hashtags=twitterData.hashtags,returnLength+=twitterData.hashtags.length+twitterHashExtra;else return returnData;if(returnLength+twitterData.endText.length<=twitterMaxLen)returnData.text=twitterData.frontText+twitterData.endText,returnLength+=twitterData.endText.length;else return returnData;if(returnLength+twitterData.middleText.length<=twitterMaxLen)returnData.text=twitterData.frontText+twitterData.middleText+twitterData.endText,returnLength+=twitterData.middleText.length;else return returnData;return returnData},ShareButtons}if("function"==typeof define&&define.amd)define("js/lib/sharebuttons",["jquery","js/core/brbraitt"],function($,brbraitt){return create($,brbraitt)});else wndw.ShareButtons=create(wndw.$,null)}(window),define("pages/home/course/courseInvite",["underscore","jquery","js/core/brbraitt","js/collections/courses","pages/home/template/body","pages/home/course/courseInvite.html","i18n!pages/home/course/nls/courseInvite","js/lib/modals","js/lib/api","js/lib/schema","js/lib/contacts","js/lib/bootstrap-dropdown","js/lib/tokenizer","js/lib/sharebuttons","js/lib/util"],function(_,$,brbraitt,Courses,body,CourseInvite,CourseInvite_t,Modal,api,Schema,ContactsImporter,dropdown,Tokenizer,ShareButtons,util){return body.extend({defaultOptions:{el:null,placeholderText:"",postURL:"",postData:{},eventingKey:"",eventingValue:"",shareText:"",pictureURL:"",shareURL:"",redirectURL:"",hashtag:"",inviteText:"Invite your friends",inviteOpen:!0},events:{"click .brbraitt-invite-friends-email-icon":"importContacts","click .brbraitt-invite-friends-email-link-send":"sendEmails","click .brbraitt-modal-cta-icon":"toggleInvitePanel"},initialize:function(){if(this.options=$.extend({},this.defaultOptions,this.options),this.openTemplate(),this.$myTextArea=$(this.el).find(".brbraitt-course-modal-cta-invite"),this.loadTokenizer([]),this.$(".brbraitt-share-buttons").each(function(){new ShareButtons($(this),{isChina:util.isChina()})}),this.options.inviteOpen)this.$(".icon-envelope").addClass("brbraitt-course-modal-cta-selected-icon")},importContacts:function(e){var provider=this.$(e.currentTarget).data("provider");brbraitt.multitracker.push(["user.invite.importContacts"],{social:provider}),ContactsImporter.openOAuthWindow(provider,this.handleToken())
},loadTemplate:function(){var self=this;$(this.el).html(CourseInvite({_t:CourseInvite_t,config:brbraitt.config,course:self.options.course,shareText:this.options.shareText,twitterText:this.options.shareText.replace("brbraitt","@brbraitt"),shareURL:this.options.shareURL,pictureURL:this.options.pictureURL,hashtag:this.options.hashtag,eventingKey:this.options.eventingKey,eventingValue:this.options.eventingValue,redirectURL:this.options.eventingURL,inviteOpen:this.options.inviteOpen?"block":"none",inviteText:this.options.inviteText}))},openTemplate:function(){this.loadTemplate(),this.$(".brbraitt-course-modal-cta-message").attr("placeholder",this.options.placeholderText),$(".dropdown-toggle").dropdown()},handleToken:function(){var that=this;return function(urlData,provider){brbraitt.api.post("student/import_contacts/"+provider,{data:urlData}).done(function(contacts){that.notifySuccessfulMessage("Sucessfully connected to "+provider),that.startAutocomplete(contacts)})}},notifySuccessfulMessage:function(message){this.notifyMessage(message,"success")},loadTokenizer:function(contacts){this.tokenizer=Tokenizer($(this.el).find(".brbraitt-course-modal-cta-invite"),this.tokenizerOptions(contacts)),this.setupText(),this.positionInputBox()},notifyErrorMessage:function(message){this.notifyMessage(message,"error")},notifyMessage:function(message,type){brbraitt.message.add($("<div>").text(message).addClass(type),{timeout:4e3})},startAutocomplete:function(response){var self=this;$(".brbraitt-course-modal-cta-row").removeClass("hide");var arr=_.pluck(_.compact(response.contacts),"emails"),$tokens=$(this.el).find(".tknz-list").children(),$inputBox=$(this.el).find(".brbraitt-course-modal-cta-invite").clone(),$fakeInput=$(this.el).find(".brbraitt-course-modal-cta-fake-input");$(this.el).find(".tknz-wrapper").remove(),$inputBox.insertAfter($fakeInput),this.loadTokenizer(_.flatten(arr));var $trueList=$(this.el).find(".tknz-list-true");this.copyTokens($tokens,$trueList)},tokenizerOptions:function(source){var self=this;return{separators:[" ",","],callback:function(){var tokens=$(self.el).find(".tknz-token"),tokensTrue=$(self.el).find(".tknz-list-true .tknz-token"),$myTextArea=$(self.el).find(".brbraitt-course-modal-cta-invite");if(0===tokens.length)$myTextArea.attr("placeholder","Add emails");else if(self.options.maxEmails&&tokensTrue.length>=self.options.maxEmails)return self.notifyErrorMessage("No more than "+self.options.maxEmails+" emails can be sent."),void 0;else $myTextArea.attr("placeholder","");$myTextArea.width(100),self.manageTokens(),self.positionInputBox()},source:source}},positionInputBox:function(){var $fakeInputBox=$(this.el).find(".brbraitt-course-modal-cta-fake-input"),$trueInputBox=$(this.el).find(".brbraitt-course-modal-cta-invite"),$list=$(this.el).find(".tknz-list-true"),width=400,left=$trueInputBox.offset().left-$trueInputBox.parent().offset().left,offset=width-left;if(100>offset)$trueInputBox.width(width);else $trueInputBox.width(offset);var listHeight=$list.height();if(listHeight>20)$fakeInputBox.height(listHeight)},addEmail:function(email){var val=this.$(".brbraitt-invite-friends-contacts").val();if(""!==val)val+=", ";val+=email,this.$(".brbraitt-invite-friends-contacts").val(val)},getMessage:function(){var $txtbox=$(this.el).find(".brbraitt-course-modal-cta-message"),val=$txtbox.val();if(""===val)return null;else return val},getEmails:function(){var tokens=$(this.el).find(".tknz-token"),mails=_.map(tokens,function(token){return $(token).attr("data-token")});if(0===mails.length){var $trueInputBox=$(this.el).find(".brbraitt-course-modal-cta-invite");return _.compact([$trueInputBox.val()])}else return _.unique(mails)},sendEmails:function(){var self=this;brbraitt.multitracker.push(["user.invite.sendEmail"]);var message=this.getMessage(),emails=this.getEmails(),that=this,isValid=_.every(emails,function(email){return Schema.test($.trim(email),{type:"email"}).valid});if(isValid&&emails.length>0){if(this.options.postData.emails=emails.join(","),null!==message)this.options.postData.message=message;brbraitt.api.post(this.options.postURL,{data:this.options.postData}).success(function(result){if(that.notifySend(),self.$(".tknz-token").remove(),self.$(".brbraitt-course-modal-cta-fake-input").val(""),self.$(".brbraitt-course-modal-cta-invite").val(""),self.$(".brbraitt-course-modal-cta-message").val(""),!that.options.inviteOpen)that.closeInvite()}).fail(function(result){that.notifyErrorMessage("Could not send email")})}else that.notifyErrorMessage("Enter valid email address")},notifySend:function(){this.notifySuccessfulMessage("Email sent")},toggleInvitePanel:function(actor){var $send=$(actor.target),$ctaRow=this.$el.find(".brbraitt-course-modal-cta-row"),selectedIcon="brbraitt-course-modal-cta-selected-icon";if($send.hasClass(selectedIcon))this.closeInvite();else{this.recordOpenModal();var $previous=this.$el.find("."+selectedIcon);$previous.removeClass(selectedIcon),$send.addClass(selectedIcon),$ctaRow.slideDown()}},recordOpenModal:function(){if(!this.hasOpenedModal)brbraitt.multitracker.push(["user.invite.openModal"]),this.hasOpenedModal=!0},closeInvite:function(){var selectedIcon="brbraitt-course-modal-cta-selected-icon";this.$el.find(".brbraitt-course-modal-cta-row").slideUp(),this.$el.find("."+selectedIcon).removeClass(selectedIcon)},manageTokens:function(){var self=this;$trueInput=$(this.el).find(".brbraitt-course-modal-cta-invite");var $tokens=$(this.el).find(".tknz-list").children(),$fakeList=$(this.el).find(".tknz-list-true");this.copyTokens($tokens,$fakeList)},copyTokens:function($tokens,$newList){$newList.find(".tknz-token").remove();var $last=$newList.last();_.map($tokens,function(el){var $newToken=$(el).clone(!0);$newToken.find(".tknz-token-x").click(function(event){el.remove(),$newToken.remove()}),$newToken.insertBefore($trueInput)})},setupText:function(){$trueInput=$(this.el).find(".tknz-input-wrapper");var $list=$(this.el).find(".tknz-list").hide();$trueInput.wrap('<div class="tknz-list-true"/>')}})}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,topics=locals_.topics,config=locals_.config;_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="brbraitt-similartopics-subheader">'+jade.escape(null==(jade.interp=_t("Related Courses"))?"":jade.interp)+"<br/>");for(var i=0;i<topics.length;i++){var topic=topics[i];buf.push('<div class="brbraitt-similartopics-course-recommend"><a'+jade.attrs({href:config.url.base+"course/"+topic.short_name},{href:!0})+'><div class="brbraitt-similartopics-course-card"><div class="brbraitt-similartopics-course-card-image"><img'+jade.attrs({src:topic.small_icon_hover,alt:topic.name},{src:!0,alt:!0})+'/></div><div class="brbraitt-similartopics-course-name">'+jade.escape(null==(jade.interp=_t(topic.name))?"":jade.interp)+"</div></div></a></div>")}return buf.push("</div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/course/similarTopics.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.course.similarTopics"]=jadify(wndw.jade.helpers)}(window),define("pages/home/course/courseBody",["underscore","jquery","js/core/brbraitt","js/collections/courses","js/collections/topics","js/models/instructor","pages/home/template/body","pages/home/course/courseBody.html","i18n!pages/home/course/nls/courseBody","i18n!js/json/nls/languages","i18n!js/json/nls/categories","pages/home/course/courseListing.html","i18n!pages/home/course/nls/courseListing","pages/home/course/courseBodyInstructorIcon.html","i18n!js/json/nls/universities","i18n!js/json/nls/topics","pages/home/course/courseBodyTextbook.html","i18n!pages/home/course/nls/courseBodyTextbook","pages/home/course/courseInvite","pages/home/course/similarTopics.html","js/lib/cookie","js/lib/readme","js/lib/util","js/lib/metatags","js/lib/language","js/lib/modals","js/lib/popups","js/lib/third-parties","js/lib/sharebuttons","js/lib/brbraitt.ab"],function(_,$,brbraitt,Courses,Topics,Instructor,body,template,template_t,languages_t,categories_t,listingTemplate,listingTemplate_t,instructorIconTemplate,universities_t,topics_t,textbookTemplate,textbookTemplate_t,courseInvite,similarTopicsTemplate,cookie,ReadMe,util,metatags,language,Modal,Popup,thirdparty,ShareButtons,AB){function decorateAmazonLinks($dom,tag){var AMAZON_RE=/(www\.)?amazon.com/,TAG_RE=/[?&]tag=/;$dom.find("a").each(function(){var link=this,url=link.href;if(AMAZON_RE.test(link.hostname)){var linkTag=util.getUrlParam(url,"tag");if("brbraitt-20"==linkTag)url=url.replace("tag=brbraitt-20","tag="+tag),$(link).attr("href",url);if(!linkTag)url+=(link.search?"&":"?")+"tag="+tag,$(link).attr("href",url);$(link).on("click",function(){brbraitt.multitracker.push(["user.click.link.amazon",{tag:tag,url:url,text:link.innerText}])})}})}var CERT_IMAGE_TEMPLATE=function(shortname){return"https://s3.amazonaws.com/brbraitt/universities/"+shortname+"/signature-cert-icon.png"},UNIVERSITIES_WITH_GENERIC_CERT=["fuont"],TOPICS_WITH_CERTIFICATE_IMG={};template_t=template_t.merge(languages_t,categories_t,topics_t);var makeCheggLink=function(course,isbn){var link="http://www.tqlkg.com/click-7115529-10692263?sid="+course.get("topic").get("short_name")+"&URL=http://www.chegg.com/textbooks/"+isbn;return link},recentlyViewedCookie="recently_viewed",recentlyViewedMaxCount=9,appendRecentlyViewedCookie=function(courseShortName){var recentlyViewed=cookie.get(recentlyViewedCookie)||"",list=_.without(_.compact(recentlyViewed.split(",")),courseShortName);list.unshift(courseShortName),cookie.set(recentlyViewedCookie,list.slice(0,recentlyViewedMaxCount).join(","))},courseBody=body.extend({events:{"click .brbraitt-course-logo":"play","click .brbraitt-course-playbar":"play","click .brbraitt-course-playbutton":"play","mouseenter .brbraitt-course-logo":"hover","mouseleave .brbraitt-course-logo":"hover","click .brbraitt-course-button-join":"enroll","click .brbraitt-course-subscribe":"subscribe","click .brbraitt-course-subscribed":"unsubscribe","click .brbraitt-course-categories a":"onCategoriesClick","click .brbraitt-course-browse-more a":"onBrowseMoreClick","click .brbraitt-course2-instructors a":"onInstructorInfoClick"},initialize:function(){var self=this,topic=this.model;this.courseInvite=null,document.title=topic.get("name")+" | brbraitt",appendRecentlyViewedCookie(topic.get("short_name")),self.bind("view:closing",function(){Modal(this.$el.find(".modal")).close()}),self.bind("view:appended",function(){if(self.$el.find(".social").show(),!util.isChina())thirdparty.ready("FB.XFBML.parse",function(){window.FB.XFBML.parse(self.$el.find(".social-facebook").get(0)),window.FB.Event.subscribe("edge.create",function(href,widget){brbraitt.multitracker.push(["user.social.share.facebook",href])})}),thirdparty.ready("gapi.plusone.go",function(){window.gapi.plusone.render(self.$el.find(".g-plusone")[0],{count:!0,size:"tall",callback:function(value){brbraitt.multitracker.push(["user.social.share.googleplus",value])}})});else self.$(".brbraitt-share-buttons").each(function(){new ShareButtons($(this),{isChina:util.isChina()})});self.updateCourseListings(),self.checkJustEnrolled(),self.showTextbooks(),self.$(".brbraitt-course-description a").attr("target","_blank"),decorateAmazonLinks(self.$el,"brbraitt-course"+self.model.get("id")+"-20");var numDisplayInstructors=0,instructorNames=[];if(_.each(this.model.get("instructors"),function(instructor){var instructorModel=new Instructor(instructor);if(instructorModel.shouldDisplay())self.$(".brbraitt-course2-instructors").append(instructorIconTemplate({_t:universities_t,config:brbraitt.config,instructor:instructorModel,university:instructorModel.get("universities")[0]})),numDisplayInstructors+=1,instructorNames.push(instructorModel.getDecoratedName());else if(brbraitt.user.canEditTopic(topic))self.$(".brbraitt-course2-instructors").append('<div class="alert">Warning: You have not created an instructor profile for an instructor associated with this course. (Only admins see this warning.)<a class="btn btn-warning" href="../admin/data/instructorprofiles/'+instructorModel.get("id")+'">'+"Create Profile</a></div>")}),self.$(".brbraitt-course2-instructors-profile").each(function(){var profileContainer=$(this),profileInformation=$(this).find(".brbraitt-course2-instructors-info"),instructorName=$(this).find(".brbraitt-course2-instructor-name"),universityName=$(this).find(".brbraitt-course2-instructor-university");if(util.truncateElemText(universityName),util.truncateElemText(instructorName),profileInformation.height()+profileInformation.position().top>=profileContainer.height())util.verticalCenterEl(profileContainer,profileInformation)}),1!=numDisplayInstructors)self.$("*[data-msg=brbraitt-course-instructor]").text("About the Instructors");self.$(".instructor-name").text(util.prettyJoin(instructorNames));var social_description=topic.get("name")+" is a free online class taught by "+util.prettyJoin(instructorNames)+" of "+topic.get("universities_display");if("basketweave"==topic.get("short_name"))social_description="Underwater basket weaving is a craft that seamlessly merges scientific intellectualism, manual dexterity, and promises to be one of the best classes on brbraitt";metatags.share(topic.get("name"),topic.get("large_icon"),social_description,window.location.href),self.internationalize(),self.$(".brbraitt-course-modal-signature-track-optin img").on("error.signature",function(){var $self=$(this);$self.attr("src",CERT_IMAGE_TEMPLATE("_generic")),$self.off("error.signature")})});var topicId=this.model.get("id"),MAX_SIMS_TO_DISPLAY=3,similarTopicsCallback=function(data){if(data.ordered_topics.length>0){var context={topics:data.ordered_topics,config:brbraitt.config},$similarTopicsContainer=self.$el.find(".row-fluid.brbraitt-similartopics-container");$similarTopicsContainer.html(similarTopicsTemplate(context)).show(),$similarTopicsContainer.on("a click",function(e){var $target=$(e.target).closest(".brbraitt-similartopics-course-recommend"),index=$target.index()-1;brbraitt.multitracker.push(["course-page.similar-topics.click",index+"_"+topicId+"_"+data.ordered_topics[index].id])})}else brbraitt.multitracker.push(["course-page.similar-topics-load.no-similar-topics",topicId])},similarTopicsErrorCallback=function(request){brbraitt.multitracker.push(["course-page.similar-topics-load.error",request.responseText])};Topics.similarTopics([topicId],MAX_SIMS_TO_DISPLAY,!1).done(similarTopicsCallback).fail(similarTopicsErrorCallback)},render:function(){var shortname=this.model.get("short_name"),certImageURL=CERT_IMAGE_TEMPLATE("_generic");if(shortname in TOPICS_WITH_CERTIFICATE_IMG)certImageURL=TOPICS_WITH_CERTIFICATE_IMG[shortname];else if(1==this.model.get("universities").length){var universityName=this.model.get("universities")[0].short_name;if(UNIVERSITIES_WITH_GENERIC_CERT.indexOf(universityName)<0)certImageURL=CERT_IMAGE_TEMPLATE(universityName)}var universities=_.pluck(this.model.get("universities"),"name").join(", "),nativeLanguge=this.model.get("language_name"),nativeAndSubtitles=this.model.get("language")+","+this.model.get("subtitle_languages_csv"),subtitles=language.languageCodeCSVtoLanguages(nativeAndSubtitles),experiment=AB.session.getExperiment("coursepage_compress_language"),chosen=experiment.getChosenVariant(),languageMargin="margin-bottom:10px;";if("0px"==chosen)languageMargin="margin-bottom:0px;";var languageOptions={languageMargin:languageMargin,nativeLanguge:nativeLanguge,subtitles:_.map(subtitles,languages_t).join(", ")},isTopicEligibleForSigtrack=this.model.hasOpenEnrollForSignatureTrack(),showSigtrackCert=!1,activeSigtrackCourseLink=null;if(isTopicEligibleForSigtrack){activeSigtrackCourseLink=Courses.toArray(Courses.haveActiveSignatureTrack(this.model.get("courses")))[0].get("optin_link")+"?utm_source=course&utm_medium=certimage";var expShowSigtrackCert=AB.session.getExperiment("exp_show_st_cert"),expShowSigtrackCertVariant=expShowSigtrackCert.getChosenVariant();if("certshown"===expShowSigtrackCertVariant)showSigtrackCert=!0}chosen=AB.session.getExperiment("coursepage_metadata").getChosenVariant();var expCoursepageSimpleSocial=AB.session.getExperiment("coursepage_simple_social").getChosenVariant(),expCoursepageDropdownSelector=AB.session.getExperiment("coursepage_dropdown_selector").getChosenVariant(),hideWorkload=chosen.indexOf("hide_workload")>=0||"hide_all"==chosen,hideLanguage=chosen.indexOf("hide_language")>=0||"hide_all"==chosen,hideShortDesc=chosen.indexOf("hide_shortdesc")>=0||"hide_all"==chosen,hideInstructor=chosen.indexOf("hide_instructor")>=0||"hide_all"==chosen,showMetadataOnRightSide=!_.contains(["normal","hide_instructor","hide_shortdesc","hide_shortdesc_hide_instructor"],chosen),context=_.extend({_t:template_t,topic:this.model,user:brbraitt.user,_:_,showMetadataOnRightSide:showMetadataOnRightSide,hideWorkload:hideWorkload,hideLanguage:hideLanguage,hideShortDesc:hideShortDesc,hideInstructor:hideInstructor,config:brbraitt.config,certificateImgURL:certImageURL,query:this.options.query||{},twitterUrl:encodeURIComponent(this.model.get("social_link"))+"&text="+encodeURIComponent(this.model.getTwitterText("I signed up for"))+"&hashtags="+encodeURIComponent(this.model.get("hash_tag")),Courses:Courses,isChina:util.isChina(),showSigtrackCert:showSigtrackCert,expCoursepageDropdownSelector:expCoursepageDropdownSelector,activeSigtrackCourseLink:activeSigtrackCourseLink,expCoursepageSimpleSocial:expCoursepageSimpleSocial},languageOptions);if(this.$el.append(template(context)),language.isRightToLeft(this.model.get("language")))util.styleRightToLeft(this.$el);return ReadMe(this.$("[data-readme]")[0]),this},showTextbooks:function(){var self=this,latestActiveCourse=null,earliestUpcomingCourse=null,latestPreviousCourse=null,currentTime=(new Date).valueOf(),$textbookDiv=self.$(".brbraitt-course-free-textbooks"),$textbookList=self.$(".brbraitt-course-textbook-list");self.model.get("courses").each(function(course){if(course.get("active")&&course.certificateIsReady()===!1){if(!latestActiveCourse||latestActiveCourse.getStartTime()<course.getStartTime())latestActiveCourse=course}else if(course.getStartTime()>currentTime){if(!earliestUpcomingCourse||earliestUpcomingCourse.getStartTime()>course.getStartTime())earliestUpcomingCourse=course}else if(!latestPreviousCourse||latestPreviousCourse.getStartTime()<course.getStartTime())latestPreviousCourse=course});var maybeTextbookCourse=latestActiveCourse?latestActiveCourse:earliestUpcomingCourse?earliestUpcomingCourse:latestPreviousCourse;if(maybeTextbookCourse&&maybeTextbookCourse.get("textbooks").length>0)_.each(maybeTextbookCourse.get("textbooks"),function(textbook){if(null!==textbook.authors){var authors=textbook.authors.split("|"),authorStr="";if(authors.length<=3)authorStr=authors.join(", ");else authorStr=authors.slice(0,3).join(", ")+" et al.";$textbookDiv.show();var $newTextbookListing=$(textbookTemplate({textbook:textbook,authorStr:authorStr,cheggLink:makeCheggLink(maybeTextbookCourse,textbook.isbn)}));$newTextbookListing.find(".brbraitt-course-textbook-name").bind("click",function(){brbraitt.multitracker.push(["Course Textbook Buy",textbook.isbn])}),$textbookList.append($newTextbookListing)}})},updateCourseListings:function(){function pickCourses(userCourses){var displayCourses=new Courses;self.model.get("courses").each(function(course){var matchingUserCourse=userCourses&&userCourses.find(function(userCourse){return userCourse.get("id")==course.get("id")});if(matchingUserCourse)if(displayCourses.add(course),course.set("user_is_enrolled",!0),matchingUserCourse.get("record"))course.set("user_in_signature_track",matchingUserCourse.get("record").signature_track);else course.set("user_in_signature_track",!1);else if(course.get("status"))displayCourses.add(course)});var expCoursepageDropdownSelector=AB.session.getExperiment("coursepage_dropdown_selector").getChosenVariant(),expCoursepageSigtrackFreeButton=AB.session.getExperiment("coursepage_sigtrack_free_button2").getChosenVariant(),expCoursepageSigtrackVerifiedCertificate=AB.session.getExperiment("coursepage_sigtrack_verified_certificate").getChosenVariant(),displayCoursesSorted=new Courses;if(displayCoursesSorted.comparator=void 0,displayCoursesSorted.add(Courses.byTimeDescending(displayCourses)),self.$(".brbraitt-course-listings").empty().append(listingTemplate({_t:listingTemplate_t,courses:displayCoursesSorted,user:brbraitt.user,expCoursepageSigtrackFreeButton:expCoursepageSigtrackFreeButton,expCoursepageDropdownSelector:expCoursepageDropdownSelector,expCoursepageSigtrackVerifiedCertificate:expCoursepageSigtrackVerifiedCertificate,_:_})),displayCoursesSorted.length>0)self.$(".brbraitt-course-restricted-opensessions").show(),self.$(".brbraitt-course-restricted-noopensessions").hide();else self.$(".brbraitt-course-restricted-opensessions").hide(),self.$(".brbraitt-course-restricted-noopensessions").show();var renderSessionButtons=function(){var selectedCourse=$(".brbraitt-course-listing-selector option:selected").attr("data-course-id");self.$(".brbraitt-course-listing-buttons").each(function(){if(self.$(this).attr("data-course-id")===selectedCourse)self.$(this).css("display","inline");else self.$(this).css("display","none")})};renderSessionButtons(),self.$(".brbraitt-course-listing-selector").change(function(){renderSessionButtons()});var expCoursepageFlatButtons=AB.session.getExperiment("coursepage_flat_buttons2").getChosenVariant();if("flat"===expCoursepageFlatButtons)self.$(".brbraitt-course-listings .btn-primary").removeClass("btn-primary").addClass("btn-flat-primary").removeClass("btn").addClass("btn-flat"),self.$(".brbraitt-course-listings .btn-success").removeClass("btn-success").addClass("btn-flat-success").removeClass("btn").addClass("btn-flat"),self.$(".brbraitt-course-browse-more .btn-primary").removeClass("btn-primary").addClass("btn-flat-primary").removeClass("btn").addClass("btn-flat");self.internationalize(),self.$(".brbraitt-signature-learnmore-icon").bind("click",function(){brbraitt.multitracker.push(["Sig Course Descrip Learn Icon","Click"])})}var self=this;if(brbraitt.user.get("authenticated"))brbraitt.user.getTopics().done(function(){pickCourses(brbraitt.user.get("courses")),brbraitt.user.getSubscriptions().done(function(){if(brbraitt.user.isSubscribedToTopic(self.model))self.$(".brbraitt-course-subscribed").show(),self.$(".brbraitt-course-subscribe").hide();else self.$(".brbraitt-course-subscribe").show(),self.$(".brbraitt-course-subscribed").hide()})});else pickCourses()},internationalize:function(){var self=this,messages={};if("fr"==this.model.get("language"))messages={"brbraitt-course-about":"Ã propos du cours","brbraitt-course-instructor":"Ã propos des enseignants","brbraitt-course-syllabus":"Programme du cours","brbraitt-course-background":"PrÃ©requis","brbraitt-course-readings":"Lectures recommandÃ©es","brbraitt-course-format":"Format du cours","brbraitt-course-faq":"Questions frÃ©quentes","brbraitt-course-workload":"Charge de travail:","brbraitt-course-categories":"CatÃ©gories: ","brbraitt-course-workloadunits":"heures/semaine","brbraitt-course-language":"Langue: ","brbraitt-course-subtitle":"Sous-titres: ","brbraitt-course-listings-sessions":"Sessions: ","brbraitt-course-listings-current-session":"Sessions: ","brbraitt-course-started":"CommencÃ©: ","brbraitt-course-tba":"Sera communiquÃ© ultÃ©rieurement ","brbraitt-course-duration":"semaines","brbraitt-course-listings-none":"Il n'y a pas des prochaines sessions"};else if("zh-Hant"==this.model.get("language"))messages={"brbraitt-course-about":"èª²ç¨æ¦è¿°","brbraitt-course-instructor":"æå¸«ç°¡ä»","brbraitt-course-syllabus":"æèª²å¤§ç¶±","brbraitt-course-background":"åä¿®ç¥è­","brbraitt-course-readings":"åèè³æ","brbraitt-course-format":"æèª²å½¢å¼","brbraitt-course-faq":"å¸¸è¦åé¡","brbraitt-course-workload":"èª²ç¨è² è¼:","brbraitt-course-categories":"èª²ç¨é¡å","brbraitt-course-workloadunits":"å°æ¶ï¼ææ","brbraitt-course-language":"è¯­è¨: ","brbraitt-course-subtitle":"å­å¹: ","brbraitt-course-listings-sessions":"éæç­æ¬¡","brbraitt-course-listings-current-session":"ææ°ç­æ¬¡","brbraitt-course-started":"å·²åå","brbraitt-course-tba":"å¾å®","brbraitt-course-duration":"æéé·åº¦","brbraitt-course-listings-none":"ç¡éæç­æ¬¡"};else if("zh-Hans"==this.model.get("language"))messages={"brbraitt-course-about":"è¯¾ç¨æ¦è¿°","brbraitt-course-instructor":"æå¸ç®ä»","brbraitt-course-syllabus":"æè¯¾å¤§çº²","brbraitt-course-background":"åä¿®ç¥è¯","brbraitt-course-readings":"åèèµæ","brbraitt-course-format":"æè¯¾å½¢å¼","brbraitt-course-faq":"å¸¸è§é®é¢","brbraitt-course-workload":"è¯¾ç¨è´è½½:","brbraitt-course-categories":"è¯¾ç¨ç±»å","brbraitt-course-workloadunits":"å°æ¶ï¼ææ","brbraitt-course-language":"è¯­è¨: ","brbraitt-course-subtitle":"å­å¹: ","brbraitt-course-listings-sessions":"å¼æç­æ¬¡","brbraitt-course-listings-current-session":"ææ°ç­æ¬¡","brbraitt-course-started":"å·²å¯å¨","brbraitt-course-tba":"å¾å®","brbraitt-course-duration":"æ¶é´é¿åº¦","brbraitt-course-listings-none":"æ å¼æç­æ¬¡"};else if("es"==this.model.get("language"))messages={"brbraitt-course-about":"Sobre el curso","brbraitt-course-instructor":"Sobre el instructor","brbraitt-course-syllabus":"Temario","brbraitt-course-background":"Antecedentes recomendados","brbraitt-course-readings":"Lecturas recomendadas","brbraitt-course-format":"Formato del curso","brbraitt-course-faq":"Preguntas frecuentes","brbraitt-course-workload":"Carga de trabajo:","brbraitt-course-categories":"CategorÃ­as","brbraitt-course-workloadunits":"hours/week","brbraitt-course-language":"Lengua: ","brbraitt-course-subtitle":"SubtÃ­tulo: ","brbraitt-course-listings-sessions":"Sesiones","brbraitt-course-listings-current-session":"Sesiones","brbraitt-course-started":"Iniciado","brbraitt-course-tba":"PrÃ³ximamente","brbraitt-course-duration":"DuraciÃ³n","brbraitt-course-listings-none":"No hay sesiones"};else if("it"==this.model.get("language"))messages={"brbraitt-course-about":"Informazioni sul corso","brbraitt-course-instructor":"Informazioni sul docente","brbraitt-course-syllabus":"Calendario delle lezioni","brbraitt-course-background":"Prerequisiti","brbraitt-course-readings":"Letture consigliate","brbraitt-course-format":"Struttura del corso","brbraitt-course-faq":"Domande frequenti","brbraitt-course-workload":"Impegno richiesto:","brbraitt-course-categories":"Categorie","brbraitt-course-workloadunits":"hours/week","brbraitt-course-language":"Lingua: ","brbraitt-course-subtitle":"Sottotitolo: ","brbraitt-course-listings-sessions":"Sessioni: ","brbraitt-course-listings-current-session":"Sessione in corso: ","brbraitt-course-started":"Iniziato","brbraitt-course-tba":"Da definire","brbraitt-course-duration":"Durata del corso","brbraitt-course-listings-none":"Nessuna sessione"};else if("de"==this.model.get("language"))messages={"brbraitt-course-about":"Kursinhalt","brbraitt-course-instructor":"Profil des Dozenten","brbraitt-course-syllabus":"Lehrinhalte des Kurses","brbraitt-course-background":"Empfohlene Vorkenntnisse","brbraitt-course-readings":"Empfohlene Literatur","brbraitt-course-format":"Kursformat","brbraitt-course-faq":"FAQ","brbraitt-course-workload":"Arbeitspensum:","brbraitt-course-categories":"Kategorien","brbraitt-course-workloadunits":"Stunden/Woche","brbraitt-course-language":"Sprache: ","brbraitt-course-subtitle":"Untertitel: ","brbraitt-course-listings-sessions":"Kurseinheiten","brbraitt-course-listings-current-session":"Aktuelle Kurseinheit","brbraitt-course-started":"Gestartet","brbraitt-course-tba":"TBA","brbraitt-course-duration":"Dauer","brbraitt-course-listings-none":"Derzeit keine Anmeldung mÃ¶glich"};else return;$.each(messages,function(msgId,msgText){var $elem=self.$('*[data-msg="'+msgId+'"]');$elem.text(msgText)})},onCategoriesClick:function(e){var link=$(e.currentTarget).attr("href");brbraitt.multitracker.push(["user.click.course-page-categories-link",link])},onBrowseMoreClick:function(e){var link=$(e.currentTarget).attr("href");brbraitt.multitracker.push(["user.click.course-page-browse-more-link",link])},onInstructorInfoClick:function(e){var klass=$(e.currentTarget).data("link-type")||"",link=$(e.currentTarget).attr("href");brbraitt.multitracker.push(["user.click.course-page-"+klass+"-link",link])},subscribe:function(e){var self=this,topicId=self.model.get("id");if(brbraitt.user.get("authenticated"))$(e.target).attr("disabled","disabled"),brbraitt.user.subscribeToTopic(topicId).done(function(){self.trackConversionEvent("subscribe"),brbraitt.multitracker.push(["user.course.subscribe",topicId]),self.$(".brbraitt-course-subscribed").show(),self.$(".brbraitt-course-subscribe").hide(),Modal(self.$(".brbraitt-course-watch-modal")).open(),$(e.target).attr("disabled",null)});else{brbraitt.multitracker.push(["user.subscribe.course-page-watchlist-button-logged-out",topicId]),AB.session.getExperiment("coursecatalog_inline_enroll2").convert("subscribe-logged-out");var signupParams={topic_id:self.model.get("id"),topic_shortname:self.model.get("short_name"),topic_name:self.model.get("name"),user_action:"subscribe"};location.href=util.createAccountsUrl("signup",signupParams)}},unsubscribe:function(e){var self=this,topicId=self.model.get("id");$(e.target).attr("disabled","disabled"),brbraitt.user.unsubscribeFromTopic(topicId).done(function(){self.$(".brbraitt-course-subscribed").hide(),self.$(".brbraitt-course-subscribe").show(),$(e.target).attr("disabled",null)}),brbraitt.multitracker.push(["user.unsubscribe.course-page-unsubscribe-link",topicId])},trackConversionEvent:function(e){AB.session.getExperiment("coursecatalog_inline_enroll2").convert(e),AB.session.getExperiment("coursepage_compress_language").convert(e),AB.session.getExperiment("coursepage_metadata").convert(e),AB.session.getExperiment("coursepage_dropdown_selector").convert(e),AB.session.getExperiment("coursepage_sigtrack_free_button2").convert(e),AB.session.getExperiment("homepage_banner_size2").convert(e),AB.session.getExperiment("homepage_browse_all_placement2").convert(e),AB.session.getExperiment("homepage_course_count2").convert(e),AB.session.getExperiment("homepage_promos2").convert(e),AB.session.getExperiment("coursepage_flat_buttons2").convert(e),AB.session.getExperiment("homepage_sort_course_3").convert(e),AB.user.getExperiment("homepage-nux-button").convert(e),AB.user.getExperiment("improve_list_my2").convert(e),AB.session.getExperiment("coursepage_simple_social").convert(e)},enroll:function(e){var self=this,courseId=null,expCoursepageDropdownSelector=AB.session.getExperiment("coursepage_dropdown_selector").getChosenVariant();if("dropdown"===expCoursepageDropdownSelector||"dropdown_sidebar"===expCoursepageDropdownSelector)courseId=$(".brbraitt-course-listing-selector option:selected").attr("data-course-id");else{var $courseListing=$(e.target).closest(".brbraitt-course-listing");courseId=$courseListing.attr("data-course-id")}var course=self.model.get("courses").get(courseId);if(brbraitt.user.get("authenticated")){self.$(".brbraitt-signature-signup-button").bind("click",function(){brbraitt.multitracker.push(["Sig Course Descrip Signup Button","Click"]),window.location.href=brbraitt.config.dir.home+"signature/course/"+course.get("topic").get("short_name")+"/"+course.get("id")+"?utm_source=course&utm_medium=modalbutton"}),$(e.target).attr("disabled","disabled");var enrollInSignatureTrack=0;if(brbraitt.user.enroll(courseId,enrollInSignatureTrack,function(err){if($(e.target).removeAttr("disabled"),err)brbraitt.router.trigger("error",500,window.location.href,{message:"failed to enroll user"});else self.trackConversionEvent("enroll"),brbraitt.multitracker.push(["user.course.enroll",courseId]),self.checkJustEnrolled()}),null===this.courseInvite)this.courseInvite=new courseInvite({model:self.model,el:$(".brbraitt-course-modal-invite-friends"),course:course,placeholderText:"Learning happens best with people you know. Let's take this course together!",postURL:"student/email_friends",postData:{course_id:course.get("id")},shareText:"I'm taking "+self.model.get("name")+" on brbraitt!",hashtag:course.get("topic").get("hash_tag"),pictureURL:course.get("topic").get("small_icon_hover"),shareURL:course.get("topic").get("social_link"),eventingKey:"user.click.link.social",eventingValue:"course-record-listing",redirectURL:"https://www.brbraitt.org/account/records"})
}else{AB.session.getExperiment("coursecatalog_inline_enroll2").convert("enroll-logged-out"),brbraitt.multitracker.push(["user.enroll.course-page-enroll-button-logged-out",courseId]);var signupParams={course_id:courseId,topic_shortname:self.model.get("short_name"),topic_name:self.model.get("name"),user_action:"enroll"};location.href=util.createAccountsUrl("signup",signupParams)}},checkJustEnrolled:function(){var enrolledCourseId=cookie.get("just_enrolled");if(enrolledCourseId){if(cookie.clear("just_enrolled"),enrolledCourse=this.model.getCourseById(enrolledCourseId),Modal(this.$(".brbraitt-course-modal")).open(),this.$(".brbraitt-course-modal-open").hide(),this.$(".brbraitt-course-modal-starts").hide(),this.$(".brbraitt-course-modal-tba").hide(),this.$(".brbraitt-course-modal-signature-track-optin").hide(),this.$(".brbraitt-course-modal-invite-friends").hide(),"1"==enrolledCourse.get("active")||enrolledCourse.get("self_study"))this.$(".brbraitt-course-modal-open").show(),this.$(".brbraitt-course-modal-open a").attr("href",enrolledCourse.get("home_link")+"auth/auth_redirector?type=login&subtype=normal");else if(enrolledCourse.get("start_day"))this.$(".brbraitt-course-modal-starts-date").text(enrolledCourse.getStartDisplay()),this.$(".brbraitt-course-modal-starts").show();else this.$(".brbraitt-course-modal-tba").show();if(enrolledCourse.isEligibleForTrack())brbraitt.multitracker.push(["Sig Course Descrip Modal","Show"]),this.$(".brbraitt-course-modal-signature-track-optin").show(),this.$(".brbraitt-signature-signup-link").attr("href",enrolledCourse.get("optin_link")).bind("click",function(){brbraitt.multitracker.push(["Sig Course Descrip Modal Button","Click"])});else brbraitt.multitracker.push(["Invite Friends Modal","Show"]),this.$(".brbraitt-course-modal-invite-friends").show(),this.$(".brbraitt-course-modal .modal-header .brbraitt-share-buttons").hide();if(Modal(this.$(".brbraitt-course-modal")).reposition(),brbraitt.user.getTopics(!0).done(_.bind(this.updateCourseListings,this)),cookie.get("linked_lecture"))brbraitt.multitracker.push(["user.course.enroll.afterLinkedLecture",enrolledCourseId.toString()+" "+cookie.get("linked_lecture")])}},play:function(){brbraitt.multitracker.push(["user.video.intro.course","play"]),this.$el.find(".brbraitt-course-playbutton").hide(),this.$el.find(".brbraitt-course-logo").hide(),this.$el.find(".brbraitt-course-playbar").hide(),this.$el.find(".brbraitt-course-video").attr({src:"https://www.youtube.com/embed/"+this.model.get("video")+"?rel=0&autoplay=1&wmode=transparent"}).show()},hover:function(e){if("mouseenter"==e.type)this.$el.find(".brbraitt-course-playbutton").addClass("hover");else this.$el.find(".brbraitt-course-playbutton").removeClass("hover")}});return courseBody}),define("pages/home/assessApi",["js/core/brbraitt","js/lib/api"],function(brbraitt,API){var api=API("/api/assess/v1/",{type:"rest"});return api.on("always",function(apiEvent){var xhr=apiEvent.xhr,url=apiEvent.url;if(xhr.status>=400)brbraitt.multitracker.push(["api.error."+xhr.status,{timing:apiEvent.timing,url:url,status:xhr.status,response:xhr.responseText}]);else brbraitt.multitracker.push(["api.ok."+xhr.status,{timing:apiEvent.timing,url:url,status:xhr.status}])}),api}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,config=locals_.config,expHomepageNuxButton=locals_.expHomepageNuxButton,featuredClasses=locals_.featuredClasses;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div style="overflow:hidden" class="brbraitt-full-canvas"><div style="display: none; margin-top: -30px; margin-left: -30px; margin-bottom: 10px;" class="brbraitt-search-banner"></div><div id="brbraitt-promo-betaclub" style="display:none" class="brbraitt-banner-alert"><button class="close">'+(null==(jade.interp=_t("&times;"))?"":jade.interp)+'</button><a href="http://blog.brbraitt.org/betaclub">'+jade.escape(null==(jade.interp=_t("We'd love your help in planning our future features. Interested?"))?"":jade.interp)+'</a></div><div class="row"><div class="span8 brbraitt-front-main-section"><div class="row-fluid"><div class="span12 brbraitt-front-courselist-container"><!-- Your Courses--><div class="brbraitt-dashboard-section-header"><span class="brbraitt-front-section-courselist-header brbraitt-dashboard-section-header-title">'+jade.escape(null==(jade.interp=_t("Your Courses"))?"":jade.interp)+' </span><a style="font-size: 12px; margin-left: 5px; display:none;" class="brbraitt-show-all-courses">'+jade.escape(null==(jade.interp=_t("(View all enrolled courses)"))?"":jade.interp)+' </a></div><span class="brbraitt-dashboard-enrollments-loading">'+(null==(jade.interp=_t("Loading courses...&nbsp;&nbsp;"))?"":jade.interp)+"<img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})+'/></span><div class="brbraitt-dashboard-enrollments-list"></div>'),"button"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home btn btn-preview">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else if("bluebutton-large"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home btn btn-primary btn-large">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else if("button-large"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home btn btn-preview btn-large">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else if("greenbutton-large"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home btn btn-success btn-large">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else if("bluebutton"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home btn btn-primary">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else if("greenbutton"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home btn btn-success">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else if("link"===expHomepageNuxButton)buf.push('<div style="display:none; margin: 105px 0px 115px 0px; text-align: center; font-family: \'sofiapro\', Arial, sans-serif" class="brbraitt-dashboard-no-enrollments-message"><div>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses."))?"":jade.interp)+'</div><a href="/courses" style="margin-top: 10px" class="internal-home">'+jade.escape(null==(jade.interp=_t("Enroll in a class"))?"":jade.interp)+"</a></div>");else buf.push('<div style="display:none;" class="brbraitt-dashboard-no-enrollments-message"><p>'+jade.escape(null==(jade.interp=_t("You are not yet enrolled in any courses. Explore our"))?"":jade.interp)+' <a href="/courses" class="internal-home">'+jade.escape(null==(jade.interp=_t("catalog"))?"":jade.interp)+"</a> "+jade.escape(null==(jade.interp=_t("to find courses!"))?"":jade.interp)+" </p></div>");buf.push('</div></div><div class="row-fluid"><div class="span12"><div style="display:none;" class="brbraitt-dashboard-help-link"><span>'+jade.escape(null==(jade.interp=_t("Problem with your course enrollments?"))?"":jade.interp)+' </span><a href="/about/reporter?area=dashboard">'+jade.escape(null==(jade.interp=_t("Get help."))?"":jade.interp)+' </a></div></div></div><div class="row-fluid"><div class="span12 brbraitt-front-watchlist-container"><!-- Watchlist--><div class="brbraitt-dashboard-section-header brbraitt-front-section-watchlist-header"><span class="brbraitt-dashboard-section-header-title">'+jade.escape(null==(jade.interp=_t("Your Watchlist"))?"":jade.interp)+'</span></div><div class="brbraitt-dashboard-subscriptions-section"><span class="brbraitt-dashboard-subscriptions-loading">'+(null==(jade.interp=_t("Loading courses&nbsp;&nbsp;"))?"":jade.interp)+"<img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})+'/></span></div></div></div></div><div class="span4 brbraitt-front-sidebar-section"><div class="brbraitt-front-sidebar-module brbraitt-front-sidebar-module-loading-message"><span>'+(null==(jade.interp=_t("Loading sidebar...&nbsp;&nbsp;"))?"":jade.interp)+"<img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})+'/></span></div><div class="brbraitt-front-sidebar-module brbraitt-front-sidebar-module-poll hide"><div class="brbraitt-dashboard-section-header"><span class="brbraitt-dashboard-section-header-title">'+jade.escape(null==(jade.interp=_t("brbraitt Poll"))?"":jade.interp)+'</span></div></div><div class="brbraitt-front-sidebar-module brbraitt-front-sidebar-module-recommended hide"><div class="brbraitt-dashboard-section-header"><span class="brbraitt-dashboard-section-header-title">'+jade.escape(null==(jade.interp=_t("Recommended For You"))?"":jade.interp)+'</span></div></div></div></div><div class="brbraitt-dashboard-section-header"><div class="row-fluid"><span class="brbraitt-front-section-new-to-brbraitt-subtitle">'+jade.escape(null==(jade.interp=_t("Recommendations for..."))?"":jade.interp)+'</span><div class="brbraitt-persona-option active"><div class="brbraitt-persona-option-title"><a>'+jade.escape(null==(jade.interp=_t("Students"))?"":jade.interp)+'</a></div></div><div class="brbraitt-persona-option"><div class="brbraitt-persona-option-title"><a>'+jade.escape(null==(jade.interp=_t("Lifelong Learners"))?"":jade.interp)+'</a></div></div><div class="brbraitt-persona-option"><div class="brbraitt-persona-option-title"><a>'+jade.escape(null==(jade.interp=_t("Professionals"))?"":jade.interp)+'</a></div></div><div style="width: 100%"><div class="preparing-for-college brbraitt-persona-subview"><div style="left:33%" class="brbraitt-persona-triangle-gray"><div class="brbraitt-persona-triangle-white"></div></div><div class="brbraitt-persona-title">'+jade.escape(null==(jade.interp=_t("Study ahead. Take college-level courses not offered at school."))?"":jade.interp)+'</div><div class="brbraitt-persona-subtitle">'+jade.escape(null==(jade.interp=_t("In high school and getting ready for college? In college and looking for additional study materials? brbraitt has courses to help you excel in school."))?"":jade.interp)+'</div><div class="brbraitt-persona-sigtrack-box"><div class="brbraitt-persona-subheader">'+jade.escape(null==(jade.interp=_t("Earn a Verified Certificate"))?"":jade.interp)+'</div><div style="display:inline-block; vertical-align: top; text-align: right;"><a class="brbraitt-persona-sigtrack-link"><img src="https://s3.amazonaws.com/brbraitt/universities/unimelb/signature-cert-corner.png" style="height: 80px" class="brbraitt-persona-sigtrack-icon"/></a></div><div class="brbraitt-persona-sigtrack-blurb"><span>'+jade.escape(null==(jade.interp=_t("If you plan to share with schools the brbraitt courses you have completed, check out"))?"":jade.interp)+' <a class="brbraitt-persona-sigtrack-link">'+jade.escape(null==(jade.interp=_t("Signature Track"))?"":jade.interp)+"</a>"+jade.escape(null==(jade.interp=_t(". Earn a Verified Certificate that securely links your coursework to your identity."))?"":jade.interp)+'</span><div><a class="brbraitt-persona-sigtrack-link">'+(null==(jade.interp=_t("Learn more now &raquo;"))?"":jade.interp)+'</a></div></div></div><div class="brbraitt-persona-subheader">'+jade.escape(null==(jade.interp=_t("Recommended Courses"))?"":jade.interp)+"</div>");for(var i=0;3>i;i++){var course=featuredClasses.student[i];buf.push('<div class="brbraitt-persona-course-recommend"><a'+jade.attrs({href:config.url.base+"course/"+course.short_name},{href:!0})+'><div class="brbraitt-persona-course-card"><div class="brbraitt-persona-course-card-image"><img'+jade.attrs({src:course.small_icon_hover},{src:!0})+'/></div><div class="brbraitt-persona-course-name">'+jade.escape(null==(jade.interp=_t(course.name))?"":jade.interp)+'</div></div></a><div class="brbraitt-persona-course-details">'+jade.escape(null==(jade.interp=_t(course.description))?"":jade.interp)+"</div></div>")}buf.push('<div style="clear:both"></div></div><div style="display:none" class="lifelong-learner brbraitt-persona-subview"><div style="left:55%" class="brbraitt-persona-triangle-gray"><div class="brbraitt-persona-triangle-white"></div></div><div class="brbraitt-persona-title">'+jade.escape(null==(jade.interp=_t("Explore topics you are curious about."))?"":jade.interp)+'</div><div class="brbraitt-persona-subtitle">'+jade.escape(null==(jade.interp=_t("Broaden your knowledge with our wide-ranging catalog of courses, from music to computer science. Check out some courses starting now!"))?"":jade.interp)+'</div><div class="brbraitt-persona-subheader">'+jade.escape(null==(jade.interp=_t("Recommended Courses"))?"":jade.interp)+"</div>");for(var i=0;3>i;i++){var course=featuredClasses.learner[i];buf.push('<div class="brbraitt-persona-course-recommend"><a'+jade.attrs({href:config.url.base+"course/"+course.short_name},{href:!0})+'><div class="brbraitt-persona-course-card"><div class="brbraitt-persona-course-card-image"><img'+jade.attrs({src:course.small_icon_hover},{src:!0})+'/></div><div class="brbraitt-persona-course-name">'+jade.escape(null==(jade.interp=_t(course.name))?"":jade.interp)+'</div></div></a><div class="brbraitt-persona-course-details">'+jade.escape(null==(jade.interp=_t(course.description))?"":jade.interp)+"</div></div>")}buf.push('<div style="clear:both"></div></div><div style="display:none" class="advance-career brbraitt-persona-subview"><div style="left:77%" class="brbraitt-persona-triangle-gray"><div class="brbraitt-persona-triangle-white"></div></div><div class="brbraitt-persona-title">'+jade.escape(null==(jade.interp=_t("Stay up-to-date in your field. Forge a new career path."))?"":jade.interp)+'</div><div class="brbraitt-persona-subtitle"></div><div class="brbraitt-persona-sigtrack-box"><div class="brbraitt-persona-subheader">'+jade.escape(null==(jade.interp=_t("Earn a Verified Certificate"))?"":jade.interp)+'</div><div style="display:inline-block; vertical-align: top; text-align: right;"><a class="brbraitt-persona-sigtrack-link"><img src="https://s3.amazonaws.com/brbraitt/universities/unimelb/signature-cert-corner.png" style="height: 80px" class="brbraitt-persona-sigtrack-icon"/></a></div><div class="brbraitt-persona-sigtrack-blurb"><span>'+jade.escape(null==(jade.interp=_t("If you plan to share the brbraitt courses you have completed with employers, check out"))?"":jade.interp)+' <a class="brbraitt-persona-sigtrack-link">'+jade.escape(null==(jade.interp=_t("Signature Track"))?"":jade.interp)+"</a>"+jade.escape(null==(jade.interp=_t(". Earn a Verified Certificate that securely links your coursework to your identity."))?"":jade.interp)+'</span><div><a class="brbraitt-persona-sigtrack-link">'+(null==(jade.interp=_t("Check it out now! &raquo;"))?"":jade.interp)+'</a></div></div></div><div class="brbraitt-persona-subheader">'+jade.escape(null==(jade.interp=_t("Recommended Courses"))?"":jade.interp)+"</div>");for(var i=0;3>i;i++){var course=featuredClasses.professional[i];buf.push('<div class="brbraitt-persona-course-recommend"><a'+jade.attrs({href:config.url.base+"course/"+course.short_name},{href:!0})+'><div class="brbraitt-persona-course-card"><div class="brbraitt-persona-course-card-image"><img'+jade.attrs({src:course.small_icon_hover},{src:!0})+'/></div><div class="brbraitt-persona-course-name">'+jade.escape(null==(jade.interp=_t(course.name))?"":jade.interp)+'</div></div></a><div class="brbraitt-persona-course-details">'+(null==(jade.interp=_t(course.description))?"":jade.interp)+"</div></div>")}return buf.push('<div style="clear:both"></div></div></div><div style="clear:both"></div></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" style="display:none;" class="modal brbraitt-profile-modal-unenroll"><div class="modal-body"><div>'+jade.escape(null==(jade.interp=_t("Please confirm that you want to un-enroll from:"))?"":jade.interp)+'<br/><strong class="brbraitt-profile-unenroll-title"></strong><br/></div><p>'+jade.escape(null==(jade.interp=_t("Note: If you un-enroll, you will no longer be able to see your record for this course on the Course records page."))?"":jade.interp)+'</p></div><div class="modal-footer"><span class="btn btn-danger brbraitt-profile-button-unenroll-now">'+jade.escape(null==(jade.interp=_t("Un-Enroll"))?"":jade.interp)+'</span><button class="btn brbraitt-profile-button-unenroll-waiting hide"><span>'+(null==(jade.interp=_t("&nbsp;"))?"":jade.interp)+"</span><img"+jade.attrs({src:config.url.assets+"images/icons/loading.gif"},{src:!0})+'/></button><span data-modal-close="data-modal-close" class="btn brbraitt-profile-button-unenroll-cancel">'+jade.escape(null==(jade.interp=_t("Cancel"))?"":jade.interp)+'</span></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" class="modal brbraitt-profile-modal-unenroll-survey hide"><div class="modal-body"><p>'+jade.escape(null==(jade.interp=_t("We'd love to learn more about your decision to un-enroll to help us improve our offering in the future. Would you mind answering a few quick questions?"))?"":jade.interp)+'</p></div><div class="modal-footer"><a href="" class="btn btn-success">'+jade.escape(null==(jade.interp=_t("Sure!"))?"":jade.interp)+'</a><span data-modal-close="data-modal-close" class="btn">'+jade.escape(null==(jade.interp=_t("No, thanks"))?"":jade.interp)+'</span></div></div><div data-modal-overlay-class="brbraitt-overlay-dark" style="display:none;" class="modal brbraitt-profile-modal-unenroll-signature-track"><div class="modal-body"><div>'+(null==(jade.interp=_t("Are you sure you want to un-enroll from Signature Track for&nbsp;"))?"":jade.interp)+'<strong class="brbraitt-profile-unenroll-title"></strong>?</div><p>'+jade.escape(null==(jade.interp=_t("To do so, you will need to visit the Signature Track Settings page."))?"":jade.interp)+'</p></div><div class="modal-footer"><a href="account/settings/signature" class="btn btn-primary">'+jade.escape(null==(jade.interp=_t("Go to Signature Track Settings"))?"":jade.interp)+"</a></div></div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/account/courseList.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.account.courseList"]=jadify(wndw.jade.helpers)}(window),define("pages/home/account/nls/courseList",{root:!0,zh:!0}),define("pages/home/account/nls/root/courseList",{"&times;":"&times;","We'd love your help in planning our future features. Interested?":"We'd love your help in planning our future features. Interested?","Your Courses":"Your Courses","(View all enrolled courses)":"(View all enrolled courses)","Loading courses...&nbsp;&nbsp;":"Loading courses...&nbsp;&nbsp;","You are not yet enrolled in any courses.":"You are not yet enrolled in any courses.","Enroll in a class":"Enroll in a class","You are not yet enrolled in any courses. Explore our":"You are not yet enrolled in any courses. Explore our",catalog:"catalog","to find courses!":"to find courses!","Problem with your course enrollments?":"Problem with your course enrollments?","Get help.":"Get help.","Your Watchlist":"Your Watchlist","Loading courses&nbsp;&nbsp;":"Loading courses&nbsp;&nbsp;","Loading sidebar...&nbsp;&nbsp;":"Loading sidebar...&nbsp;&nbsp;","brbraitt Poll":"brbraitt Poll","Recommended For You":"Recommended For You","Recommendations for...":"Recommendations for...",Students:"Students","Lifelong Learners":"Lifelong Learners",Professionals:"Professionals","Study ahead. Take college-level courses not offered at school.":"Study ahead. Take college-level courses not offered at school.","In high school and getting ready for college? In college and looking for additional study materials? brbraitt has courses to help you excel in school.":"In high school and getting ready for college? In college and looking for additional study materials? brbraitt has courses to help you excel in school.","Earn a Verified Certificate":"Earn a Verified Certificate","If you plan to share with schools the brbraitt courses you have completed, check out":"If you plan to share with schools the brbraitt courses you have completed, check out","Signature Track":"Signature Track",". Earn a Verified Certificate that securely links your coursework to your identity.":". Earn a Verified Certificate that securely links your coursework to your identity.","Learn more now &raquo;":"Learn more now &raquo;","Recommended Courses":"Recommended Courses","Explore topics you are curious about.":"Explore topics you are curious about.","Broaden your knowledge with our wide-ranging catalog of courses, from music to computer science. Check out some courses starting now!":"Broaden your knowledge with our wide-ranging catalog of courses, from music to computer science. Check out some courses starting now!","Stay up-to-date in your field. Forge a new career path.":"Stay up-to-date in your field. Forge a new career path.","If you plan to share the brbraitt courses you have completed with employers, check out":"If you plan to share the brbraitt courses you have completed with employers, check out","Check it out now! &raquo;":"Check it out now! &raquo;","Please confirm that you want to un-enroll from:":"Please confirm that you want to un-enroll from:","Note: If you un-enroll, you will no longer be able to see your record for this course on the Course records page.":"Note: If you un-enroll, you will no longer be able to see your record for this course on the Course records page.","Un-Enroll":"Un-Enroll","&nbsp;":"&nbsp;",Cancel:"Cancel","We'd love to learn more about your decision to un-enroll to help us improve our offering in the future. Would you mind answering a few quick questions?":"We'd love to learn more about your decision to un-enroll to help us improve our offering in the future. Would you mind answering a few quick questions?","Sure!":"Sure!","No, thanks":"No, thanks","Are you sure you want to un-enroll from Signature Track for&nbsp;":"Are you sure you want to un-enroll from Signature Track for&nbsp;","To do so, you will need to visit the Signature Track Settings page.":"To do so, you will need to visit the Signature Track Settings page.","Go to Signature Track Settings":"Go to Signature Track Settings"}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,course=locals_.course,_=locals_._,config=locals_.config,user=locals_.user;_t="undefined"!=typeof _t?_t:function(s){return s};var goToClassLink=course.get("home_link")+"auth/auth_redirector?type=login&subtype=normal";buf.push("<div"+jade.attrs({"data-course-id":course.get("id"),"class":["brbraitt-dashboard-course-listing-box","row-fluid"]},{"data-course-id":!0})+'><div class="brbraitt-dashboard-course-listing-box-icon-container"><img'+jade.attrs({src:course.get("topic").get("small_icon_hover"),"class":["brbraitt-dashboard-course-listing-box-icon"]},{src:!0})+'/></div><div class="brbraitt-dashboard-course-listing-box-main"><div class="brbraitt-dashboard-course-listing-box-university">'),_.each(course.get("topic").get("universities"),function(university){buf.push("<a"+jade.attrs({href:university.home_link||config.dir.home+university.short_name,"class":[university.home_link?"":"internal-home"]},{"class":!0,href:!0})+">"+jade.escape(null==(jade.interp=_t(university.name))?"":jade.interp)+"</a>")}),buf.push('</div><div class="brbraitt-dashboard-course-listing-box-name">');var courseLink=config.dir.home+"course/"+course.get("topic").get("short_name");if("1"==course.get("active")||course.get("self_study"))courseLink=goToClassLink;if(buf.push("<a"+jade.attrs({href:courseLink},{href:!0})+">"+jade.escape(null==(jade.interp=_t(course.get("topic").get("name")))?"":jade.interp)+"</a></div>"),user.enrolledInSignatureCourse(course.get("id")))buf.push('<div class="brbraitt-dashboard-course-listing-box-sigtrack-flag"><img'+jade.attrs({src:config.url.assets+"images/signature/course-dashboard-sigtrack.png"},{src:!0})+"/><span>"+jade.escape(null==(jade.interp=_t("Signature Track"))?"":jade.interp)+"</span></div>");if("past"==course.getStartStatus())buf.push('<div class="brbraitt-dashboard-course-listing-box-ended-display"><span>'+jade.escape(null==(jade.interp=_t(course.getStartCountdown()))?"":jade.interp)+"</span></div>");else if("future"!=course.getStartStatus())buf.push('<div class="brbraitt-dashboard-course-listing-box-progress"><span style="left: 1px;" class="progress-label">'+jade.escape(null==(jade.interp=_t(course.getStartDisplayShort()))?"":jade.interp)+'</span><span style="right: 1px;" class="progress-label">'+jade.escape(null==(jade.interp=_t(course.getEndDisplayShort()))?"":jade.interp)+'</span><div class="progress-line"></div><div'+jade.attrs({style:"left:"+course.getStartPercent()+"%","class":["progress-marker"]},{style:!0})+"></div><div"+jade.attrs({style:"width:"+course.getStartPercent()+"%;","class":["progress-bar"]},{style:!0})+"></div></div>");if(buf.push('<div class="row-fluid brbraitt-dashboard-course-listing-box-bottom"><div class="span8"><div class="brbraitt-dashboard-course-listing-box-links"><a'+jade.attrs({href:config.dir.home+"course/"+course.get("topic").get("short_name"),"class":["internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t("course info"))?"":jade.interp)+" </a>"),!course.hasGrade())if(user.enrolledInSignatureCourse(course.get("id")))buf.push("<span> | </span><a"+jade.attrs({is_signature_track:!0,href:"javascript:void(0)","data-unenroll-course-id":course.get("id")},{href:!0,"data-unenroll-course-id":!0})+">"+jade.escape(null==(jade.interp=_t("un-enroll"))?"":jade.interp)+" </a>");else buf.push("<span> | </span><a"+jade.attrs({href:"javascript:void(0)","data-unenroll-course-id":course.get("id")},{href:!0,"data-unenroll-course-id":!0})+">"+jade.escape(null==(jade.interp=_t("un-enroll"))?"":jade.interp)+" </a>");if(1==course.get("active")&&"past"==course.getStartStatus())buf.push("<span> | </span><a"+jade.attrs({href:goToClassLink},{href:!0})+">"+jade.escape(null==(jade.interp=_t("class archive"))?"":jade.interp)+"</a>");buf.push('</div></div><div class="span4">');var buttonClass=user.enrolledInSignatureCourse(course.get("id"))?"brbraitt-signature-signup-button":"btn-flat-success";if("1"==course.get("active")&&"past"!=course.getStartStatus()||course.get("self_study"))buf.push("<a"+jade.attrs({href:goToClassLink,"class":["brbraitt-dashboard-course-listing-box-go-button","btn-flat","brbraitt-dashboard-abtest-go-to-class",buttonClass]},{"class":!0,href:!0})+">"+jade.escape(null==(jade.interp=_t("Go to class"))?"":jade.interp)+"</a>");else if("0"==course.get("active")&&"past"!=course.getStartStatus())buf.push("<a"+jade.attrs({disabled:"disabled","class":["brbraitt-dashboard-course-listing-box-go-button","btn-flat",buttonClass]},{"class":!0,disabled:!0})+">"+jade.escape(null==(jade.interp=_t("Starts #{course.getStartDisplayShort()}",{"course.getStartDisplayShort()":course.getStartDisplayShort()}))?"":jade.interp)+"</a>");else{var certIsReady=course.certificateIsReady(),tooltip,disabled=!1;if(certIsReady)if(course.getsSignatureTrackCert())tooltip="Congratulations! Get your Verified Certificate.";else if("0"==course.get("eligible_for_certificates"))tooltip="Get your grade.";else if(course.hasStatement())tooltip="Congratulations! Get your Statement of Accomplishment.";else tooltip="You did not earn a Statement of Accomplishment. Get your grade.";else if("0"==course.get("eligible_for_certificates"))tooltip="This course does not release Statements of Accomplishment.",disabled=!0;else tooltip="Grading in progress.",disabled=!0;if(disabled)buf.push("<a"+jade.attrs({style:"pointer-events:auto;","data-tooltip":tooltip,"data-tooltip-offset":0,"class":["brbraitt-dashboard-course-listing-box-go-button","btn-flat","btn-flat-primary","disabled"]},{style:!0,"data-tooltip":!0,"data-tooltip-offset":!0})+">"+jade.escape(null==(jade.interp=_t("View course record"))?"":jade.interp)+"</a>");else buf.push("<a"+jade.attrs({href:"/account/records","data-tooltip":tooltip,"data-tooltip-offset":0,"class":["brbraitt-dashboard-course-listing-box-go-button","btn-flat","btn-flat-primary","internal-home"]},{href:!0,"data-tooltip":!0,"data-tooltip-offset":!0})+">"+jade.escape(null==(jade.interp=_t("View course record"))?"":jade.interp)+"</a>")}return buf.push("</div></div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/account/courseMini.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.account.courseMini"]=jadify(wndw.jade.helpers)}(window),define("pages/home/account/nls/courseMini",{root:!0,zh:!0}),define("pages/home/account/nls/root/courseMini",{"Signature Track":"Signature Track","course info":"course info","un-enroll":"un-enroll","class archive":"class archive","Go to class":"Go to class","Starts #{course.getStartDisplayShort()}":"Starts #{course.getStartDisplayShort()}","View course record":"View course record"}),!function(definition){if("function"==typeof bootstrap)bootstrap("promise",definition);else if("object"==typeof exports)module.exports=definition();else if("function"==typeof define&&define.amd)define("js/lib/q",definition);else if("undefined"!=typeof ses)if(!ses.ok())return;else ses.makeQ=definition;else Q=definition()}(function(){function uncurryThis(f){return function(){return call.apply(f,arguments)}}function isObject(value){return value===Object(value)}function isStopIteration(exception){return"[object StopIteration]"===object_toString(exception)||exception instanceof QReturnValue}function makeStackTraceLong(error,promise){if(hasStacks&&promise.stack&&"object"==typeof error&&null!==error&&error.stack&&-1===error.stack.indexOf(STACK_JUMP_SEPARATOR)){for(var stacks=[],p=promise;p;p=p.source)if(p.stack)stacks.unshift(p.stack);stacks.unshift(error.stack);var concatedStacks=stacks.join("\n"+STACK_JUMP_SEPARATOR+"\n");error.stack=filterStackString(concatedStacks)}}function filterStackString(stackString){for(var lines=stackString.split("\n"),desiredLines=[],i=0;i<lines.length;++i){var line=lines[i];
if(!isInternalFrame(line)&&!isNodeFrame(line)&&line)desiredLines.push(line)}return desiredLines.join("\n")}function isNodeFrame(stackLine){return-1!==stackLine.indexOf("(module.js:")||-1!==stackLine.indexOf("(node.js:")}function getFileNameAndLineNumber(stackLine){var attempt1=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);if(attempt1)return[attempt1[1],Number(attempt1[2])];var attempt2=/at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);if(attempt2)return[attempt2[1],Number(attempt2[2])];var attempt3=/.*@(.+):(\d+)$/.exec(stackLine);if(attempt3)return[attempt3[1],Number(attempt3[2])];else return void 0}function isInternalFrame(stackLine){var fileNameAndLineNumber=getFileNameAndLineNumber(stackLine);if(!fileNameAndLineNumber)return!1;var fileName=fileNameAndLineNumber[0],lineNumber=fileNameAndLineNumber[1];return fileName===qFileName&&lineNumber>=qStartingLine&&qEndingLine>=lineNumber}function captureLine(){if(hasStacks)try{throw new Error}catch(e){var lines=e.stack.split("\n"),firstLine=lines[0].indexOf("@")>0?lines[1]:lines[2],fileNameAndLineNumber=getFileNameAndLineNumber(firstLine);if(!fileNameAndLineNumber)return;return qFileName=fileNameAndLineNumber[0],fileNameAndLineNumber[1]}}function deprecate(callback,name,alternative){return function(){if("undefined"!=typeof console&&"function"==typeof console.warn)console.warn(name+" is deprecated, use "+alternative+" instead.",new Error("").stack);return callback.apply(callback,arguments)}}function Q(value){if(isPromise(value))return value;if(isPromiseAlike(value))return coerce(value);else return fulfill(value)}function defer(){function become(newPromise){resolvedPromise=newPromise,promise.source=newPromise,array_reduce(messages,function(undefined,message){nextTick(function(){newPromise.promiseDispatch.apply(newPromise,message)})},void 0),messages=void 0,progressListeners=void 0}var messages=[],progressListeners=[],resolvedPromise,deferred=object_create(defer.prototype),promise=object_create(Promise.prototype);if(promise.promiseDispatch=function(resolve,op,operands){var args=array_slice(arguments);if(messages){if(messages.push(args),"when"===op&&operands[1])progressListeners.push(operands[1])}else nextTick(function(){resolvedPromise.promiseDispatch.apply(resolvedPromise,args)})},promise.valueOf=deprecate(function(){if(messages)return promise;var nearerValue=nearer(resolvedPromise);if(isPromise(nearerValue))resolvedPromise=nearerValue;return nearerValue},"valueOf","inspect"),promise.inspect=function(){if(!resolvedPromise)return{state:"pending"};else return resolvedPromise.inspect()},Q.longStackSupport&&hasStacks)try{throw new Error}catch(e){promise.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return deferred.promise=promise,deferred.resolve=function(value){if(!resolvedPromise)become(Q(value))},deferred.fulfill=function(value){if(!resolvedPromise)become(fulfill(value))},deferred.reject=function(reason){if(!resolvedPromise)become(reject(reason))},deferred.notify=function(progress){if(!resolvedPromise)array_reduce(progressListeners,function(undefined,progressListener){nextTick(function(){progressListener(progress)})},void 0)},deferred}function promise(resolver){if("function"!=typeof resolver)throw new TypeError("resolver must be a function.");var deferred=defer();try{resolver(deferred.resolve,deferred.reject,deferred.notify)}catch(reason){deferred.reject(reason)}return deferred.promise}function race(answerPs){return promise(function(resolve,reject){for(var i=0,len=answerPs.length;len>i;i++)Q(answerPs[i]).then(resolve,reject)})}function Promise(descriptor,fallback,inspect){if(void 0===fallback)fallback=function(op){return reject(new Error("Promise does not support operation: "+op))};if(void 0===inspect)inspect=function(){return{state:"unknown"}};var promise=object_create(Promise.prototype);if(promise.promiseDispatch=function(resolve,op,args){var result;try{if(descriptor[op])result=descriptor[op].apply(promise,args);else result=fallback.call(promise,op,args)}catch(exception){result=reject(exception)}if(resolve)resolve(result)},promise.inspect=inspect,inspect){var inspected=inspect();if("rejected"===inspected.state)promise.exception=inspected.reason;promise.valueOf=deprecate(function(){var inspected=inspect();if("pending"===inspected.state||"rejected"===inspected.state)return promise;else return inspected.value})}return promise}function when(value,fulfilled,rejected,progressed){return Q(value).then(fulfilled,rejected,progressed)}function nearer(value){if(isPromise(value)){var inspected=value.inspect();if("fulfilled"===inspected.state)return inspected.value}return value}function isPromise(object){return isObject(object)&&"function"==typeof object.promiseDispatch&&"function"==typeof object.inspect}function isPromiseAlike(object){return isObject(object)&&"function"==typeof object.then}function isPending(object){return isPromise(object)&&"pending"===object.inspect().state}function isFulfilled(object){return!isPromise(object)||"fulfilled"===object.inspect().state}function isRejected(object){return isPromise(object)&&"rejected"===object.inspect().state}function displayUnhandledReasons(){if(!unhandledReasonsDisplayed&&"undefined"!=typeof window&&!window.Touch&&window.console)console.warn("[Q] Unhandled rejection reasons (should be empty):",unhandledReasons);unhandledReasonsDisplayed=!0}function logUnhandledReasons(){for(var i=0;i<unhandledReasons.length;i++){var reason=unhandledReasons[i];if(reason&&"undefined"!=typeof reason.stack)console.warn("Unhandled rejection reason:",reason.stack);else console.warn("Unhandled rejection reason (no stack):",reason)}}function resetUnhandledRejections(){if(unhandledReasons.length=0,unhandledRejections.length=0,unhandledReasonsDisplayed=!1,!trackUnhandledRejections)if(trackUnhandledRejections=!0,"undefined"!=typeof process&&process.on)process.on("exit",logUnhandledReasons)}function trackRejection(promise,reason){if(trackUnhandledRejections)unhandledRejections.push(promise),unhandledReasons.push(reason),displayUnhandledReasons()}function untrackRejection(promise){if(trackUnhandledRejections){var at=array_indexOf(unhandledRejections,promise);if(-1!==at)unhandledRejections.splice(at,1),unhandledReasons.splice(at,1)}}function reject(reason){var rejection=Promise({when:function(rejected){if(rejected)untrackRejection(this);return rejected?rejected(reason):this}},function fallback(){return this},function inspect(){return{state:"rejected",reason:reason}});return trackRejection(rejection,reason),rejection}function fulfill(value){return Promise({when:function(){return value},get:function(name){return value[name]},set:function(name,rhs){value[name]=rhs},"delete":function(name){delete value[name]},post:function(name,args){if(null===name||void 0===name)return value.apply(void 0,args);else return value[name].apply(value,args)},apply:function(thisp,args){return value.apply(thisp,args)},keys:function(){return object_keys(value)}},void 0,function inspect(){return{state:"fulfilled",value:value}})}function coerce(promise){var deferred=defer();return nextTick(function(){try{promise.then(deferred.resolve,deferred.reject,deferred.notify)}catch(exception){deferred.reject(exception)}}),deferred.promise}function master(object){return Promise({isDef:function(){}},function fallback(op,args){return dispatch(object,op,args)},function(){return Q(object).inspect()})}function spread(value,fulfilled,rejected){return Q(value).spread(fulfilled,rejected)}function async(makeGenerator){return function(){function continuer(verb,arg){var result;if(hasES6Generators){try{result=generator[verb](arg)}catch(exception){return reject(exception)}if(result.done)return result.value;else return when(result.value,callback,errback)}else{try{result=generator[verb](arg)}catch(exception){if(isStopIteration(exception))return exception.value;else return reject(exception)}return when(result,callback,errback)}}var generator=makeGenerator.apply(this,arguments),callback=continuer.bind(continuer,"next"),errback=continuer.bind(continuer,"throw");return callback()}}function spawn(makeGenerator){Q.done(Q.async(makeGenerator)())}function _return(value){throw new QReturnValue(value)}function promised(callback){return function(){return spread([this,all(arguments)],function(self,args){return callback.apply(self,args)})}}function dispatch(object,op,args){return Q(object).dispatch(op,args)}function all(promises){return when(promises,function(promises){var countDown=0,deferred=defer();if(array_reduce(promises,function(undefined,promise,index){var snapshot;if(isPromise(promise)&&"fulfilled"===(snapshot=promise.inspect()).state)promises[index]=snapshot.value;else++countDown,when(promise,function(value){if(promises[index]=value,0===--countDown)deferred.resolve(promises)},deferred.reject,function(progress){deferred.notify({index:index,value:progress})})},void 0),0===countDown)deferred.resolve(promises);return deferred.promise})}function allResolved(promises){return when(promises,function(promises){return promises=array_map(promises,Q),when(all(array_map(promises,function(promise){return when(promise,noop,noop)})),function(){return promises})})}function allSettled(promises){return Q(promises).allSettled()}function progress(object,progressed){return Q(object).then(void 0,void 0,progressed)}function nodeify(object,nodeback){return Q(object).nodeify(nodeback)}var hasStacks=!1;try{throw new Error}catch(e){hasStacks=!!e.stack}var qStartingLine=captureLine(),qFileName,noop=function(){},nextTick=function(){function flush(){for(;head.next;){head=head.next;var task=head.task;head.task=void 0;var domain=head.domain;if(domain)head.domain=void 0,domain.enter();try{task()}catch(e){if(isNodeJS){if(domain)domain.exit();if(setTimeout(flush,0),domain)domain.enter();throw e}else setTimeout(function(){throw e},0)}if(domain)domain.exit()}flushing=!1}var head={task:void 0,next:null},tail=head,flushing=!1,requestTick=void 0,isNodeJS=!1;if(nextTick=function(task){if(tail=tail.next={task:task,domain:isNodeJS&&process.domain,next:null},!flushing)flushing=!0,requestTick()},"undefined"!=typeof process&&process.nextTick)isNodeJS=!0,requestTick=function(){process.nextTick(flush)};else if("function"==typeof setImmediate)if("undefined"!=typeof window)requestTick=setImmediate.bind(window,flush);else requestTick=function(){setImmediate(flush)};else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel;channel.port1.onmessage=flush,requestTick=function(){channel.port2.postMessage(0)}}else requestTick=function(){setTimeout(flush,0)};return nextTick}(),call=Function.call,array_slice=uncurryThis(Array.prototype.slice),array_reduce=uncurryThis(Array.prototype.reduce||function(callback,basis){var index=0,length=this.length;if(1===arguments.length)for(;;){if(index in this){basis=this[index++];break}if(++index>=length)throw new TypeError}for(;length>index;index++)if(index in this)basis=callback(basis,this[index],index);return basis}),array_indexOf=uncurryThis(Array.prototype.indexOf||function(value){for(var i=0;i<this.length;i++)if(this[i]===value)return i;return-1}),array_map=uncurryThis(Array.prototype.map||function(callback,thisp){var self=this,collect=[];return array_reduce(self,function(undefined,value,index){collect.push(callback.call(thisp,value,index,self))},void 0),collect}),object_create=Object.create||function(prototype){function Type(){}return Type.prototype=prototype,new Type},object_hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),object_keys=Object.keys||function(object){var keys=[];for(var key in object)if(object_hasOwnProperty(object,key))keys.push(key);return keys},object_toString=uncurryThis(Object.prototype.toString),QReturnValue;if("undefined"!=typeof ReturnValue)QReturnValue=ReturnValue;else QReturnValue=function(value){this.value=value};var hasES6Generators;try{new Function("(function* (){ yield 1; })"),hasES6Generators=!0}catch(e){hasES6Generators=!1}var STACK_JUMP_SEPARATOR="From previous event:";Q.resolve=Q,Q.nextTick=nextTick,Q.longStackSupport=!1,Q.defer=defer,defer.prototype.makeNodeResolver=function(){var self=this;return function(error,value){if(error)self.reject(error);else if(arguments.length>2)self.resolve(array_slice(arguments,1));else self.resolve(value)}},Q.promise=promise,Q.passByCopy=function(object){return object},Promise.prototype.passByCopy=function(){return this},Q.join=function(x,y){return Q(x).join(y)},Promise.prototype.join=function(that){return Q([this,that]).spread(function(x,y){if(x===y)return x;else throw new Error("Can't join: not the same: "+x+" "+y)})},Q.race=race,Promise.prototype.race=function(){return this.then(Q.race)},Q.makePromise=Promise,Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.then=function(fulfilled,rejected,progressed){function _fulfilled(value){try{return"function"==typeof fulfilled?fulfilled(value):value}catch(exception){return reject(exception)}}function _rejected(exception){if("function"==typeof rejected){makeStackTraceLong(exception,self);try{return rejected(exception)}catch(newException){return reject(newException)}}return reject(exception)}function _progressed(value){return"function"==typeof progressed?progressed(value):value}var self=this,deferred=defer(),done=!1;return nextTick(function(){self.promiseDispatch(function(value){if(!done)done=!0,deferred.resolve(_fulfilled(value))},"when",[function(exception){if(!done)done=!0,deferred.resolve(_rejected(exception))}])}),self.promiseDispatch(void 0,"when",[void 0,function(value){var newValue,threw=!1;try{newValue=_progressed(value)}catch(e){if(threw=!0,Q.onerror)Q.onerror(e);else throw e}if(!threw)deferred.notify(newValue)}]),deferred.promise},Q.when=when,Promise.prototype.thenResolve=function(value){return this.then(function(){return value})},Q.thenResolve=function(promise,value){return Q(promise).thenResolve(value)},Promise.prototype.thenReject=function(reason){return this.then(function(){throw reason})},Q.thenReject=function(promise,reason){return Q(promise).thenReject(reason)},Q.nearer=nearer,Q.isPromise=isPromise,Q.isPromiseAlike=isPromiseAlike,Q.isPending=isPending,Promise.prototype.isPending=function(){return"pending"===this.inspect().state},Q.isFulfilled=isFulfilled,Promise.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},Q.isRejected=isRejected,Promise.prototype.isRejected=function(){return"rejected"===this.inspect().state};var unhandledReasons=[],unhandledRejections=[],unhandledReasonsDisplayed=!1,trackUnhandledRejections=!0;Q.resetUnhandledRejections=resetUnhandledRejections,Q.getUnhandledReasons=function(){return unhandledReasons.slice()},Q.stopUnhandledRejectionTracking=function(){if(resetUnhandledRejections(),"undefined"!=typeof process&&process.on)process.removeListener("exit",logUnhandledReasons);trackUnhandledRejections=!1},resetUnhandledRejections(),Q.reject=reject,Q.fulfill=fulfill,Q.master=master,Q.spread=spread,Promise.prototype.spread=function(fulfilled,rejected){return this.all().then(function(array){return fulfilled.apply(void 0,array)},rejected)},Q.async=async,Q.spawn=spawn,Q["return"]=_return,Q.promised=promised,Q.dispatch=dispatch,Promise.prototype.dispatch=function(op,args){var self=this,deferred=defer();return nextTick(function(){self.promiseDispatch(deferred.resolve,op,args)}),deferred.promise},Q.get=function(object,key){return Q(object).dispatch("get",[key])},Promise.prototype.get=function(key){return this.dispatch("get",[key])},Q.set=function(object,key,value){return Q(object).dispatch("set",[key,value])},Promise.prototype.set=function(key,value){return this.dispatch("set",[key,value])},Q.del=Q["delete"]=function(object,key){return Q(object).dispatch("delete",[key])},Promise.prototype.del=Promise.prototype["delete"]=function(key){return this.dispatch("delete",[key])},Q.mapply=Q.post=function(object,name,args){return Q(object).dispatch("post",[name,args])},Promise.prototype.mapply=Promise.prototype.post=function(name,args){return this.dispatch("post",[name,args])},Q.send=Q.mcall=Q.invoke=function(object,name){return Q(object).dispatch("post",[name,array_slice(arguments,2)])},Promise.prototype.send=Promise.prototype.mcall=Promise.prototype.invoke=function(name){return this.dispatch("post",[name,array_slice(arguments,1)])},Q.fapply=function(object,args){return Q(object).dispatch("apply",[void 0,args])},Promise.prototype.fapply=function(args){return this.dispatch("apply",[void 0,args])},Q["try"]=Q.fcall=function(object){return Q(object).dispatch("apply",[void 0,array_slice(arguments,1)])},Promise.prototype.fcall=function(){return this.dispatch("apply",[void 0,array_slice(arguments)])},Q.fbind=function(object){var promise=Q(object),args=array_slice(arguments,1);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}},Promise.prototype.fbind=function(){var promise=this,args=array_slice(arguments);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}},Q.keys=function(object){return Q(object).dispatch("keys",[])},Promise.prototype.keys=function(){return this.dispatch("keys",[])},Q.all=all,Promise.prototype.all=function(){return all(this)},Q.allResolved=deprecate(allResolved,"allResolved","allSettled"),Promise.prototype.allResolved=function(){return allResolved(this)},Q.allSettled=allSettled,Promise.prototype.allSettled=function(){return this.then(function(promises){return all(array_map(promises,function(promise){function regardless(){return promise.inspect()}return promise=Q(promise),promise.then(regardless,regardless)}))})},Q.fail=Q["catch"]=function(object,rejected){return Q(object).then(void 0,rejected)},Promise.prototype.fail=Promise.prototype["catch"]=function(rejected){return this.then(void 0,rejected)},Q.progress=progress,Promise.prototype.progress=function(progressed){return this.then(void 0,void 0,progressed)},Q.fin=Q["finally"]=function(object,callback){return Q(object)["finally"](callback)},Promise.prototype.fin=Promise.prototype["finally"]=function(callback){return callback=Q(callback),this.then(function(value){return callback.fcall().then(function(){return value})},function(reason){return callback.fcall().then(function(){throw reason})})},Q.done=function(object,fulfilled,rejected,progress){return Q(object).done(fulfilled,rejected,progress)},Promise.prototype.done=function(fulfilled,rejected,progress){var onUnhandledError=function(error){nextTick(function(){if(makeStackTraceLong(error,promise),Q.onerror)Q.onerror(error);else throw error})},promise=fulfilled||rejected||progress?this.then(fulfilled,rejected,progress):this;if("object"==typeof process&&process&&process.domain)onUnhandledError=process.domain.bind(onUnhandledError);promise.then(void 0,onUnhandledError)},Q.timeout=function(object,ms,message){return Q(object).timeout(ms,message)},Promise.prototype.timeout=function(ms,message){var deferred=defer(),timeoutId=setTimeout(function(){deferred.reject(new Error(message||"Timed out after "+ms+" ms"))},ms);return this.then(function(value){clearTimeout(timeoutId),deferred.resolve(value)},function(exception){clearTimeout(timeoutId),deferred.reject(exception)},deferred.notify),deferred.promise},Q.delay=function(object,timeout){if(void 0===timeout)timeout=object,object=void 0;return Q(object).delay(timeout)},Promise.prototype.delay=function(timeout){return this.then(function(value){var deferred=defer();return setTimeout(function(){deferred.resolve(value)},timeout),deferred.promise})},Q.nfapply=function(callback,args){return Q(callback).nfapply(args)},Promise.prototype.nfapply=function(args){var deferred=defer(),nodeArgs=array_slice(args);return nodeArgs.push(deferred.makeNodeResolver()),this.fapply(nodeArgs).fail(deferred.reject),deferred.promise},Q.nfcall=function(callback){var args=array_slice(arguments,1);return Q(callback).nfapply(args)},Promise.prototype.nfcall=function(){var nodeArgs=array_slice(arguments),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),this.fapply(nodeArgs).fail(deferred.reject),deferred.promise},Q.nfbind=Q.denodeify=function(callback){var baseArgs=array_slice(arguments,1);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments)),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),Q(callback).fapply(nodeArgs).fail(deferred.reject),deferred.promise}},Promise.prototype.nfbind=Promise.prototype.denodeify=function(){var args=array_slice(arguments);return args.unshift(this),Q.denodeify.apply(void 0,args)},Q.nbind=function(callback,thisp){var baseArgs=array_slice(arguments,2);return function(){function bound(){return callback.apply(thisp,arguments)}var nodeArgs=baseArgs.concat(array_slice(arguments)),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),Q(bound).fapply(nodeArgs).fail(deferred.reject),deferred.promise}},Promise.prototype.nbind=function(){var args=array_slice(arguments,0);return args.unshift(this),Q.nbind.apply(void 0,args)},Q.nmapply=Q.npost=function(object,name,args){return Q(object).npost(name,args)},Promise.prototype.nmapply=Promise.prototype.npost=function(name,args){var nodeArgs=array_slice(args||[]),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),this.dispatch("post",[name,nodeArgs]).fail(deferred.reject),deferred.promise},Q.nsend=Q.nmcall=Q.ninvoke=function(object,name){var nodeArgs=array_slice(arguments,2),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),Q(object).dispatch("post",[name,nodeArgs]).fail(deferred.reject),deferred.promise},Promise.prototype.nsend=Promise.prototype.nmcall=Promise.prototype.ninvoke=function(name){var nodeArgs=array_slice(arguments,1),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),this.dispatch("post",[name,nodeArgs]).fail(deferred.reject),deferred.promise},Q.nodeify=nodeify,Promise.prototype.nodeify=function(nodeback){if(nodeback)this.then(function(value){nextTick(function(){nodeback(null,value)})},function(error){nextTick(function(){nodeback(error)})});else return this};var qEndingLine=captureLine();return Q}),define("js/json/featuredClasses",[],function(){return{student:[{short_name:"precalculus",description:"This course covers mathematical topics in algebra and trigonometry and is designed to prepare students to enroll for a first semester course in single variable calculus.",include:!0,small_icon_hover:"https://brbraitt-course-photos.s3.amazonaws.com/c1/32121a42fb56a015b6485d4dc37155/math1b-course-logo.jpg",name:"Pre-Calculus"},{short_name:"interactivepython",description:"This course is designed to be a fun introduction to the basics of programming in Python. Our main focus will be on building simple interactive games such as Pong, Blackjack and Asteroids.",include:!0,small_icon_hover:"https://s3.amazonaws.com/brbraitt/topics/interactivepython/small-icon.hover.png",name:"An Introduction to Interactive Programming in Python"},{short_name:"modelthinking",description:"In this class, you will learn how to think with models and use them to make sense of the complex world around us.",include:!0,small_icon_hover:"https://s3.amazonaws.com/brbraitt/topics/modelthinking/small-icon.hover.png",name:"Model Thinking"}],professional:[{short_name:"ml",description:"Learn about the most effective machine learning techniques, and gain practice implementing them and getting them to work for yourself.",include:!0,small_icon_hover:"https://s3.amazonaws.com/brbraitt/topics/ml/small-icon.hover.png",name:"Machine Learning"},{short_name:"marketing",description:"This Wharton course will teach the fundamentals of marketing by getting to the root of customer decision making. The course will focus on branding strategies, customer centricity and new market entry.",include:!0,small_icon_hover:"https://brbraitt-course-photos.s3.amazonaws.com/d1/995ed65d17a0c64825781974c53e52/brbraitt_marketing_600.png",name:"An Introduction to Marketing"},{short_name:"lead-ei",description:"Emotional intelligence, hope, mindfulness, and compassion help a person reverse the damage of chronic stress and build great leadership relationships. The Positive and Negative Emotional Attractors inspire sustained, desired change and learning at many levels.",include:!0,small_icon_hover:"https://brbraitt-course-photos.s3.amazonaws.com/ec/846ea70a3c01d0b3ae27ad125023f3/147669568.jpg",name:"Inspiring Leadership through Emotional Intelligence"}],learner:[{short_name:"ml",description:"Learn about the most effective machine learning techniques, and gain practice implementing them and getting them to work for yourself.",include:!0,small_icon_hover:"https://s3.amazonaws.com/brbraitt/topics/ml/small-icon.hover.png",name:"Machine Learning"},{short_name:"insidetheinternet",description:"What is the Internet? How was it created? How does it work? How to we secure communications on the Internet?",include:!0,small_icon_hover:"https://s3.amazonaws.com/brbraitt/topics/insidetheinternet/small-icon.hover.png",name:"Internet History, Technology, and Security"},{short_name:"musicproduction",description:"Learn about the music production processâincluding recording, editing, and mixingâand the tools available to you to create contemporary music on your computer.",include:!0,small_icon_hover:"https://brbraitt-course-photos.s3.amazonaws.com/c4/c514758cc151d86f66c9b853ec52aa/production-large.jpg",name:"Introduction to Music Production"}]}}),!function(){var Tooltips=function($,LucidJS,_,DataAttributes){var _private={defaults:{"bind.open":"mouseenter","bind.close":"mouseleave","animate.in.type":"custom","animate.in.from":'{"opacity":0}',"animate.in.to":'{"opacity":0.8}',"animate.in.duration":200,"animate.out.type":"custom","animate.out.from":'{"opacity":0.8}',"animate.out.to":'{"opacity":0}',"animate.out.duration":200,position:"top",style:"tooltip","style.z-index":1e6,offset:10,"attribute.tooltip":"data-tooltip"},tooltip:$("<div>"),getTooltip:function(el,options){var tooltip=$(el).data("tooltip.me");if(tooltip&&tooltip.constructor==Tooltip.prototype.constructor)if(_private.build.call(tooltip,options?options.text:null),options)return tooltip.customize(options);else return tooltip;else return null},makeTooltip:function(el,settings){var $el=$(el),tooltip=_private.getTooltip($el);if(!tooltip)tooltip=new Tooltip($el,settings),$el.data("tooltip.me",tooltip);return _private.build.call(tooltip,settings?settings.text:null),tooltip},show:function(){this.emitter.trigger("show",this)},close:function(){this.$tooltip.hide().remove(),this.emitter.trigger("close",this)},build:function(_text){var arrow=$("<div>").addClass(this.options.style+"-arrow"),inner=$("<div>").addClass(this.options.style+"-inner"),text=_text||this.$el.attr(this.options["attribute.tooltip"]);this.$tooltip=_private.tooltip.empty().remove().removeClass().stop(!0,!0).addClass(this.options.style).addClass(this.options.position).css({visibility:"hidden",position:"absolute",display:"block","z-index":this.options["style.z-index"]}).append(arrow).append(inner.html(text))}},Tooltip=function(el,settings){this.$el=$(el),this.customize(settings),this.emitter=LucidJS.emitter(this)};Tooltip.prototype.customize=function(settings){if(this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-tooltip-"),settings),this.options.offset)this.options.offset=parseInt(this.options.offset,10)||0;return this},Tooltip.prototype.open=function(){var that=this,position=this.$el.offset(),position2=this.$tooltip.appendTo("body").offset(),width=this.$el.outerWidth(),height=this.$el.outerHeight(),width2=this.$tooltip.outerWidth(),height2=this.$tooltip.outerHeight(),middleW=position.left+width/2,middleH=position.top+height/2;if("top"==this.options.position)this.$tooltip.css({left:middleW-width2/2,top:position.top-height2-this.options.offset});else if("left"==this.options.position)this.$tooltip.css({left:position.left-width2-this.options.offset,top:middleH-height2/2});else if("right"==this.options.position)this.$tooltip.css({left:position.left+width+this.options.offset,top:middleH-height2/2});else this.$tooltip.css({left:middleW-width2/2,top:position.top+height+this.options.offset});if("custom"==this.options["animate.in.type"]){if(this.options["animate.in.from"])if(_.isObject(this.options["animate.in.from"]))this.$tooltip.css(this.options["animate.in.from"]);else if(_.isString(this.options["animate.in.from"]))this.$tooltip.css($.parseJSON(this.options["animate.in.from"]));if(this.$tooltip.css({visibility:"visible",display:"block"}),this.options["animate.in.to"])if(_.isObject(this.options["animate.in.to"]))this.$tooltip.animate(this.options["animate.in.to"],{duration:this.options["animate.in.duration"],complete:_.bind(_private.show,this)});else if(_.isString(this.options["animate.in.to"]))this.$tooltip.animate($.parseJSON(this.options["animate.in.to"]),{duration:this.options["animate.in.duration"],complete:_.bind(_private.show,this)})}else this.emitter.trigger("opening",this),this.$tooltip.css({display:"block"}),_private.show.call(this);return this},Tooltip.prototype.close=function(){if("custom"==this.options["animate.out.type"]){if(this.options["animate.out.from"])if(_.isObject(this.options["animate.out.from"]))this.$tooltip.css(this.options["animate.out.from"]);else if(_.isString(this.options["animate.out.from"]))this.$tooltip.css($.parseJSON(this.options["animate.out.from"]));if(this.options["animate.out.to"])if(_.isObject(this.options["animate.out.to"]))this.$tooltip.animate(this.options["animate.out.to"],{duration:this.options["animate.out.duration"],complete:_.bind(_private.close,this)});else if(_.isString(this.options["animate.out.to"]))this.$tooltip.animate($.parseJSON(this.options["animate.out.to"]),{duration:this.options["animate.out.duration"],complete:_.bind(_private.close,this)});this.emitter.trigger("closing",this)}else this.emitter.trigger("closing",this),_private.close.call(this)};var external=function(){return _private.getTooltip.apply(null,arguments)||_private.makeTooltip.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),options=_.extend({},_private.defaults,_options);$view.on(options["bind.open"]+".tooltip","["+options["attribute.tooltip"]+"]",function(e){var $anchor=$(this);if("disabled"!=$anchor.attr("disabled")){options=_.extend({},_options,DataAttributes.parse($anchor,_private.defaults,"data-tooltip-"));var tooltip=_private.makeTooltip($anchor,options);if($anchor.attr(options["attribute.tooltip"]))tooltip.open(),tooltip.on("open",function(){$anchor.data("tooltip.it",tooltip)}),tooltip.on("close",function(){$anchor.data("tooltip.it",null)})}}),$view.on(options["bind.close"]+".tooltip","["+options["attribute.tooltip"]+"]",function(e){var $anchor=$(this);options=_.extend({},_options,DataAttributes.parse($anchor,_private.defaults,"data-tooltip-"));var tooltip=_private.getTooltip($anchor,options);if(tooltip)tooltip.close()})},external.stop=function(view){var $view=$(view),pop=$view.data("tooltip.it");if($view.off(".tooltip"),tooltip)tooltip.close()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/tooltips",["jquery","js/lib/lucid","underscore","js/lib/data.attributes"],function($,LucidJS,_,DataAttributes){return Tooltips($,LucidJS,_,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.Tooltip=Tooltips(window.$,window.LucidJS,window._,window.DataAttributes)}(),define("pages/home/account/courseList",["jquery","backbone","underscore","js/core/brbraitt","pages/home/template/body","pages/home/assessApi","pages/home/account/courseList.html","i18n!pages/home/account/nls/courseList","pages/home/account/courseMini.html","i18n!pages/home/account/nls/courseMini","i18n!js/json/nls/universities","i18n!js/json/nls/topics","pages/home/front/frontTopicIcon.html","i18n!pages/home/front/nls/frontTopicIcon","pages/home/front/frontSearchBanner","js/collections/courses","js/collections/topics","js/lib/moment","js/lib/q","js/lib/util","js/lib/cookie","js/lib/modals","js/json/promos","js/json/featuredClasses","js/lib/tooltips","js/lib/brbraitt.ab","js/lib/language"],function($,Backbone,_,brbraitt,body,assessApi,template,template_t,courseTemplate,courseTemplate_t,universities_t,topics_t,topicTemplate,topicTemplate_t,FrontSearchBanner,Courses,Topics,moment,Q,util,cookie,Modal,promos,featuredClasses,tooltips,AB,language){courseTemplate_t=courseTemplate_t.merge(universities_t,topics_t),topicTemplate_t=topicTemplate_t.merge(universities_t,topics_t);
var accountCoursesBody=body.extend({initPersonas:function(){var self=this;brbraitt.api.get("university/list",{data:{"signature-track":!0}}).done(function(response){var randomUniversity=response[Math.floor(Math.random()*response.length)],universitySignatureIcon="https://s3.amazonaws.com/brbraitt/universities/"+randomUniversity.short_name+"/signature-cert-corner.png";self.$(".brbraitt-persona-sigtrack-icon").attr("src",universitySignatureIcon)});var trackPersonas=function(eventname,value,options){if(options=options||{},!options.silent)brbraitt.multitracker.push([eventname,value])},silent;_.each([0,1,2],function(i){var $personaOption=$(self.$(".brbraitt-persona-option:eq("+i+")")),$personaSubview=$(".brbraitt-persona-subview:eq("+i+")"),personaTitle=$($personaOption.find(".brbraitt-persona-option-title")).text().toLowerCase();$personaOption.bind("click",function(){var $this=$(this);$(".brbraitt-persona-subview").hide(),$personaSubview.show(),$(".brbraitt-persona-title").removeClass("active"),$personaOption.find(".brbraitt-persona-title").addClass("active"),$(".brbraitt-persona-option").removeClass("active"),$this.addClass("active"),trackPersonas("user.click.personas",personaTitle,{silent:silent})}),$($personaSubview.find(".brbraitt-persona-course-recommend > a")).bind("click",function(e){var href=util.getUrlPath($(e.currentTarget).attr("href"));trackPersonas("user.click.personas-course-link",href,{silent:silent})}),$($personaSubview.find(".brbraitt-persona-sigtrack-link")).bind("click",function(){trackPersonas("user.click.personas-sigtrack",personaTitle,{silent:silent}),window.location.href="signature"})});var randomInitialPersona=Math.floor(3*Math.random());silent=!0,$(self.$(".brbraitt-persona-option:eq("+randomInitialPersona+")")).click(),silent=!1},initialize:function(){function renderAll(){var pollLoadDefer=Q.defer(),recommendedLoadDefer=Q.defer(),promises=[pollLoadDefer.promise,recommendedLoadDefer.promise];brbraitt.user.getTopics(!0).done(function(){self.renderRecommendedModule(recommendedLoadDefer),self.renderMyCourses(!0),self.renderSubscriptionsMaybe()}),self.renderedSubscriptions=!1,$(window).on("scroll.subscriptionsload",_.bind(self.renderSubscriptionsMaybe,self)),self.renderSidebarModule(promises,pollLoadDefer)}var self=this;document.title="Your Courses | brbraitt",self.bind("view:appended",function(){self.initPersonas(),renderAll(),self.$(".brbraitt-show-all-courses").bind("click",function(){self.renderMyCourses(!1),self.$(".brbraitt-show-all-courses").hide()})}),self.bind("view:closed",function(){window.clearInterval(self.updateTimer),Modal(self.$(".modal")).close(),self.closeTooltips()})},events:{"click [data-unenroll-course-id]":"unEnrollPrompt","click .brbraitt-profile-button-unenroll-now":"unEnroll","click .brbraitt-profile-button-unenroll-cancel":"unEnrollCancel","click .brbraitt-course-button":"onGoToClassClick","click .brbraitt-dashboard-course-listing-box-university a":"onUniLinkClick","click .brbraitt-dashboard-course-listing-box-name a":"onCourseLinkClick","click .brbraitt-dashboard-course-listing-box-links .internal-home":"onCourseInfoLinkClick","click .brbraitt-dashboard-subscriptions-section .brbraitt-course-card-image a":"onWatchlistCourseImageClick","click .brbraitt-dashboard-subscriptions-section .brbraitt-course-card-details a":"onWatchlistCourseLinkClick","click .brbraitt-front-sidebar-module-recommended-course a":"onRecommendedCourseClick"},closeTooltips:function(){$(".tooltip").each(function(){var tooltip=tooltips(this);tooltip.close()})},_trackEvent:function(name,value){brbraitt.multitracker.push(["user.click."+name,value])},_trackCourseLink:function(e,name){var $box=$(e.currentTarget).parents(".brbraitt-dashboard-course-listing-box"),courseId=$box.data("course-id"),index=$box.index();this._trackEvent(name,{courseId:courseId,index:index})},onGoToClassClick:function(e){this._trackCourseLink(e,"courses-gotoclass-button")},onUniLinkClick:function(e){this._trackCourseLink(e,"courses-uni-link")},onCourseLinkClick:function(e){this._trackCourseLink(e,"courses-course-link")},onCourseInfoLinkClick:function(e){this._trackCourseLink(e,"courses-course-info-link")},_trackWatchlistClick:function(e,name){var $target=$(e.currentTarget),courseLink=util.getUrlPath($target.attr("href")),index=$target.parents(".brbraitt-course-card").index();this._trackEvent(name,{link:courseLink,index:index})},onWatchlistCourseImageClick:function(e){this._trackWatchlistClick(e,"watchlist-course-image")},onWatchlistCourseLinkClick:function(e){this._trackWatchlistClick(e,"watchlist-course-link")},onRecommendedCourseClick:function(e){var $target=$(e.target).closest(".brbraitt-front-sidebar-module-recommended-course"),topicId=$target.data("topic-id"),index=$target.index(),topicIds=_.map(brbraitt.user.get("topics").models,function(enrolledTopic){return enrolledTopic.get("id")});brbraitt.multitracker.push(["course-list.recommended-topics.click",index+"_"+topicIds.join()+"_"+topicId])},render:function(){var self=this,expHomepageNuxButton=AB.user.getExperiment("homepage-nux-button").getChosenVariant();if(!self.$el.find(".brbraitt-profile-mini-section").size())self.$el.html(template({_t:template_t,config:brbraitt.config,featuredClasses:featuredClasses,expHomepageNuxButton:expHomepageNuxButton}));return self},renderSubscriptionsMaybe:function(){var self=this;if(util.inView(self.$(".brbraitt-dashboard-subscriptions-section"),100)){if(!self.renderedSubscriptions)self.fetchSubscriptions();$(window).off("scroll.subscriptionsload"),self.renderedSubscriptions=!0}},fetchSubscriptions:function(){var self=this;Q.allSettled([Topics.singletonReadAll(),brbraitt.user.getSubscriptions()]).spread(function(topicsP,subsP){self.renderSubscriptions(topicsP.value)})},renderSidebarModule:function(promises,pollLoadDefer){var self=this,allLoaded=Q.all(promises);allLoaded.then(function(states){self.$(".brbraitt-front-sidebar-module-loading-message").hide();var pollState=states[0],recommendedState=states[1];if("visible"==pollState)self.$(".brbraitt-front-sidebar-module-poll").show();if("visible"==recommendedState)self.$(".brbraitt-front-sidebar-module-recommended").show()}).done();var assessmentId="0ci5djHTEeO2oCIACpAJcg@1";if(null!==cookie.get("quickQuestionsAssessmentId"))assessmentId=cookie.get("quickQuestionsAssessmentId");var shortLanguageCode=language.shortenLanguageCode(language.getLanguageCode())||"en";if("en"==shortLanguageCode)self.region.append("bundles/assess/assessmentTypes/quickQuestions/assessment",{initialize:{assessmentId:assessmentId,api:assessApi,loadDefer:pollLoadDefer},to:self.$(".brbraitt-front-sidebar-module-poll")});else pollLoadDefer.resolve("hidden")},renderRecommendedModule:function(recommendedLoadDefer){var self=this;self.region.append("pages/home/account/recommendedSidebarModule",{initialize:{loadDefer:recommendedLoadDefer},to:self.$(".brbraitt-front-sidebar-module-recommended")})},renderSubscriptions:function(topics){var self=this;if(self.$el.find(".brbraitt-dashboard-subscriptions-loading").hide(),self.$(".brbraitt-front-section-watchlist-header").hide(),self.$(".brbraitt-dashboard-subscriptions-section").hide(),brbraitt.user.get("subscriptions").length){var topicsShown=0;topics.each(function(topic){if(brbraitt.user.isSubscribedToTopic(topic))self.$(".brbraitt-front-section-watchlist-header").show(),self.$(".brbraitt-dashboard-subscriptions-section").show(),topicsShown++,self.$el.find(".brbraitt-dashboard-subscriptions-section").append(topicTemplate({_t:topicTemplate_t,topic:topic,config:brbraitt.config,_:_}))})}},renderMyCourses:function(hideOldCourses){function updateTime(){self.$(".brbraitt-course-listing-starts time").each(function(){var startTime=$(this).attr("datetime"),duration=moment(parseInt(startTime,10)).diff(moment(new Date)),countdown=moment(duration).format("D [days,] h [hours,] m [minutes, and] s [seconds]");$(this).text(countdown)})}var self=this;self.$(".brbraitt-dashboard-enrollments-loading").hide(),self.$(".brbraitt-dashboard-enrollments-list").empty();var numCoursesShown=0,numCoursesHidden=0,hideExtraCourses=hideOldCourses&&brbraitt.user.get("courses").size()>3;if(_.each(Courses.byTime(brbraitt.user.get("courses")),function(course){var courseRecord=course.get("record"),endDate=moment(course.getStartDateMoment());if(null!=endDate)endDate.add("weeks",course.getDurationWeeks()+6);var certIsNotReady=course.get("eligible_for_certificates")&&!course.certificateIsReady(),hasCert=null!=courseRecord.achievement_level&&courseRecord.achievement_level>0,courseIsRecent=null==endDate||null!=endDate&&endDate>moment(new Date);if(!hideExtraCourses||hasCert||certIsNotReady||courseIsRecent||course.get("self_study"))self.$el.find(".brbraitt-dashboard-enrollments-list").append(courseTemplate({_t:courseTemplate_t,course:course,config:brbraitt.config,_:_,user:brbraitt.user})),numCoursesShown++;else numCoursesHidden++}),self.$el.find(".brbraitt-dashboard-enrollments-list .brbraitt-dashboard-abtest-go-to-class").on("click",function(){AB.user.getExperiment("improve_list_my2").convert("go_to_class")}),numCoursesHidden>0)self.$(".brbraitt-show-all-courses").show();if(2>=numCoursesShown){var frontBanner=new FrontSearchBanner({signedInUser:!0});frontBanner.render(),self.$(".brbraitt-search-banner").html(frontBanner.$el).show()}if(0===numCoursesShown+numCoursesHidden)self.$(".brbraitt-dashboard-no-enrollments-message").show();else self.$(".brbraitt-dashboard-help-link").show();self.updateTimer=window.setInterval(updateTime,1e3),updateTime(),self.setupPromo()},setupPromo:function(){var self=this,showPromo=1===Math.floor(500*Math.random()),promoId="brbraitt-promo-betaclub";if(showPromo&&brbraitt.user.get("courses").size()>0&&!cookie.get(promoId)){var $promo=self.$("#"+promoId);$promo.show(),brbraitt.multitracker.push(["user.promo.show."+promoId]),$promo.find(".close").on("click",function(){$promo.hide(),cookie.set(promoId,"closed"),brbraitt.multitracker.push(["user.promo.close."+promoId])}),$promo.find("a").on("click",function(){brbraitt.multitracker.push(["user.promo.click."+promoId])})}},unEnrollPrompt:function(e){var courseId=$(e.target).attr("data-unenroll-course-id");if(this.selected=brbraitt.user.get("courses").find(function(course){return course.get("id")==courseId}),this.$(".brbraitt-profile-unenroll-title").empty().append(this.selected.get("topic").get("name")),$(e.target).attr("is_signature_track"))Modal(this.$(".brbraitt-profile-modal-unenroll-signature-track")).open(),brbraitt.multitracker.push(["user.unenroll.siganture_track.prompt",this.selected.id]);else Modal(this.$(".brbraitt-profile-modal-unenroll")).open(),brbraitt.multitracker.push(["user.unenroll.prompt",this.selected.id])},unEnrollCancel:function(){brbraitt.multitracker.push(["user.unenroll.cancel",this.selected.id]),this.selected=null,Modal(this.$(".brbraitt-profile-modal-unenroll")).close()},unEnroll:function(){var self=this;this.$(".brbraitt-profile-button-unenroll-now").hide(),this.$(".brbraitt-profile-button-unenroll-cancel").hide(),this.$(".brbraitt-profile-button-unenroll-waiting").show(),brbraitt.user.unenroll(self.selected.get("id"),function(err){if(err)brbraitt.router.trigger("error",500,location.href,{message:"failed to unenroll user"});else{brbraitt.user.get("courses").remove(self.selected),Modal(self.$(".brbraitt-profile-modal-unenroll")).close(),self.$(".brbraitt-profile-button-unenroll-waiting").hide(),self.$(".brbraitt-profile-button-unenroll-cancel").show(),self.$(".brbraitt-profile-button-unenroll-now").show();var topicShortName=self.selected.get("topic").get("short_name"),surveys={writing2:"1pGq1bpzcz0Z6hKdN9mRp1w5kRR9_dNCq-53pO9gXZ24",techcity:"1Qxi9oKoRL83pND658XqFM5PYARL-RHdwRZ8mVsGHK4A",calc1:"1WE6_Szq0rk2erdnjgJfB8BIJbiJLp2bLss3ipMEcYBo",sequence:"1LtJxHWxqdoWGvEBkopB9r6pPGs8I-t9UDkluZnGHU_4",intropharma:"1xmRojoxbWx5fHilv7-CbpYJj8-BJvkVAXK6CiftHRYs",genrx:"1_N4buGAfkxbUFc9JivsRBCrIm0wPsldjpBd30yvs0go"};if(surveys[topicShortName]){var $unenrollSurvey=self.$(".brbraitt-profile-modal-unenroll-survey");$unenrollSurvey.find("a").attr("href","https://docs.google.com/forms/d/"+surveys[topicShortName]+"/viewform?pli=1"),Modal($unenrollSurvey).open()}self.selected=null,self.renderMyCourses(!0)}}),brbraitt.multitracker.push(["user.unenroll.click",this.selected.id])}});return accountCoursesBody}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div class="brbraitt-full-canvas brbraitt-catalog"><div data-affix="data-affix" class="row-fluid brbraitt-catalog-toolbar"><div class="span12"><div class="brbraitt-catalog-toolbar-body"><label for="brbraitt-catalog-search-id" style="display:none;">'+jade.escape(null==(jade.interp=_t("Search by course name, category, university, or instructor"))?"":jade.interp)+"</label><input"+jade.attrs({id:"brbraitt-catalog-search-id",type:"search",placeholder:_t("Search by course name, category, university, or instructor"),name:"search",id:"search","class":["brbraitt-catalog-search","input-large","search-query"]},{id:!0,type:!0,placeholder:!0,name:!0})+'/><div class="brbraitt-catalog-partners"></div></div></div></div><div class="row-fluid brbraitt-catalog-results"><div class="span3"><div class="brbraitt-catalog-sidebar"><div style="border-bottom:1px solid #CCC; padding:14px 0px 12px 4px;"><span class="brbraitt-catalog-sort-title">'+jade.escape(null==(jade.interp=_t("Sort by"))?"":jade.interp)+' </span><select aria-label="Sort by" style="width:150px; margin-left: 2px; margin-bottom:0px;" class="brbraitt-catalog-sort"><option value="upcoming">'+jade.escape(null==(jade.interp=_t("Starting soon"))?"":jade.interp)+'</option><option value="new">'+jade.escape(null==(jade.interp=_t("Newest courses"))?"":jade.interp)+'</option></select></div></div></div><div class="span9"><div class="brbraitt-catalog-listings"></div><div style="display:none;" class="brbraitt-catalog-load-more-box"><a>Load More Results...</a></div><div style="display:none;" class="brbraitt-catalog-listings-statesystems-container"><h2>US State Institutions</h2><div class="brbraitt-catalog-listings-statesystems"></div></div><div style="display:none;" class="brbraitt-catalog-loading-box"><span>'+jade.escape(null==(jade.interp=_t("Loading courses..."))?"":jade.interp)+'</span></div><div style="display:none;" class="brbraitt-catalog-noresults-box"><span>'+jade.escape(null==(jade.interp=_t("No results."))?"":jade.interp)+'</span></div><div style="display:none;" class="brbraitt-catalog-error-box"><span>'+jade.escape(null==(jade.interp=_t("Error loading courses."))?"":jade.interp)+"</span></div></div></div></div></div>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/catalog/catalogBody.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.catalog.catalogBody"]=jadify(wndw.jade.helpers)}(window),define("pages/home/catalog/nls/catalogBody",{root:!0,zh:!0}),define("pages/home/catalog/nls/root/catalogBody",{"Search by course name, category, university, or instructor":"Search by course name, category, university, or instructor","Sort by":"Sort by","Starting soon":"Starting soon","Newest courses":"Newest courses","Loading courses...":"Loading courses...","No results.":"No results.","Error loading courses.":"Error loading courses."}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,st_chosen=locals_.st_chosen,topicsInfo=locals_.topicsInfo,config=locals_.config,showInlineEnroll=locals_.showInlineEnroll,yellowBadge=locals_.yellowBadge;_t="undefined"!=typeof _t?_t:function(s){return s};var sigtrack_mixin=function(config,topic,universities,showInlineEnroll,yellowBadge){var block=this.block,attributes=this.attributes||{},escaped=this.escaped||{};if(topic.hasEligibleForSignatureTrack()){var modalClass="brbraitt-catalog-sigtrack-modal-"+topic.get("id"),university_short_name=universities[0].get("short_name");if(topic.hasOpenEnrollForSignatureTrack()){if(buf.push("<a"+jade.attrs({"data-modal":"."+modalClass,style:yellowBadge?"background-color:#ddc000;":"","class":["brbraitt-catalog-listing-secondary-item","brbraitt-catalog-list-secondary-sigtrack","brbraitt-catalog-listing-secondary-sigtrack-open"]},{"data-modal":!0,style:!0})+">"),st_chosen)buf.push(""+jade.escape(null==(jade.interp=_t("Signature Track"))?"":jade.interp));else buf.push(""+jade.escape(null==(jade.interp=_t("Verified Certificate"))?"":jade.interp));buf.push("</a><div"+jade.attrs({"data-modal-position":"fixed","data-modal-position-top":"100px","data-modal-overlay-class":"brbraitt-overlay","data-modal-overlay-close":"true","class":["modal","hide","brbraitt-catalog-sigtrack-modal",modalClass]},{"class":!0,"data-modal-position":!0,"data-modal-position-top":!0,"data-modal-overlay-class":!0,"data-modal-overlay-close":!0})+'><div class="modal-header"><img'+jade.attrs({src:config.url.assets+"pages/signature/views/ribbon_stripes.png","class":["brbraitt-signature-modal-ribbon"]},{src:!0})+"/><h2>"+jade.escape(null==(jade.interp=_t("Verified Certificates with Signature Track"))?"":jade.interp)+'</h2></div><div style="margin-left: 0px; padding: 30px;" class="row"><div style="text-align: center" class="span4"><img'+jade.attrs({style:"margin-top: 20px",src:"https://s3.amazonaws.com/brbraitt/universities/"+university_short_name+"/signature-cert-icon.png"},{style:!0,src:!0})+'/></div><div class="span8"><p>'+jade.escape(null==(jade.interp=_t("Join this course's Signature Track and earn an official Verified Certificate from the school and brbraitt."))?"":jade.interp)+"</p><ul><li>"+jade.escape(null==(jade.interp=_t("Show the world your achievement"))?"":jade.interp)+"</li><li>"+jade.escape(null==(jade.interp=_t("Share your course record with employers and universities"))?"":jade.interp)+"</li><li>"+jade.escape(null==(jade.interp=_t("Prove it's your work, your identity"))?"":jade.interp)+'</li></ul></div></div><div style="text-align: center; margin-top: -10px; margin-bottom: 20px;"><a'+jade.attrs({href:config.dir.home+"signature/course/"+topic.get("short_name")+"/"+topic.get("open_course").get("id")+"?utm_source=catalog",target:"_blank"},{href:!0,target:!0})+">"+(null==(jade.interp=_t("Learn more about Signature Track &raquo;"))?"":jade.interp)+"</a></div></div>")}else{if(buf.push("<a"+jade.attrs({"data-modal":"."+modalClass,style:yellowBadge?"background-color:#ddc000;opacity:0.5":"","class":["brbraitt-catalog-listing-secondary-item","brbraitt-catalog-list-secondary-sigtrack","brbraitt-catalog-listing-secondary-sigtrack-not-open"]},{"data-modal":!0,style:!0})+">"),st_chosen)buf.push(""+jade.escape(null==(jade.interp=_t("Signature Track"))?"":jade.interp));else buf.push(""+jade.escape(null==(jade.interp=_t("Verified Certificate"))?"":jade.interp));buf.push("</a><div"+jade.attrs({style:"width: 610px","data-modal-position":"fixed","data-modal-position-top":"100px","data-modal-overlay-class":"brbraitt-overlay","data-modal-overlay-close":"true","class":["modal","hide","brbraitt-catalog-sigtrack-modal-disabled",modalClass]},{"class":!0,style:!0,"data-modal-position":!0,"data-modal-position-top":!0,"data-modal-overlay-class":!0,"data-modal-overlay-close":!0})+'><div class="modal-header"><img'+jade.attrs({src:config.url.assets+"pages/signature/views/ribbon_stripes.png","class":["brbraitt-signature-modal-ribbon"]},{src:!0})+"/><h2>"+jade.escape(null==(jade.interp=_t("Signature Track Registration is currently closed"))?"":jade.interp)+'</h2></div><div style="margin-top: 5px; margin-left: 0px; padding: 30px;" class="row"><div style="text-align: center" class="span4"><img'+jade.attrs({style:"margin-top: 20px",src:"https://s3.amazonaws.com/brbraitt/universities/"+university_short_name+"/signature-cert-icon.png"},{style:!0,src:!0})+'/></div><div class="span8"><p>'+jade.escape(null==(jade.interp=_t("Join this course's Signature Track and earn an official Verified Certificate from the school and brbraitt."))?"":jade.interp)+"</p><ul><li>"+jade.escape(null==(jade.interp=_t("Show the world your achievement"))?"":jade.interp)+"</li><li>"+jade.escape(null==(jade.interp=_t("Share your course record with employers and universities"))?"":jade.interp)+"</li><li>"+jade.escape(null==(jade.interp=_t("Prove it's your work, your identity"))?"":jade.interp)+'</li></ul></div></div><div style="text-align: center; margin-top: -10px; margin-bottom: 20px;"><a'+jade.attrs({href:config.dir.home+"signature/guidebook",target:"_blank"},{href:!0,target:!0})+">"+(null==(jade.interp=_t("Learn more about Signature Track &raquo;"))?"":jade.interp)+"</a></div></div>")}}};return function(){var $$obj=topicsInfo;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var topicInfo=$$obj[$index],topic=topicInfo.topic,universities=topicInfo.universities,instructors=topicInfo.instructors;buf.push("<div"+jade.attrs({"data-topic-id":topic.get("id"),"class":["brbraitt-catalog-course-listing-box"]},{"data-topic-id":!0})+'><div class="row-fluid"><div class="span2"><img'+jade.attrs({src:topic.get("small_icon_hover"),alt:"",role:"presentation","class":["brbraitt-catalog-listing-thumbnail"]},{src:!0,alt:!0,role:!0})+'/></div><div class="span7"><div class="brbraitt-catalog-listing-text"><div class="brbraitt-catalog-listing-primary"><span class="brbraitt-catalog-listing-university">');for(var i=0;i<universities.length;i++){var university=universities[i];if(buf.push("<a"+jade.attrs({href:config.dir.home+university.get("short_name"),"class":["brbraitt-catalog-listing-secondary-link","internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(university.get("name")))?"":jade.interp)+'<span class="brbraitt-catalog-listing-secondary-link-target"></span></a>'),i<universities.length-2)buf.push("<span>, </span>");else buf.push("<span></span>");if(universities.length>1&&i==universities.length-2)buf.push("<span> "+(null==(jade.interp=_t("&amp;"))?"":jade.interp)+" </span>")}buf.push('</span><span class="brbraitt-catalog-listing-coursename"><a'+jade.attrs({href:config.dir.home+"course/"+topic.get("short_name"),"class":["brbraitt-catalog-listing-courselink","internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(topic.get("name")))?"":jade.interp)),buf.push('<span class="brbraitt-catalog-listing-course-link-box"></span></a></span><span class="brbraitt-catalog-listing-instructor">'+jade.escape(null==(jade.interp=_t("with"))?"":jade.interp)+" ");for(var i=0;i<instructors.length;i++){var instructor=instructors[i];if(buf.push("<a"+jade.attrs({href:instructor.getLink(),"class":["internal-home","brbraitt-catalog-listing-secondary-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(instructor.get("full_name")))?"":jade.interp)+'<span class="brbraitt-catalog-listing-secondary-link-target"></span></a>'),i<instructors.length-2)buf.push("<span>, </span>");else buf.push("<span></span>");if(instructors.length>1&&i==instructors.length-2)buf.push("<span> "+(null==(jade.interp=_t("&amp;"))?"":jade.interp)+" </span>")}if(buf.push('</span></div></div></div><div class="span3"><div class="brbraitt-catalog-listing-secondary">'),topic.get("open_course")){if(buf.push('<span class="brbraitt-catalog-listing-secondary-item">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartDisplay()))?"":jade.interp)+"</span>"),topic.get("open_course").get("duration_string"))buf.push('<span class="brbraitt-catalog-listing-secondary-item">'+jade.escape(null==(jade.interp=_t("#{topic.get('open_course').get('duration_string')} long",{"topic.get('open_course').get('duration_string')":topic.get("open_course").get("duration_string")}))?"":jade.interp)+"</span>");var klass="brbraitt-catalog-listing-secondary-item brbraitt-catalog-listing-secondary-inline-enroll-button btn-flat";if(showInlineEnroll)if(topic.get("open_course").get("user_is_enrolled"))if(topic.get("open_course").get("active"))buf.push("<a"+jade.attrs({href:topic.get("open_course").get("home_link"),"class":[klass+" enrolled btn-flat-success"]},{"class":!0,href:!0})+'><span class="goto-msg">'+jade.escape(null==(jade.interp=_t("Go to Class"))?"":jade.interp)+"</span></a>");else buf.push("<a"+jade.attrs({href:config.dir.home+"course/"+topic.get("short_name"),"class":[klass+" enrolled btn-flat-success"]},{"class":!0,href:!0})+'><span class="starts-msg">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartCountdown()))?"":jade.interp)+"</span></a>");else buf.push("<a"+jade.attrs({"class":[klass+" "+showInlineEnroll]},{"class":!0})+'><span class="enroll-msg">'+jade.escape(null==(jade.interp=_t("Enroll"))?"":jade.interp)+'</span><span class="success-msg hide">'+jade.escape(null==(jade.interp=_t("Success!"))?"":jade.interp)+'</span><span class="starts-msg hide">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartCountdown()))?"":jade.interp)+'</span><span class="goto-msg hide">'+jade.escape(null==(jade.interp=_t("Go to Class"))?"":jade.interp)+'</span><i style="display:none;" class="icon-spinner icon-spin icon-large"></i></a>')}else buf.push('<span class="brbraitt-catalog-listing-secondary-item brbraitt-catalog-listing-secondary-inactive">'+jade.escape(null==(jade.interp=_t("There are no open sessions."))?"":jade.interp)+"</span>");sigtrack_mixin(config,topic,universities,showInlineEnroll,yellowBadge),buf.push("</div></div></div></div>")}else{var $$l=0;for(var $index in $$obj){$$l++;var topicInfo=$$obj[$index],topic=topicInfo.topic,universities=topicInfo.universities,instructors=topicInfo.instructors;buf.push("<div"+jade.attrs({"data-topic-id":topic.get("id"),"class":["brbraitt-catalog-course-listing-box"]},{"data-topic-id":!0})+'><div class="row-fluid"><div class="span2"><img'+jade.attrs({src:topic.get("small_icon_hover"),alt:"",role:"presentation","class":["brbraitt-catalog-listing-thumbnail"]},{src:!0,alt:!0,role:!0})+'/></div><div class="span7"><div class="brbraitt-catalog-listing-text"><div class="brbraitt-catalog-listing-primary"><span class="brbraitt-catalog-listing-university">');for(var i=0;i<universities.length;i++){var university=universities[i];if(buf.push("<a"+jade.attrs({href:config.dir.home+university.get("short_name"),"class":["brbraitt-catalog-listing-secondary-link","internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(university.get("name")))?"":jade.interp)+'<span class="brbraitt-catalog-listing-secondary-link-target"></span></a>'),i<universities.length-2)buf.push("<span>, </span>");else buf.push("<span></span>");if(universities.length>1&&i==universities.length-2)buf.push("<span> "+(null==(jade.interp=_t("&amp;"))?"":jade.interp)+" </span>")}buf.push('</span><span class="brbraitt-catalog-listing-coursename"><a'+jade.attrs({href:config.dir.home+"course/"+topic.get("short_name"),"class":["brbraitt-catalog-listing-courselink","internal-home"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(topic.get("name")))?"":jade.interp)),buf.push('<span class="brbraitt-catalog-listing-course-link-box"></span></a></span><span class="brbraitt-catalog-listing-instructor">'+jade.escape(null==(jade.interp=_t("with"))?"":jade.interp)+" ");for(var i=0;i<instructors.length;i++){var instructor=instructors[i];if(buf.push("<a"+jade.attrs({href:instructor.getLink(),"class":["internal-home","brbraitt-catalog-listing-secondary-link"]},{href:!0})+">"+jade.escape(null==(jade.interp=_t(instructor.get("full_name")))?"":jade.interp)+'<span class="brbraitt-catalog-listing-secondary-link-target"></span></a>'),i<instructors.length-2)buf.push("<span>, </span>");else buf.push("<span></span>");if(instructors.length>1&&i==instructors.length-2)buf.push("<span> "+(null==(jade.interp=_t("&amp;"))?"":jade.interp)+" </span>")}if(buf.push('</span></div></div></div><div class="span3"><div class="brbraitt-catalog-listing-secondary">'),topic.get("open_course")){if(buf.push('<span class="brbraitt-catalog-listing-secondary-item">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartDisplay()))?"":jade.interp)+"</span>"),topic.get("open_course").get("duration_string"))buf.push('<span class="brbraitt-catalog-listing-secondary-item">'+jade.escape(null==(jade.interp=_t("#{topic.get('open_course').get('duration_string')} long",{"topic.get('open_course').get('duration_string')":topic.get("open_course").get("duration_string")}))?"":jade.interp)+"</span>");var klass="brbraitt-catalog-listing-secondary-item brbraitt-catalog-listing-secondary-inline-enroll-button btn-flat";if(showInlineEnroll)if(topic.get("open_course").get("user_is_enrolled"))if(topic.get("open_course").get("active"))buf.push("<a"+jade.attrs({href:topic.get("open_course").get("home_link"),"class":[klass+" enrolled btn-flat-success"]},{"class":!0,href:!0})+'><span class="goto-msg">'+jade.escape(null==(jade.interp=_t("Go to Class"))?"":jade.interp)+"</span></a>");else buf.push("<a"+jade.attrs({href:config.dir.home+"course/"+topic.get("short_name"),"class":[klass+" enrolled btn-flat-success"]},{"class":!0,href:!0})+'><span class="starts-msg">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartCountdown()))?"":jade.interp)+"</span></a>");else buf.push("<a"+jade.attrs({"class":[klass+" "+showInlineEnroll]},{"class":!0})+'><span class="enroll-msg">'+jade.escape(null==(jade.interp=_t("Enroll"))?"":jade.interp)+'</span><span class="success-msg hide">'+jade.escape(null==(jade.interp=_t("Success!"))?"":jade.interp)+'</span><span class="starts-msg hide">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartCountdown()))?"":jade.interp)+'</span><span class="goto-msg hide">'+jade.escape(null==(jade.interp=_t("Go to Class"))?"":jade.interp)+'</span><i style="display:none;" class="icon-spinner icon-spin icon-large"></i></a>')}else buf.push('<span class="brbraitt-catalog-listing-secondary-item brbraitt-catalog-listing-secondary-inactive">'+jade.escape(null==(jade.interp=_t("There are no open sessions."))?"":jade.interp)+"</span>");sigtrack_mixin(config,topic,universities,showInlineEnroll,yellowBadge),buf.push("</div></div></div></div>")}}}.call(this),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/catalog/catalogListing.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.catalog.catalogListing"]=jadify(wndw.jade.helpers)}(window),define("pages/home/catalog/nls/catalogListing",{root:!0,zh:!0}),define("pages/home/catalog/nls/root/catalogListing",{"Signature Track":"Signature Track","Verified Certificate":"Verified Certificate","Verified Certificates with Signature Track":"Verified Certificates with Signature Track","Join this course's Signature Track and earn an official Verified Certificate from the school and brbraitt.":"Join this course's Signature Track and earn an official Verified Certificate from the school and brbraitt.","Show the world your achievement":"Show the world your achievement","Share your course record with employers and universities":"Share your course record with employers and universities","Prove it's your work, your identity":"Prove it's your work, your identity","Learn more about Signature Track &raquo;":"Learn more about Signature Track &raquo;","Signature Track Registration is currently closed":"Signature Track Registration is currently closed","&amp;":"&amp;","with":"with","#{topic.get('open_course').get('duration_string')} long":"#{topic.get('open_course').get('duration_string')} long","Go to Class":"Go to Class",Enroll:"Enroll","Success!":"Success!","There are no open sessions.":"There are no open sessions."}),define("js/models/tagset",["underscore","backbone"],function(_,Backbone){var tagset=Backbone.Model.extend({setInitialData:function(data){var parsed=this.parse(data),zeroed={};if(_.each(parsed,function(v,k){zeroed[k]=_.extend(_.clone(v),{count:0})}),this.set("initialData",zeroed,{silent:!0}),this.set("tags",parsed),this.get("waitingData"))this.setCurrentData(this.get("waitingData")),this.unset("waitingData",{silent:!0})
},setCurrentData:function(data){if(this.unset("waitingData",{silent:!0}),!this.has("initialData"))return this.set("waitingData",data,{silent:!0}),void 0;var parsed=this.parse(data);this.set("tags",_.extend(_.clone(this.get("initialData")),parsed))},parse:function(data){return data}});return tagset}),define("js/models/topicsearch",["jquery","backbone","underscore","js/collections/topics","js/models/tagset","js/core/brbraitt","js/lib/language","js/lib/brbraitt.ab"],function($,Backbone,_,Topics,TagSet,brbraitt,language,AB){function countValues(counts,values){_.each(values,function(value){if(_.has(counts,value.id))counts[value.id].count+=1;else counts[value.id]=value,counts[value.id].count=1})}function asyncSearch(topics,options,deferred){if(deferred.stopRunning)return deferred.reject(),void 0;if(options.search)topics=Topics.matchingSearch(topics,options.search);else topics=Topics.toArray(topics);var counts={};_.each(filterFields,function(field_function,field_name){counts[field_name]={}});var results=_.groupBy(topics,function(topic){var mismatchFieldName,numMismatchFields=0,filterFieldVals={};if(_.each(filterFields,function(field_function,field_name){if(filterFieldVals[field_name]=field_function(topic),filterFieldVals[field_name].push({id:"ALL",name:"ALL"}),!_.isUndefined(options[field_name])&&0===_.intersection(options[field_name],_.pluck(filterFieldVals[field_name],"id")).length)numMismatchFields+=1,mismatchFieldName=field_name}),0===numMismatchFields)_.each(filterFieldVals,function(values,field_name){countValues(counts[field_name],values)});else if(1===numMismatchFields)countValues(counts[mismatchFieldName],filterFieldVals[mismatchFieldName]);if(0===numMismatchFields)return"topics";else if(1===numMismatchFields)return mismatchFieldName;else return"unmatched"});delete results.unmatched;var sortFunc="upcoming"==options.orderby?Topics.byUpcoming:Topics.byAdded;_.each(results,function(topics,key){results[key]=sortFunc(topics)}),topics=results.topics,delete results.topics,deferred.resolve({topics:topics||[],mismatched:results,counts:counts})}var filterFields={ptypes:function(topic){var partnerValues=[];return _.each(topic.get("universities"),function(uni){if(!_.contains(_.pluck(partnerValues,"id"),uni.partner_type))partnerValues.push({id:uni.partner_type,name:uni.partner_type})}),partnerValues},unis:function(topic){var uniValues=[];return _.each(topic.get("universities"),function(uni){uniValues.push({id:uni.id.toString(),name:uni.name})}),uniValues},cats:function(topic){var catValues=[];return _.each(topic.get("categories"),function(cat){catValues.push({id:cat.short_name,name:cat.name})}),catValues},lngs:function(topic){return filterFields.subs(topic)},subs:function(topic){var languagesHash=language.languageCodeCSVtoLanguages(topic.get("subtitle_language_groups"));return _.map(languagesHash,function(lang,code){return{id:code,name:lang}})},certs:function(topic){if(topic.hasEligibleForSignatureTrack())return[{id:"st",name:"Signature Track"}];else return[]},stats:function(topic){if(topic.isUpcoming())return[{id:"upcoming",name:"Starting Soon"}];else return[]}},TopicSearch=Backbone.Model.extend({initialize:function(){var self=this;if(this.get("haveTagSets"))this.set("tagSets",{ptypes:new TagSet,unis:new TagSet,cats:new TagSet,lngs:new TagSet,subs:new TagSet,certs:new TagSet,stats:new TagSet}),this._setInitialCounts();this.set("collection",new Topics),this.get("collection").comparator=void 0,this.set("mismatched",{}),this.set("orderby","upcoming"),this.set("page-size",20),this.reset(),this.on("change:search",this.reset,this),this.on("change:orderby",this.reset,this),this.on("change:unis",this.reset,this),this.on("change:ptypes",this.reset,this),this.on("change:cats",this.reset,this),this.on("change:lngs",this.reset,this),this.on("change:subs",this.reset,this),this.on("change:certs",this.reset,this),this.on("change:stats",this.reset,this)},_getSearchOptions:function(){var options={search:this.get("search"),orderby:this.get("orderby"),cats:this.get("cats"),unis:this.get("unis"),ptypes:this.get("ptypes")||[1],lngs:this.get("lngs"),subs:this.get("subs"),certs:this.get("certs"),stats:this.get("stats")};return options},_getSearchResults:function(){var self=this;if(this.get("_searchResults"))return this.get("_searchResults");else{var deferred=$.Deferred();return this.set("_searchResults",deferred),Topics.singletonReadAll().done(function(topics){var options=self._getSearchOptions();_.defer(_.bind(asyncSearch,null,topics,options,deferred))}).fail(function(){self.trigger("topicLoadError")}),deferred}},fetchPage:function(){var self=this;self.trigger("startLoad"),this._getSearchResults().done(function(searchResults){var filteredTopics=searchResults.topics,startIdx=self.get("page-size")*self.get("_fetchedPages"),endIdx=Math.min(startIdx+self.get("page-size"),filteredTopics.length);if(self.get("collection").add(filteredTopics.slice(startIdx,endIdx)),self.set("mismatched",searchResults.mismatched),self.set("_fetchedPages",self.get("_fetchedPages")+1),endIdx==filteredTopics.length)self.set("fetchedAllPages",!0);self.trigger("finishLoad")})},_setInitialCounts:function(){var self=this;Topics.singletonReadAll().done(function(topics){var deferred=$.Deferred();deferred.done(function(searchResults){var counts=searchResults.counts;_.each(counts,function(tagSetCounts,tagSetName){self.get("tagSets")[tagSetName].setInitialData(tagSetCounts)})}),asyncSearch(topics,{},deferred)}).fail(function(){self.trigger("topicLoadError")})},_updateCounts:function(){var self=this;if(this.get("haveTagSets"))this._getSearchResults().done(function(searchResults){var counts=searchResults.counts;_.each(counts,function(tagSetCounts,tagSetName){self.get("tagSets")[tagSetName].setCurrentData(tagSetCounts)})})},reset:function(){if(this.set("_fetchedPages",0),this.set("fetchedAllPages",!1),this.get("_searchResults"))this.get("_searchResults").stopRunning=!0,this.unset("_searchResults");this.get("collection").reset(),this.trigger("reset"),this._updateCounts()}});return TopicSearch}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,tags=locals_.tags;return _t="undefined"!=typeof _t?_t:function(s){return s},function(){var $$obj=tags;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var tag=$$obj[$index];buf.push("<li"+jade.attrs({"data-id":tag.id,"class":["brbraitt-catalog-tag","brbraitt-catalog-tag-click","ALL"==tag.id?"brbraitt-catalog-tag-all":""]},{"class":!0,"data-id":!0})+'><div class="brbraitt-catalog-tag-checkbox-column"><input'+jade.attrs({type:"checkbox",checked:tag.shouldCheck?"checked":!1,"aria-label":""+tag.tagText,"class":["brbraitt-catalog-tag-checkbox"]},{type:!0,checked:!0,"aria-label":!0})+'/></div><div class="brbraitt-catalog-tag-text">'+jade.escape(null==(jade.interp=_t(tag.tagText).replace("Computer Science","CS"))?"":jade.interp)+'</div><div class="brbraitt-catalog-tag-count">'+jade.escape(null==(jade.interp=_t(tag.tagCount))?"":jade.interp)+"</div></li>")}else{var $$l=0;for(var $index in $$obj){$$l++;var tag=$$obj[$index];buf.push("<li"+jade.attrs({"data-id":tag.id,"class":["brbraitt-catalog-tag","brbraitt-catalog-tag-click","ALL"==tag.id?"brbraitt-catalog-tag-all":""]},{"class":!0,"data-id":!0})+'><div class="brbraitt-catalog-tag-checkbox-column"><input'+jade.attrs({type:"checkbox",checked:tag.shouldCheck?"checked":!1,"aria-label":""+tag.tagText,"class":["brbraitt-catalog-tag-checkbox"]},{type:!0,checked:!0,"aria-label":!0})+'/></div><div class="brbraitt-catalog-tag-text">'+jade.escape(null==(jade.interp=_t(tag.tagText).replace("Computer Science","CS"))?"":jade.interp)+'</div><div class="brbraitt-catalog-tag-count">'+jade.escape(null==(jade.interp=_t(tag.tagCount))?"":jade.interp)+"</div></li>")}}}.call(this),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/catalog/catalogTagListing.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.catalog.catalogTagListing"]=jadify(wndw.jade.helpers)}(window),define("js/json/nls/otherInterfaceStrings",{root:!0,zh:!0}),define("js/json/nls/root/otherInterfaceStrings",{"Starting Soon":"Starting Soon","All Languages":"All Languages","All Categories":"All Categories","Signature Track":"Signature Track","All Partners":"All Partners","show more":"show more","Eligible For":"Eligible For"}),define("pages/home/catalog/catalogTagListing",["jquery","underscore","js/core/brbraitt","backbone","js/lib/util","js/lib/brbraitt.ab","pages/home/catalog/catalogTagListing.html","i18n!js/json/nls/languages","i18n!js/json/nls/universities","i18n!js/json/nls/categories","i18n!js/json/nls/otherInterfaceStrings"],function($,_,brbraitt,Backbone,util,AB,template,languages_t,universities_t,categories_t,otherInterfaceStrings_t){var _t=languages_t.merge(universities_t,categories_t,otherInterfaceStrings_t),catalogTagListing=Backbone.View.extend({options:{name:"none",label:"none",shouldShow:void 0,orderBy:"count",numToShow:-1,showEmpty:!1,showAllTag:!0,header:void 0},events:{"click .brbraitt-catalog-tag-click":"clickTag","click .brbraitt-catalog-tag-showmore":"showMore"},initialize:function(){this.selections={},this.name=this.options.name},clickTag:function(evt){var id=$(evt.currentTarget).data("id"),checkbox=$(evt.currentTarget).find("input"),tag=_.find(this.data,function(tag){return tag.id==id}),tagName=tag?tag.name:"",eventName;if(_.has(this.selections,id))checkbox.prop("checked",!1),delete this.selections[id],eventName="deselect";else checkbox.prop("checked",!0),this.selections[id]=!0,eventName="select";brbraitt.multitracker.push(["user.brbraitt.catalog.tags."+eventName,this.options.name+"."+tagName]),this.checkSelectionConsistency("ALL"==id),this.trigger("selection",{target:this})},clearSelections:function(){this.selections={},this.$("input").each(function(){var checkbox=$(this);checkbox.prop("checked",!1)}),this.checkSelectionConsistency(!0)},setSelection:function(id){this.selections[id]=!0,this.$(".brbraitt-catalog-tag").each(function(){var $tag=$(this);if($tag.data("id")==id)$tag.find("input").prop("checked",!0)}),this.checkSelectionConsistency("ALL"==id)},checkSelectionConsistency:function(preferAll){if(this.options.showAllTag){var allTagSelected=_.has(this.selections,"ALL"),otherTagSelected=_.some(_.keys(this.selections),function(id){return"ALL"!=id});if(allTagSelected&&otherTagSelected)if(preferAll)this.clearSelections();else delete this.selections.ALL,this.$(".brbraitt-catalog-tag").each(function(){var $tag=$(this);if("ALL"==$tag.data("id"))$tag.find("input").prop("checked",!1)});else if(!allTagSelected&&!otherTagSelected)this.setSelection("ALL")}},render:function(){var self=this;if(this.$el.empty(),this.$el.append($("<ul>").addClass("brbraitt-catalog-tag-list")),this.showHide(),this.model.on("change",function(){self.updateRender()}),this.model.get("tags"))this.updateRender();else this.showLoading();return this},showLoading:function(){var list=this.$(".brbraitt-catalog-tag-list");list.empty(),list.append($("<li>").text("Loading...").addClass("brbraitt-catalog-tag"))},showHide:function(){if(this.options.shouldShow)if(this.options.shouldShow.call(this))this.$el.show();else this.$el.hide()},updateRender:function(){var self=this;if(this.data=_.values(this.model.get("tags")),"name"==this.options.orderBy)this.data.sort(function(a,b){if("ALL"==a.id)return-1;if("ALL"==b.id)return 1;else return b.name>a.name?-1:1});else if("count"==this.options.orderBy)this.data.sort(function(a,b){if("ALL"==a.id)return-1;if("ALL"==b.id)return 1;if(a.count!=b.count)return b.count-a.count;else return b.name>a.name?-1:1});if(_.each(this.data,function(tag){tag.isAdded=!1}),!this.options.showAllTag)this.data=_.reject(this.data,function(tag){return"ALL"==tag.id});this.showHide();var list=this.$(".brbraitt-catalog-tag-list");if(list.empty(),this.options.header){var li=$("<li>").addClass("brbraitt-catalog-tag").addClass("brbraitt-catalog-tag-all"),div=$("<div>").addClass("brbraitt-catalog-tag-text");div.text(_t(this.options.header)),li.append(div),this.$("ul").append(li)}var allTagsShown=this.addTags(this.options.numToShow);if(!allTagsShown)list.append($("<li>").text("show more").addClass("brbraitt-catalog-tag-showmore"));if(0===list.find("li").length)list.append($("<li>").text("No results.").addClass("brbraitt-catalog-tag"));this.checkSelectionConsistency()},getNumNonzeroTags:function(){var numNonzero=0;return _.each(this.data,function(tag){numNonzero+=0===tag.count?0:1}),numNonzero},addTags:function(num){var self=this,unshown={},tag,i,tagsToAdd=[],numAdded=0;for(i=0;i<this.data.length;i++)if(tag=this.data[i],!tag.isAdded&&(this.options.showEmpty||tag.count>0||"ALL"==tag.id))if(num>numAdded||-1==num)tagsToAdd.push(tag),tag.isAdded=!0,numAdded+=1;else unshown[tag.id]=!0;for(i=0;i<this.data.length;i++)if(tag=this.data[i],!tag.isAdded&&_.has(this.selections,tag.id))if(tagsToAdd.push(tag),tag.isAdded=!0,numAdded+=1,unshown[tag.id])delete unshown[tag.id];return tagsToAdd=_.map(tagsToAdd,function(tag){var tagText=tag.name;if("ALL"==tagText)tagText="All "+self.options.label;var shouldCheck=!1;if(_.has(self.selections,tag.id))shouldCheck=!0;return{id:tag.id,tagText:tagText,tagCount:tag.count,shouldCheck:shouldCheck}}),this.$(".brbraitt-catalog-tag-list").append(template({_t:_t,tags:tagsToAdd})),_.isEmpty(unshown)},addTag:function(tag){},showMore:function(){this.$(".brbraitt-catalog-tag-showmore").remove(),this.addTags(-1),brbraitt.multitracker.push(["user.brbraitt.catalog.tags.showMore",this.options.name])}});return catalogTagListing}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<a href="javascript:void(0);" style="margin-right: 6px;" data-id="1" class="brbraitt-catalog-partners-link"> \n'+jade.escape(null==(jade.interp=_t("Global Partners"))?"":jade.interp)+' <span data-js-count="data-js-count"> (300)</span></a>'+(null==(jade.interp=_t("&middot;"))?"":jade.interp)+'<a href="javascript:void(0);" style="margin-left: 6px;" data-id="2" class="brbraitt-catalog-partners-link"> \n'+jade.escape(null==(jade.interp=_t("US State Institutions"))?"":jade.interp)+' <span data-js-count="data-js-count">(200)</span></a><div style="position: relative; top: 20px; display:none;" class="brbraitt-bubble-wrapper"><div class="brbraitt-bubble-arrow"></div><div class="brbraitt-bubble-arrow-shadow"></div></div>'),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/catalog/catalogPartnerFilter.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.catalog.catalogPartnerFilter"]=jadify(wndw.jade.helpers)}(window),define("pages/home/catalog/nls/catalogPartnerFilter",{root:!0,zh:!0}),define("pages/home/catalog/nls/root/catalogPartnerFilter",{"Global Partners":"Global Partners","&middot;":"&middot;","US State Institutions":"US State Institutions"}),define("pages/home/catalog/catalogPartnerFilter",["jquery","underscore","js/core/brbraitt","backbone","js/lib/util","pages/home/catalog/catalogPartnerFilter.html","i18n!pages/home/catalog/nls/catalogPartnerFilter"],function($,_,brbraitt,Backbone,util,template,template_t){var PARTNER_GLOBAL=1,PARTNER_US=2,catalogPartnerFilter=Backbone.View.extend({events:{"click a":"clickFilter"},initialize:function(){this.selectedId=null,this.selections=[],this.name="ptypes"},clickFilter:function(evt){var id=$(evt.currentTarget).data("id");brbraitt.multitracker.push(["user.brbraitt.catalog.partnerfilter.select",id]),this.setSelection(id),this.trigger("selection",{target:this})},selectFilter:function(){this.$("a").removeClass("active");var $anchor=this.$("a[data-id="+this.selectedId+"]");if($anchor.size()){$anchor.addClass("active");var left=this.$el.offset().left,x=$anchor.offset().left+$anchor.outerWidth()/2-left-10;this.$(".brbraitt-bubble-wrapper").show(),this.$(".brbraitt-bubble-arrow").css({left:x}),this.$(".brbraitt-bubble-arrow-shadow").css({left:x+1})}},clearSelections:function(){this.setSelection(PARTNER_GLOBAL)},setSelection:function(id){this.selectedId=id,this.selections=[id],this.selectFilter()},render:function(){var self=this;if(this.$el.html(template({_t:template_t})),this.model.on("change",function(){self.updateRender()}),this.model.get("tags"))this.updateRender();else this.showLoading();return this},showLoading:function(){this.$("[data-js-count]").text("")},updateRender:function(){var self=this;if(this.data=_.values(this.model.get("tags")),_.each(this.model.get("tags"),function(tag){if(self.$("[data-id="+tag.id+"] span[data-js-count]").text("("+tag.count+")"),0===tag.count&&tag.id==self.selectedId&&tag.id==PARTNER_US)self.setSelection(PARTNER_GLOBAL),self.trigger("selection",{target:self})}),!this.selectedId)this.setSelection(PARTNER_GLOBAL)}});return catalogPartnerFilter.PARTNER_GLOBAL=PARTNER_GLOBAL,catalogPartnerFilter.PARTNER_US=PARTNER_US,catalogPartnerFilter}),!function(){var Affixes=function($,LucidJS,_){var _private={defaults:{"bind.scroll":"scroll","attribute.affix":"data-affix","offset.y":"0","offset.x":"0","class":"affix",preserve:"1","z.index":"1000",debounce:500},getAffix:function(el,options){var affix=$(el).data("affix.me");if(affix&&affix.constructor==Affix.prototype.constructor)if(options)return affix.customize(options);else return affix;else return null},makeAffix:function(el,options){var $el=$(el),affix=_private.getAffix($el);if(!affix)affix=new Affix($el,options),$el.data("affix.me",affix);return affix},readDataAttributes:function($el,prefix,defaults){var settings={};for(var key in defaults){var attr=$el.attr(prefix+key.replace(/\./g,"-"));settings[key]=void 0===attr||0===attr.length?defaults[key]:attr}return settings}},Affix=function(el,settings){this.$el=$(el),this.$parent=this.$el.parent(),this.emitter=LucidJS.emitter(this),this.customize(settings),this.affixed=!1};Affix.prototype.customize=function(settings){return this.options=_.extend({},_private.readDataAttributes(this.$el,_private["attribute.affix"]+"-",_private.defaults),settings),this},Affix.prototype.reposition=function(){if(this.$el.is(":visible")){var scrollHeight=$(document).height(),scrollTop=$(window).scrollTop(),position=this.$el.offset(),height=this.$el.outerHeight(),offsetLeft=parseInt(this.options["offset.x"],10)||0,offsetTop=parseInt(this.options["offset.y"],10)||0;if(!this.affixed&&scrollTop>position.top+offsetTop){if(this.options.preserve)this.restore={display:this.$el.css("display"),"z-index":this.$el.css("z-index"),top:this.$el.css("top"),left:this.$el.css("left"),width:this.$el.css("width")},this.placeholder=$("<"+this.$el.prop("tagName")+">").css({display:"block",top:this.restore.top,left:this.restore.left,width:this.restore.width,height:height,"z-index":0}),this.placeholder.insertBefore(this.$el),this.$el.css({display:"fixed","z-index":this.options["z.index"],top:offsetTop,left:position.left,width:this.$el.width()});this.position=position,this.$el.addClass(this.options["class"]),this.affixed=!0,this.emitter.trigger("pin")}else if(this.affixed&&scrollTop<=this.position.top+offsetTop){if(this.placeholder.remove(),this.$el.removeClass(this.options["class"]),this.options.preserve)this.$el.css(this.restore),this.restore={};this.affixed=!1,this.emitter.trigger("unpin")}}};var external=function(){return _private.getAffix.apply(null,arguments)||_private.makeAffix.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),$domView=view==window?$(document):$view,options=_.extend({},_private.defaults,_options);$view.on(options["bind.scroll"]+".affix",function(){$domView.find("["+options["attribute.affix"]+"]").each(function(){var $affix=$(this);options=_.extend({},options,_private.readDataAttributes($affix,options["attribute.affix"]+"-",_private.defaults));var affix=_private.getAffix($affix,options)||_private.makeAffix($affix,options);affix.reposition()})})},external.stop=function(view){var $view=$(view);$view.unbind(".affix")},external.start(window),external};if("function"==typeof define&&define.amd)define("js/lib/affix",["jquery","js/lib/lucid","underscore"],function($,LucidJS,_){return Affixes($,LucidJS,_)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.Affix=Affixes(window.$,window.LucidJS,window._)}(),define("pages/home/catalog/catalogBody",["jquery","underscore","js/core/brbraitt","pages/home/template/body","pages/home/catalog/catalogBody.html","i18n!pages/home/catalog/nls/catalogBody","pages/home/catalog/catalogListing.html","i18n!pages/home/catalog/nls/catalogListing","i18n!js/json/nls/universities","i18n!js/json/nls/topics","js/models/topicsearch","js/lib/util","pages/home/catalog/catalogTagListing","pages/home/catalog/catalogPartnerFilter","js/models/instructor","js/models/university","js/lib/modals","js/lib/cookie","js/lib/brbraitt.ab","js/lib/affix"],function($,_,brbraitt,body,template,template_t,listingTemplate,listingTemplate_t,universities_t,topics_t,TopicSearch,util,tagListingView,partnerFilterView,Instructor,University,modals,cookie,AB){listingTemplate_t=listingTemplate_t.merge(universities_t,topics_t);var initialLoadMoreThreshold=20,catalogBody2=body.extend({events:{"change .brbraitt-catalog-sort":"updateSort","click .brbraitt-catalog-listing-courselink":"trackLink","click .brbraitt-catalog-listing-instructor a":"onInstructorLinkClick","click .brbraitt-catalog-listing-university a":"onUniLinkClick","click .brbraitt-catalog-list-secondary-sigtrack":"onSigTrackBadgeClick","click .brbraitt-catalog-listing-secondary-inline-enroll-button":"onInlineEnrollClick","click .brbraitt-catalog-load-more-box":"onLoadMoreResultsClick"},initialize:function(){var self=this;this.model=new TopicSearch({haveTagSets:!0,orderby:"upcoming"}),this.model.on("startLoad",this.startLoad,this),this.model.on("finishLoad",this.finishLoad,this),this.model.on("topicLoadError",this.loadError,this);var collection=this.model.get("collection");if(collection.on("reset",this.clearTopics,this),collection.on("reset",this.checkLazyLoad,this),self._partnerFilterView=new partnerFilterView({model:this.model.get("tagSets").ptypes}),self._tagListingViews={},self._orderedTagListingViews=[],self._tagListingViews.stats=new tagListingView({name:"stats",label:"Starting soon",showEmpty:!0,orderBy:"count",model:this.model.get("tagSets").stats,showAllTag:!1}),self._orderedTagListingViews.push(self._tagListingViews.stats),self._tagListingViews.certs=new tagListingView({name:"certs",label:"Eligibilities",header:"Eligible For",numToShow:-1,showEmpty:!0,orderBy:"name",model:this.model.get("tagSets").certs,showAllTag:!1}),self._orderedTagListingViews.push(self._tagListingViews.certs),self._tagListingViews.unis=new tagListingView({name:"unis",label:"Partners",shouldShow:function(){return(this.getNumNonzeroTags()>0||!_.isEmpty(this.selections))&&self.$(".brbraitt-catalog-search").val().length>1},numToShow:6,showEmpty:!1,orderBy:"count",model:this.model.get("tagSets").unis}),self._orderedTagListingViews.push(self._tagListingViews.unis),self._tagListingViews.lngs=new tagListingView({name:"lngs",label:"Languages",numToShow:-1,showEmpty:!0,orderBy:"count",model:this.model.get("tagSets").lngs}),self._orderedTagListingViews.push(self._tagListingViews.lngs),self._tagListingViews.cats=new tagListingView({name:"cats",label:"Categories",numToShow:-1,showEmpty:!0,orderBy:"name",model:this.model.get("tagSets").cats}),self._orderedTagListingViews.push(self._tagListingViews.cats),this.loadMoreThreshold=initialLoadMoreThreshold,this.on("view:appended",this.renderAppended,this),this.on("view:merged",function(initialize){self.readQuery(initialize.query)}),experiment=AB.session.getExperiment("coursecatalog_inline_enroll2"),chosen=experiment.getChosenVariant(),brbraitt.user.get("id")&&"baseline"!=chosen)brbraitt.user.getEnrollmentList(!0).done(function(){self.clearTopics(),self.addTopics()})},onScroll:function(e){var stateSystemsVisible=util.inView(this.$statesystems,0);if(stateSystemsVisible&&this.$statesystems.is(":visible"))this._partnerFilterView.setSelection(partnerFilterView.PARTNER_US);else this._partnerFilterView.setSelection(partnerFilterView.PARTNER_GLOBAL);this.checkLazyLoad()},scrollToPartnerSection:function(e){var partnerView=e.target,$page=$("html, body");if(partnerView.selectedId==partnerFilterView.PARTNER_US)$page.scrollTop(this.$statesystems.offset().top);else $page.scrollTop(0);this._partnerFilterView.setSelection(partnerView.selectedId)},renderAppended:function(){var self=this;document.title="Courses | brbraitt",this.$el.append(template({_t:template_t,config:brbraitt.config})),AB.user.getExperiment("homepage-nux-button").convert("load catalog"),_.each(this._orderedTagListingViews,function(tagSetView){tagSetView.render(),self.$(".brbraitt-catalog-sidebar").append(tagSetView.el),tagSetView.on("selection",self.selection,self),tagSetView.on("selection",self.updateUrl,self)}),self.$(".brbraitt-catalog-partners").append(self._partnerFilterView.render().el),self._partnerFilterView.on("selection",self.scrollToPartnerSection,self),self._partnerFilterView.on("selection",self.updateUrl,self),self._partnerFilterView.selectFilter(),$(window).on("scroll",_.bind(this.onScroll,this)),this.$(".brbraitt-catalog-search").on("keyup input",_.debounce(_.bind(this.updateSearch,this),200)),self.readQuery(self.options.query),brbraitt.multitracker.push(["user.brbraitt.catalog.open",""]),self.$("#search").focus(),self.$toolbar=self.$(".brbraitt-catalog-toolbar"),self.$results=self.$(".brbraitt-catalog-results"),self.$statesystems=self.$(".brbraitt-catalog-listings-statesystems-container"),this.checkLazyLoad()},readQuery:function(query){var self=this;if(query=query||{},_.has(query,"category")&&!_.has(query,"cats"))query.cats=query.category;if(_.each(this._tagListingViews,function(tagSetView){if(tagSetView.clearSelections(),self.model.unset(tagSetView.options.name),query[tagSetView.options.name]){var selections=query[tagSetView.options.name].split(",");_.each(selections,function(selection){tagSetView.setSelection(selection)}),self.model.set(tagSetView.options.name,selections)}}),query.ptypes){var ptype=parseInt(query.ptypes,10);self.model.set("ptypes",[ptype]),self._partnerFilterView.setSelection(ptype)}if(query.search)self.$(".brbraitt-catalog-search").val(query.search),self.model.set("search",query.search);else self.$(".brbraitt-catalog-search").val(""),self.model.unset("search");if(query.orderby)self.$(".brbraitt-catalog-sort").val(query.orderby),self.model.set("orderby",query.orderby)},getQuery:function(){var query="";if(query+="orderby="+this.model.get("orderby"),this.model.get("search"))query+="&search="+this.model.get("search");return _.each(this._tagListingViews,function(tagListView){var name=tagListView.options.name,options=_.keys(tagListView.selections).join(",");if(options&&"ALL"!=options)query+="&"+name+"="+options}),query},updateUrl:function(){var query="courses?"+this.getQuery();brbraitt.router.navigate(query,{trigger:!1,replace:!0})},updateSearch:function(){var search=this.$(".brbraitt-catalog-search").val();if(search)this.model.set("search",search),brbraitt.multitracker.push(["user.brbraitt.catalog.search",search]);else this.model.unset("search");this.model.unset("unis"),this._tagListingViews.unis.clearSelections(),this.updateUrl()},updateSort:function(){var orderby=this.$(".brbraitt-catalog-sort").val();this.model.set("orderby",orderby),brbraitt.multitracker.push(["user.brbraitt.catalog.sort",orderby]),this.updateUrl()},checkLazyLoad:function(){var numLoaded=this.model.get("collection").length,highestInView=0;this.$(".brbraitt-catalog-listings .brbraitt-catalog-course-listing-box").each(function(index,elem){if(util.inView($(elem),0))highestInView=Math.max(highestInView,index+1)});var $loadmore=$(".brbraitt-catalog-load-more-box");if(numLoaded<this.loadMoreThreshold){if($loadmore.hide(),5>numLoaded-highestInView&&!this.model.get("fetchedAllPages"))this.model.fetchPage(),brbraitt.multitracker.push(["user.brbraitt.catalog.loadpage."+numLoaded,this.getQuery()])}else $loadmore.show()},onLoadMoreResultsClick:function(){this.loadMoreThreshold+=20,this.checkLazyLoad(),brbraitt.multitracker.push(["user.click.course-catalog-load-more",this.loadMoreThreshold])},prepareTopicCollection:function(topics){var self=this,enrollmentList=brbraitt.user.get("enrollmentList");return _.chain(topics).filter(function(topic){return 0===self.$(".brbraitt-catalog-course-listing-box[data-topic-id="+topic.get("id")+"]").length}).map(function(topic){if(enrollmentList&&topic.get("open_course")){var topicId=topic.get("id"),matched=_.find(enrollmentList,function(course){return course.course__topic_id===topicId});topic.get("open_course").set("user_is_enrolled",!!matched)}var instructorModels=_.map(topic.get("instructors"),function(i){return new Instructor(i)});instructorModels=_.filter(instructorModels,function(i){return i.shouldDisplay()});var universityModels=_.map(topic.get("universities"),function(u){return new University(u)});return{instructors:instructorModels,universities:universityModels,topic:topic}}).value()},addTopics:function(){var self=this,globalPartners=this.prepareTopicCollection(this.model.get("collection").toArray()),stateSystems=this.prepareTopicCollection(this.model.get("mismatched").ptypes),chosen=AB.session.getExperiment("coursecatalog_inline_enroll2").getChosenVariant(),st_chosen=AB.session.getExperiment("sigtrack_course_catalog_sigtrack_label2").getChosenVariant(),context={_t:listingTemplate_t,config:brbraitt.config,showInlineEnroll:"baseline"===chosen?"":chosen.replace("-yellow",""),yellowBadge:chosen.indexOf("yellow")>=0,st_chosen:"st"===st_chosen};context.topicsInfo=globalPartners,this.$(".brbraitt-catalog-listings").append(listingTemplate(context));var $stateSystemsResults=this.$(".brbraitt-catalog-listings-statesystems");if($stateSystemsResults.children().length+stateSystems.length>0)context.topicsInfo=stateSystems,this.$statesystems.show(),$stateSystemsResults.append(listingTemplate(context));else this.$statesystems.hide()},clearTopics:function(){this.$(".brbraitt-catalog-listings").empty(),this.$(".brbraitt-catalog-listings-statesystems").empty(),this.loadMoreThreshold=initialLoadMoreThreshold},selection:function(evt){var name=evt.target.name,selections=_.isArray(evt.target.selections)?evt.target.selections:_.keys(evt.target.selections);if(selections.length>0)this.model.set(name,selections);else this.model.unset(name)},startLoad:function(){this.$(".brbraitt-catalog-loading-box").show(),this.$(".brbraitt-catalog-noresults-box").hide(),this.$(".brbraitt-catalog-error-box").hide()},finishLoad:function(){if(this.$(".brbraitt-catalog-loading-box").hide(),0===this.model.get("collection").length&&this.model.get("fetchedAllPages")&&_.isEmpty(this.model.get("mismatched")))this.$(".brbraitt-catalog-noresults-box").show(),brbraitt.multitracker.push(["user.brbraitt.catalog.noresults",this.getQuery()]);this.addTopics(),this.checkLazyLoad(),this.trigger("finishLoad")},loadError:function(){this.$(".brbraitt-catalog-loading-box").hide(),this.$(".brbraitt-catalog-error-box").show()},_trackLink:function(e,name){var $target=$(e.currentTarget),href=util.getUrlPath($target.attr("href")),index=$target.parents(".brbraitt-catalog-course-listing-box").index();brbraitt.multitracker.push(["user.click.course-catalog-"+name,{link:href,index:index}])},trackLink:function(evt){this._trackLink(evt,"course-link"),AB.session.getExperiment("coursecatalog_inline_enroll2").convert("click_course_link")},onInstructorLinkClick:function(e){this._trackLink(e,"instructor-link"),AB.session.getExperiment("coursecatalog_inline_enroll2").convert("click_instructor_link")},onUniLinkClick:function(e){this._trackLink(e,"uni-link"),AB.session.getExperiment("coursecatalog_inline_enroll2").convert("click_uni_link")},onSigTrackBadgeClick:function(e){var $box=$(e.currentTarget).parents(".brbraitt-catalog-course-listing-box"),topicId=$box.data("topic-id"),index=$box.index();
brbraitt.multitracker.push(["user.click.course-catalog-sig-track-badge",{topicId:topicId,index:index}]),AB.session.getExperiment("coursecatalog_inline_enroll2").convert("click_sigtrack_badge")},onInlineEnrollClick:function(e){var self=this,$target=$(e.currentTarget),$box=$target.parents(".brbraitt-catalog-course-listing-box"),topicId=$box.data("topic-id"),topic=this.model.get("collection").find(function(topic){return topic.get("id")===topicId}),course=topic&&topic.get("open_course"),courseId=course&&course.get("id"),trackingData={topicId:topicId,courseId:courseId,index:$box.index()};if(course)if($target.hasClass("enrolled"))brbraitt.multitracker.push(["user.click.course-catalog-inline-gotoclass-button",trackingData]),AB.user.getExperiment("improve_list_my2").convert("catalog_gotoclass");else if(brbraitt.user.get("authenticated")){brbraitt.multitracker.push(["user.enroll.course-catalog-inline-enroll-button",trackingData]),$target.attr("disabled","disabled"),$target.find(".enroll-msg").hide();var $loader=$target.find("i");$loader.show();var enrollInSignatureTrack=0;brbraitt.user.enroll(courseId,enrollInSignatureTrack,function(err){if(err)brbraitt.router.trigger("error",500,window.location.href,{message:"failed to enroll user"});else{cookie.clear("just_enrolled"),AB.user.getExperiment("homepage-nux-button").convert("inline-enroll-button"),AB.session.getExperiment("coursecatalog_inline_enroll2").convert("enroll"),AB.user.getExperiment("improve_list_my2").convert("enroll"),$target.removeAttr("disabled").removeClass(function(index,css){return(css.match(/\bbtn-flat-\S+/g)||[]).join(" ")}).addClass("btn-flat-success enrolled"),$loader.hide();var $success=$target.find(".success-msg");$success.show(),setTimeout(function(){$success.fadeOut("fast",function(){if(course.get("active"))$target.attr("href",course.get("home_link")).find(".goto-msg").fadeIn("fast");else $target.attr("href",brbraitt.config.dir.home+"course/"+topic.get("short_name")).find(".starts-msg").fadeIn("fast")})},1e3)}})}else{AB.session.getExperiment("coursecatalog_inline_enroll2").convert("enroll-logged-out"),brbraitt.multitracker.push(["user.enroll.course-catalog-inline-enroll-button-visitor",trackingData]);var signupParams={course_id:courseId,topic_shortname:topic.get("short_name"),topic_name:topic.get("name"),user_action:"enroll"};location.href=util.createAccountsUrl("signup",signupParams)}}});return catalogBody2}),!function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,instructor=locals_.instructor,config=locals_.config,user=locals_.user;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push('<div class="container"><div class="brbraitt-full-canvas"><div class="row-fluid"><div class="span12"><div class="brbraitt-instructor-primary-info"><div class="row-fluid"><div class="span3"><div class="brbraitt-instructor-profile"><div'+jade.attrs({style:"background-image:url("+(instructor.get("photo_150")||config.url.assets+"images/icons/avatar.jpg")+");","class":["brbraitt-instructor-profile-image"]},{style:!0})+'></div><div class="brbraitt-instructor-profile-inner-shadow"></div></div></div><div class="span6"><div class="brbraitt-instructor-basic-info"><h1 class="brbraitt-instructor-name">'+jade.escape(null==(jade.interp=_t(instructor.getDecoratedName()))?"":jade.interp)+'</h1><h2 class="brbraitt-instructor-position-details">'+jade.escape(null==(jade.interp=_t(instructor.get("title")))?"":jade.interp)+'</h2><h2 class="brbraitt-instructor-position-details">'+jade.escape(null==(jade.interp=_t(instructor.get("department")))?"":jade.interp)+'</h2><span class="brbraitt-instructor-university-section"></span></div></div><div class="span3">'),user.canEditInstructorProfile(instructor))buf.push('<div class="brbraitt-edit-page"><span class="brbraitt-edit-page-button">'+jade.escape(null==(jade.interp=_t("Admins only:"))?"":jade.interp)+"</span><a"+jade.attrs({target:"_blank",href:config.dir.home+"admin/data/instructorprofiles/"+instructor.get("id")},{target:!0,href:!0})+'><span class="icon-cog"> '+jade.escape(null==(jade.interp=_t("Edit Page"))?"":jade.interp)+"</span></a></div>");if(buf.push('<div class="brbraitt-instructor-external-links"><ul class="unstyled">'),instructor.get("website"))buf.push('<li><span class="icon-globe"></span><a'+jade.attrs({href:instructor.get("website"),target:"_blank"},{href:!0,target:!0})+">  "+jade.escape(null==(jade.interp=_t(instructor.getPrettyWebsiteUrl()))?"":jade.interp)+" </a></li>");if(instructor.get("website_twitter"))buf.push('<li><span class="icon-twitter"></span><a'+jade.attrs({href:"http://twitter.com/"+instructor.get("website_twitter"),target:"_blank"},{href:!0,target:!0})+">  "+jade.escape(null==(jade.interp=_t(instructor.get("website_twitter")))?"":jade.interp)+"</a></li>");if(instructor.get("website_facebook"))buf.push('<li><span class="icon-facebook"></span><a'+jade.attrs({href:"http://facebook.com/"+instructor.get("website_facebook"),target:"_blank"},{href:!0,target:!0})+">  "+jade.escape(null==(jade.interp=_t(instructor.get("website_facebook")))?"":jade.interp)+"</a></li>");if(instructor.get("website_linkedin"))buf.push('<li><span class="icon-linkedin"></span><a'+jade.attrs({href:"http://linkedin.com/in/"+instructor.get("website_linkedin"),target:"_blank"},{href:!0,target:!0})+">  "+jade.escape(null==(jade.interp=_t(instructor.get("website_linkedin")))?"":jade.interp)+"</a></li>");return buf.push('</ul></div></div></div></div></div></div><hr class="brbraitt-full-page-divider"/><div class="row-fluid"><div class="span12"><div class="brbraitt-instructor-secondary-info"><div class="row-fluid"><div class="span9"><div dir="auto" class="brbraitt-instructor-bio">'+(null==(jade.interp=_t(instructor.get("bio")))?"":jade.interp)+'</div></div><div class="span3 brbraitt-instructor-courses brbraitt-instructor-topic-section"></div></div></div></div></div></div></div>'),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/instructor/instructorProfileViewer.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.instructor.instructorProfileViewer"]=jadify(wndw.jade.helpers)}(window),define("pages/home/instructor/nls/instructorProfileViewer",{root:!0,zh:!0}),define("pages/home/instructor/nls/root/instructorProfileViewer",{"Admins only:":"Admins only:","Edit Page":"Edit Page"}),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,university=locals_.university,config=locals_.config;return _t="undefined"!=typeof _t?_t:function(s){return s},buf.push("<a"+jade.attrs({href:university.home_link||config.dir.home+university.short_name,"class":[university.home_link?"":"internal-home"]},{href:!0,"class":!0})+'><h2 class="brbraitt-instructor-position-details">'+jade.escape(null==(jade.interp=_t(university.name))?"":jade.interp)+"</h2></a>"),buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/instructor/instructorProfileUniversity.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.instructor.instructorProfileUniversity"]=jadify(wndw.jade.helpers)}(window),function(wndw){var jadify=function(jade){return function anonymous(locals){var buf=[],locals_=locals||{},_t=locals_._t,topic=locals_.topic;if(_t="undefined"!=typeof _t?_t:function(s){return s},buf.push("<a"+jade.attrs({href:topic.get("social_link"),"class":["internal-home"]},{href:!0,"class":!0})+"><img"+jade.attrs({src:topic.get("small_icon"),alt:"Icon for "+topic.get("name")},{src:!0,alt:!0})+'/><span class="brbraitt-instructor-course-name">'+jade.escape(null==(jade.interp=_t(topic.get("name")))?"":jade.interp)+"</span></a>"),topic.get("open_course"))buf.push('<span class="brbraitt-instructor-course-date">'+jade.escape(null==(jade.interp=_t(topic.get("open_course").getStartDisplay()))?"":jade.interp)+"</span>");else buf.push('<span class="brbraitt-instructor-course-date">'+jade.escape(null==(jade.interp=_t("Date to be announced."))?"":jade.interp)+"</span>");return buf.join("")}};if("function"==typeof define&&define.amd)define("pages/home/instructor/instructorProfileTopic.html",["js/lib/jade"],function(jade){return jadify(jade)});else wndw.jade.templates["pages.home.instructor.instructorProfileTopic"]=jadify(wndw.jade.helpers)}(window),define("pages/home/instructor/nls/instructorProfileTopic",{root:!0,zh:!0}),define("pages/home/instructor/nls/root/instructorProfileTopic",{"Date to be announced.":"Date to be announced."}),define("pages/home/instructor/instructorProfileViewer",["pages/home/template/body","js/core/brbraitt","underscore","pages/home/instructor/instructorProfileViewer.html","i18n!pages/home/instructor/nls/instructorProfileViewer","js/models/instructor","pages/home/instructor/instructorProfileUniversity.html","pages/home/instructor/instructorProfileTopic.html","i18n!pages/home/instructor/nls/instructorProfileTopic","js/lib/util","js/lib/metatags"],function(body,brbraitt,_,template,template_t,Instructor,universityTemplate,topicTemplate,topicTemplate_t,util,metatags){var instructorProfileViewer=body.extend({initialize:function(){this.instructor=new Instructor({profile_id:this.options.profile_id,short_name:this.options.short_name})},events:{},render:function(){var self=this;return self.instructor.sync(function(err){if(err)return brbraitt.router.trigger("error",err,location.href),void 0;metatags.share(self.instructor.getDecoratedName(),self.instructor.get("photo_150"),self.instructor.get("bio"),window.location.href),document.title=self.instructor.get("full_name")+" | brbraitt",self.$el.append(template({_t:template_t,instructor:self.instructor,config:brbraitt.config,user:brbraitt.user,_:_}));var $bioEl=self.$(".brbraitt-instructor-bio");if(_.each(self.instructor.get("universities"),function(university){self.$(".brbraitt-instructor-university-section").append(universityTemplate({university:university,config:brbraitt.config}))}),self.instructor.get("topics").each(function(topic){if(topic.get("display"))self.$(".brbraitt-instructor-topic-section").append(topicTemplate({_t:topicTemplate_t,topic:topic}))}),self.instructor.get("universities").length>0){var universityColor=self.instructor.get("universities")[0].primary_color;self.$("a").css("color",universityColor)}}),self}});return instructorProfileViewer}),define("pages/home/routes",["jquery","underscore","backbone","pages/home/app","js/core/config","js/models/user","js/collections/topics","js/models/university","js/models/topic","js/collections/courses","js/lib/cookie","js/lib/util","pages/home/models/user.json","js/lib/third-parties","js/lib/backbone.queryparams","pages/home/template/page","pages/home/template/banner","pages/home/template/footer","pages/home/template/header","pages/home/front/frontSearchBanner","pages/home/front/frontBody","pages/home/front/frontCourse","pages/error/errorBody","pages/home/account/settings","pages/home/account/signedIn","pages/home/course/courseBody","pages/home/account/courseList","pages/home/catalog/catalogBody","pages/home/instructor/instructorProfileViewer"],function($,_,Backbone,brbraitt,config,User,Topics,University,Topic,Courses,cookie,util,UserJSON){function showCourseDashboard(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/courseList":{id:"account"}}}}})}function showLoggedInWelcome(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/frontBody":{id:"listings"}},banner:{"pages/home/account/welcomeBanner":{id:"welcome"}}}}})}function showLoggedOutWelcome(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/frontBody":{id:"listings"}}}}})}function handleUniversity(id,query){var self=this;brbraitt.api.get("university/information",{data:{"university-id":id}}).fail(function(xhr){if(404==xhr.status)brbraitt.router.trigger("error",404,location.href,{message:"this page does not exist"});else if(500==xhr.status)brbraitt.router.trigger("error",500,location.href,{message:"backend server has seen an error"});else if(403==xhr.status&&!brbraitt.user.get("authenticated"))brbraitt.router.navigate("/account/signin?r="+location.href,{trigger:!0,replace:!0});else if(403==xhr.status)brbraitt.router.trigger("error",403,location.href,{message:"you do not have permission to view this page"})}).done(function(data){var university=new University(data),topics=university.get("topics"),home_link=university.get("home_link");if(home_link)window.location.href=home_link;else brbraitt.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"plain",initialize:{universityPartnerType:university.get("partner_type")}}},body:{"pages/home/university/universityPage":{initialize:{university:university,topics:topics},id:"university-"+id}}}}})})}var routes={},home=config.dir.home.replace(/^\//,""),testableRoutes={};return routes["*id"]=function(id,query){if(/^[a-z0-9.\-]+$/.test(id))handleUniversity(id,query);else brbraitt.router.trigger("error",404)},routes[home]=function(){if(brbraitt.user.get("authenticated"))showCourseDashboard();else showLoggedOutWelcome()},routes[home+"_=_"]=function(){this.navigate(config.dir.home,!0)},routes[home+"welcome"]=function(){showLoggedOutWelcome()},routes[home+"account/profile"]=function(){if(brbraitt.user.get("authenticated"))brbraitt.user.getTopics().done(function(){brbraitt.user.resync(function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/profileEditor":{id:"account"}}}}})})});else this.navigate(config.dir.home,!0)},routes[home+"account/settings"]=function(){if(brbraitt.user.get("authenticated"))brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/settings":{id:"account"}}}}});else this.navigate(config.dir.home,!0)},routes[home+"account/settings/signature"]=function(query){if(brbraitt.user.get("authenticated"))brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/settingsSignature":{id:"account-sigtrack-records",initialize:{status:query?query.status:""}}}}}});else this.navigate(config.dir.home,!0)},routes[home+"account/records"]=function(query){if(brbraitt.user.get("authenticated"))brbraitt.user.getTopics(!0).done(function(topics){brbraitt.user.resync(function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/courseRecords":{id:"account-records",initialize:{show_all:query&&query.show_all?!0:!1}}}}}})})});else this.navigate(config.dir.home,!0)},routes[home+"account/placement"]=function(){location.href="/account/careerservices"},routes[home+"account/placement/faq"]=function(){location.href="/account/careerservices/faq"},routes[home+"account/careerservices"]=function(){if(brbraitt.user.get("authenticated"))brbraitt.user.getTopics().done(function(topics){brbraitt.user.resync(function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/placement":{id:"account-placement"}}}}})})});else this.navigate(config.dir.home+"account/signin?r=/account/careerservices",!0)},routes[home+"account/careerservices/faq"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/placementFAQ":{id:"account-placement-faq"}}}}})},routes[home+"account/logout"]=function(){brbraitt.api.get("user/logout").done(function(){brbraitt.user.logout(),brbraitt.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"header-logout"}},body:{"pages/home/front/frontBody":{id:"listings"}},banner:{"pages/home/account/logoutBanner":{id:"logout"}}}}})})},routes[home+"about"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/aboutBody":{id:"about"}}}}})},routes[home+"about/faq"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/faqBody":{id:"faq"}}}}})},routes[home+"about/terms/:section"]=function(section){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/tosBody":{initialize:{section:section}}}}}})},routes[home+"about/community"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:"pages/home/about/communityBody"}}})},routes[home+"about/terms"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:"pages/home/about/tosBody"}}})},routes[home+"about/jobs"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/jobsBody":{id:"jobs"}}}}})},routes[home+"about/jobs/:id"]=function(id){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/jobBody":{id:"job-"+id,initialize:{jobId:id}}}}}})},routes[home+"about/team"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/teamBody":{id:"team"}}}}})},routes[home+"about/pedagogy"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/pedagogyBody":{id:"pedagogy"}}}}})},routes[home+"about/founders"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/foundersBody":{id:"founders"}}}}})},routes[home+"about/contact"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/contactBody":{id:"contact"}}}}})},routes[home+"about/press"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/pressBody":{id:"press"}}}}})},routes[home+"about/howitworks"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/howitworksBody":{id:"howitworks"}}}}})},routes[home+"about/programs"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/programsBody":{id:"programs"}}}}})},routes[home+"courses"]=function(query){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/catalog/catalogBody":{id:"catalog",initialize:{query:query}}}}}})},routes[home+"universities"]=function(){brbraitt.router.navigate(home+"partners",!0)},routes[home+"partners"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/universities/universitiesBody":{id:"partners-all"}}}}})},routes[home+"partners/:partner_type"]=function(partner_type){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/universities/universitiesBody":{initialize:{partner_type:partner_type},id:"partners-"+partner_type}}}}})},routes[home+"courses/browse"]=function(){routes[home+"courses"]()},routes[home+"about/honorcode"]=function(){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/honorBody":{id:"honor"}},banner:{"pages/home/about/honorBanner":{id:"honor"}},header:{"pages/home/template/header":{id:"plain",initialize:{plain:!0}}}}}})},routes[home+"account/signin"]=function(params){if(!brbraitt.user.get("authenticated"))location.href=util.createAccountsUrl("signin",params);else routes[home+"account/signedin"](params)},testableRoutes["account/signin"]=routes[home+"account/signin"],routes[home+"account/signup"]=function(params){if(!brbraitt.user.get("authenticated"))location.href=util.createAccountsUrl("signup",params);else routes[home+"account/signedin"](params)},testableRoutes["account/signup"]=routes[home+"account/signup"],routes[home+"account/signedin"]=function(params){brbraitt.region.open({"pages/home/account/signedIn":{id:"signup",initialize:{params:params}}})},testableRoutes["account/signedin"]=routes[home+"account/signedin"],routes[home+"account/signedup"]=function(params){if(void 0===params)params={registered:"1"};else params.registered="1";routes[home+"account/signedin"](params)},routes[home+"account/reset"]=function(){if(!brbraitt.user.get("authenticated"))location.href=util.createAccountsUrl("reset");else this.navigate(config.dir.home,!0)},routes[home+"error/:id"]=function(id){var status=parseInt(id,10);if(_.isNumber(status)&&status>=300&&500>=status)brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/error/errorBody":{id:"error",initialize:{status:status}}}}}});else brbraitt.router.trigger("error",404,location.href)},routes[home+"course/:shortName"]=function(shortName,query){var self=this,topic=Topic.getByShortName(shortName);topic.sync(function(err){if(err)util.handleAPIError(err,location.href);else{var university=topic.get("universities")&&topic.get("universities")[0],universityPartnerType=university&&university.partner_type;if(brbraitt.multitracker.push(["Course Description","Open"]),query&&2==query.preview_redesign)brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/course/courseBody2":{initialize:{model:topic,query:query},id:"course-"+topic.get("id")}}},initialize:{model:topic}}});else brbraitt.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"plain",initialize:{plain:!0,universityPartnerType:universityPartnerType}}},footer:{"pages/home/template/footer":{id:"plain",initialize:{plain:!0}}},body:{"pages/home/course/courseBody":{initialize:{model:topic,query:query},id:"course-"+topic.get("id")}}},initialize:{model:topic}}})}})},routes[home+"universitypreview/:id"]=function(id,query){handleUniversity(id,query)},routes[home+"user/i/:id"]=function(id){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/profileViewer":{initialize:{id:id},id:"user-"+id}}}}})},routes[home+"instructor/:id"]=function(id){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/instructor/instructorProfileViewer":{initialize:{short_name:id},id:"instructor-"+id}}}}})},routes[home+"instructor/~:id"]=function(id){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/instructor/instructorProfileViewer":{initialize:{profile_id:id},id:"instructor-byid-"+id}}}}})},routes[home+"category/:id"]=function(id){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/catalog/catalogBody":{initialize:{query:{cats:id}},id:"category-"+id}}}}})},routes[home+"about/changelog"]=function(id){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/support/changelogBody":{id:"changelog"}}}}})},routes[home+"about/reporter"]=function(query){brbraitt.region.open({"pages/home/template/page":{regions:{body:{"pages/home/support/HomeReporterView":{id:"reporter",initialize:{area:query&&query.area,problem:query&&query.problem,title:query&&query.title,url:query&&query.url}}}}}})},routes[home+"account/contacts/:provider"]=function(provider,params){var lochash=location.hash.substr(1),access_token=lochash.substr(lochash.indexOf("access_token=")).split("&")[0].split("=")[1];if(void 0===params)params={};params=_.extend(params,{access_token:access_token}),window.opener.oauthCallback(params,provider),window.close()},brbraitt.router.on("error",function(code,url,message){brbraitt.multitracker.push(["page.error",{code:code,url:url||location.href,message:message||""}]),routes[home+"error/:id"](code)}),brbraitt.router.setupLinks(brbraitt.config.url.base,"internal-home"),brbraitt.router.addRoutes(routes),Backbone.history.on("route",function(evt,route,args){var query=args[args.length-1];if(query&&query.ref)if("linked_lecture"==query.ref&&query.ref_cid){var courseId=query.ref_cid;brbraitt.multitracker.push(["user.referred.linkedLecture",courseId.toString()]),cookie.set("linked_lecture",courseId,{expires:1})}}),$(document).ready(function(){if(brbraitt.user=new User,brbraitt.multitracker.get("204").queue.push(["client","home"]),!_.isEmpty(UserJSON))brbraitt.user.login(UserJSON);if(brbraitt.user.get("authenticated"))brbraitt.multitracker.get("204").queue.push(["user",brbraitt.user.get("id")]);if(!Backbone.history.start({pushState:!0}))brbraitt.router.trigger("error",404)}),routes});